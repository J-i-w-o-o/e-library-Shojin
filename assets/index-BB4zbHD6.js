var zr=Object.defineProperty;var $r=(i,e,s)=>e in i?zr(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var dn=(i,e,s)=>($r(i,typeof e!="symbol"?e+"":e,s),s),As=(i,e,s)=>{if(!e.has(i))throw TypeError("Cannot "+s)};var at=(i,e,s)=>(As(i,e,"read from private field"),s?s.call(i):e.get(i)),Mt=(i,e,s)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,s)},Xt=(i,e,s,o)=>(As(i,e,"write to private field"),o?o.call(i,s):e.set(i,s),s);var ns=(i,e,s,o)=>({set _(a){Xt(i,e,a,s)},get _(){return at(i,e,o)}}),Nt=(i,e,s)=>(As(i,e,"access private method"),s);function _mergeNamespaces(i,e){for(var s=0;s<e.length;s++){const o=e[s];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in i)){const c=Object.getOwnPropertyDescriptor(o,a);c&&Object.defineProperty(i,a,c.get?c:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}})();function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var s=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var a=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:function(){return i[o]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(i){return i===null||typeof i!="object"?null:(i=z$1&&i[z$1]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,e,s){this.props=i,this.context=e,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,e){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,e,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,e,s){this.props=i,this.context=e,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,e,s){var o,a={},c=null,d=null;if(e!=null)for(o in e.ref!==void 0&&(d=e.ref),e.key!==void 0&&(c=""+e.key),e)J.call(e,o)&&!L$1.hasOwnProperty(o)&&(a[o]=e[o]);var h=arguments.length-2;if(h===1)a.children=s;else if(1<h){for(var g=Array(h),_=0;_<h;_++)g[_]=arguments[_+2];a.children=g}if(i&&i.defaultProps)for(o in h=i.defaultProps,h)a[o]===void 0&&(a[o]=h[o]);return{$$typeof:l$1,type:i,key:c,ref:d,props:a,_owner:K$1.current}}function N$1(i,e){return{$$typeof:l$1,type:i.type,key:e,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$1}function escape$1(i){var e={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(s){return e[s]})}var P$1=/\/+/g;function Q$1(i,e){return typeof i=="object"&&i!==null&&i.key!=null?escape$1(""+i.key):e.toString(36)}function R$1(i,e,s,o,a){var c=typeof i;(c==="undefined"||c==="boolean")&&(i=null);var d=!1;if(i===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(i.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=i,a=a(d),i=o===""?"."+Q$1(d,0):o,I$1(a)?(s="",i!=null&&(s=i.replace(P$1,"$&/")+"/"),R$1(a,e,s,"",function(_){return _})):a!=null&&(O$1(a)&&(a=N$1(a,s+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(P$1,"$&/")+"/")+i)),e.push(a)),1;if(d=0,o=o===""?".":o+":",I$1(i))for(var h=0;h<i.length;h++){c=i[h];var g=o+Q$1(c,h);d+=R$1(c,e,s,g,a)}else if(g=A$1(i),typeof g=="function")for(i=g.call(i),h=0;!(c=i.next()).done;)c=c.value,g=o+Q$1(c,h++),d+=R$1(c,e,s,g,a);else if(c==="object")throw e=String(i),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(i,e,s){if(i==null)return i;var o=[],a=0;return R$1(i,o,"","",function(c){return e.call(s,c,a++)}),o}function T$1(i){if(i._status===-1){var e=i._result;e=e(),e.then(function(s){(i._status===0||i._status===-1)&&(i._status=1,i._result=s)},function(s){(i._status===0||i._status===-1)&&(i._status=2,i._result=s)}),i._status===-1&&(i._status=0,i._result=e)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(i,e,s){S$1(i,function(){e.apply(this,arguments)},s)},count:function(i){var e=0;return S$1(i,function(){e++}),e},toArray:function(i){return S$1(i,function(e){return e})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(i,e,s){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var o=C$1({},i.props),a=i.key,c=i.ref,d=i._owner;if(e!=null){if(e.ref!==void 0&&(c=e.ref,d=K$1.current),e.key!==void 0&&(a=""+e.key),i.type&&i.type.defaultProps)var h=i.type.defaultProps;for(g in e)J.call(e,g)&&!L$1.hasOwnProperty(g)&&(o[g]=e[g]===void 0&&h!==void 0?h[g]:e[g])}var g=arguments.length-2;if(g===1)o.children=s;else if(1<g){h=Array(g);for(var _=0;_<g;_++)h[_]=arguments[_+2];o.children=h}return{$$typeof:l$1,type:i.type,key:a,ref:c,props:o,_owner:d}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var e=M$1.bind(null,i);return e.type=i,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$1,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,e){return{$$typeof:x,type:i,compare:e===void 0?null:e}};react_production_min.startTransition=function(i){var e=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(i,e){return U$1.current.useCallback(i,e)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,e){return U$1.current.useEffect(i,e)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,e,s){return U$1.current.useImperativeHandle(i,e,s)};react_production_min.useInsertionEffect=function(i,e){return U$1.current.useInsertionEffect(i,e)};react_production_min.useLayoutEffect=function(i,e){return U$1.current.useLayoutEffect(i,e)};react_production_min.useMemo=function(i,e){return U$1.current.useMemo(i,e)};react_production_min.useReducer=function(i,e,s){return U$1.current.useReducer(i,e,s)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,e,s){return U$1.current.useSyncExternalStore(i,e,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(i,e,s){var o,a={},c=null,d=null;s!==void 0&&(c=""+s),e.key!==void 0&&(c=""+e.key),e.ref!==void 0&&(d=e.ref);for(o in e)m$1.call(e,o)&&!p$1.hasOwnProperty(o)&&(a[o]=e[o]);if(i&&i.defaultProps)for(o in e=i.defaultProps,e)a[o]===void 0&&(a[o]=e[o]);return{$$typeof:k,type:i,key:c,ref:d,props:a,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(wt,Lt){var Yt=wt.length;wt.push(Lt);e:for(;0<Yt;){var tn=Yt-1>>>1,rn=wt[tn];if(0<a(rn,Lt))wt[tn]=Lt,wt[Yt]=rn,Yt=tn;else break e}}function s(wt){return wt.length===0?null:wt[0]}function o(wt){if(wt.length===0)return null;var Lt=wt[0],Yt=wt.pop();if(Yt!==Lt){wt[0]=Yt;e:for(var tn=0,rn=wt.length,At=rn>>>1;tn<At;){var ut=2*(tn+1)-1,pt=wt[ut],ht=ut+1,vt=wt[ht];if(0>a(pt,Yt))ht<rn&&0>a(vt,pt)?(wt[tn]=vt,wt[ht]=Yt,tn=ht):(wt[tn]=pt,wt[ut]=Yt,tn=ut);else if(ht<rn&&0>a(vt,Yt))wt[tn]=vt,wt[ht]=Yt,tn=ht;else break e}}return Lt}function a(wt,Lt){var Yt=wt.sortIndex-Lt.sortIndex;return Yt!==0?Yt:wt.id-Lt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var g=[],_=[],b=1,j=null,$=3,et=!1,_e=!1,nt=!1,st=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ot(wt){for(var Lt=s(_);Lt!==null;){if(Lt.callback===null)o(_);else if(Lt.startTime<=wt)o(_),Lt.sortIndex=Lt.expirationTime,e(g,Lt);else break;Lt=s(_)}}function ct(wt){if(nt=!1,ot(wt),!_e)if(s(g)!==null)_e=!0,It(rt);else{var Lt=s(_);Lt!==null&&zt(ct,Lt.startTime-wt)}}function rt(wt,Lt){_e=!1,nt&&(nt=!1,tt(gt),gt=-1),et=!0;var Yt=$;try{for(ot(Lt),j=s(g);j!==null&&(!(j.expirationTime>Lt)||wt&&!_t());){var tn=j.callback;if(typeof tn=="function"){j.callback=null,$=j.priorityLevel;var rn=tn(j.expirationTime<=Lt);Lt=i.unstable_now(),typeof rn=="function"?j.callback=rn:j===s(g)&&o(g),ot(Lt)}else o(g);j=s(g)}if(j!==null)var At=!0;else{var ut=s(_);ut!==null&&zt(ct,ut.startTime-Lt),At=!1}return At}finally{j=null,$=Yt,et=!1}}var lt=!1,mt=null,gt=-1,ft=5,yt=-1;function _t(){return!(i.unstable_now()-yt<ft)}function kt(){if(mt!==null){var wt=i.unstable_now();yt=wt;var Lt=!0;try{Lt=mt(!0,wt)}finally{Lt?Ot():(lt=!1,mt=null)}}else lt=!1}var Ot;if(typeof it=="function")Ot=function(){it(kt)};else if(typeof MessageChannel<"u"){var St=new MessageChannel,Dt=St.port2;St.port1.onmessage=kt,Ot=function(){Dt.postMessage(null)}}else Ot=function(){st(kt,0)};function It(wt){mt=wt,lt||(lt=!0,Ot())}function zt(wt,Lt){gt=st(function(){wt(i.unstable_now())},Lt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(wt){wt.callback=null},i.unstable_continueExecution=function(){_e||et||(_e=!0,It(rt))},i.unstable_forceFrameRate=function(wt){0>wt||125<wt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<wt?Math.floor(1e3/wt):5},i.unstable_getCurrentPriorityLevel=function(){return $},i.unstable_getFirstCallbackNode=function(){return s(g)},i.unstable_next=function(wt){switch($){case 1:case 2:case 3:var Lt=3;break;default:Lt=$}var Yt=$;$=Lt;try{return wt()}finally{$=Yt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(wt,Lt){switch(wt){case 1:case 2:case 3:case 4:case 5:break;default:wt=3}var Yt=$;$=wt;try{return Lt()}finally{$=Yt}},i.unstable_scheduleCallback=function(wt,Lt,Yt){var tn=i.unstable_now();switch(typeof Yt=="object"&&Yt!==null?(Yt=Yt.delay,Yt=typeof Yt=="number"&&0<Yt?tn+Yt:tn):Yt=tn,wt){case 1:var rn=-1;break;case 2:rn=250;break;case 5:rn=1073741823;break;case 4:rn=1e4;break;default:rn=5e3}return rn=Yt+rn,wt={id:b++,callback:Lt,priorityLevel:wt,startTime:Yt,expirationTime:rn,sortIndex:-1},Yt>tn?(wt.sortIndex=Yt,e(_,wt),s(g)===null&&wt===s(_)&&(nt?(tt(gt),gt=-1):nt=!0,zt(ct,Yt-tn))):(wt.sortIndex=rn,e(g,wt),_e||et||(_e=!0,It(rt))),wt},i.unstable_shouldYield=_t,i.unstable_wrapCallback=function(wt){var Lt=$;return function(){var Yt=$;$=Lt;try{return wt.apply(this,arguments)}finally{$=Yt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(i){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+i,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+i+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,e){ha(i,e),ha(i+"Capture",e)}function ha(i,e){for(ea[i]=e,i=0;i<e.length;i++)da.add(e[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,e,s,o){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:s!==null?!s.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,e,s,o){if(e===null||typeof e>"u"||pa(i,e,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v(i,e,s,o,a,c,d){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=i,this.type=e,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var e=i[0];z[e]=new v(e,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var e=i.replace(ra,sa);z[e]=new v(e,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var e=i.replace(ra,sa);z[e]=new v(e,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var e=i.replace(ra,sa);z[e]=new v(e,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,e,s,o){var a=z.hasOwnProperty(e)?z[e]:null;(a!==null?a.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,s,a,o)&&(s=null),o||a===null?oa(e)&&(s===null?i.removeAttribute(e):i.setAttribute(e,""+s)):a.mustUseProperty?i[a.propertyName]=s===null?a.type===3?!1:"":s:(e=a.attributeName,o=a.attributeNamespace,s===null?i.removeAttribute(e):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,o?i.setAttributeNS(o,e,s):i.setAttribute(e,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+i}var Na=!1;function Oa(i,e){if(!i||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(_){var o=_}Reflect.construct(i,[],e)}else{try{e.call()}catch(_){o=_}i.call(e.prototype)}else{try{throw Error()}catch(_){o=_}i()}}catch(_){if(_&&o&&typeof _.stack=="string"){for(var a=_.stack.split(`
`),c=o.stack.split(`
`),d=a.length-1,h=c.length-1;1<=d&&0<=h&&a[d]!==c[h];)h--;for(;1<=d&&0<=h;d--,h--)if(a[d]!==c[h]){if(d!==1||h!==1)do if(d--,h--,0>h||a[d]!==c[h]){var g=`
`+a[d].replace(" at new "," at ");return i.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",i.displayName)),g}while(1<=d&&0<=h);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var e=i.render;return i=i.displayName,i||(i=e.displayName||e.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return e=i.displayName||null,e!==null?e:Qa(i.type)||"Memo";case Ha:e=i._payload,i=i._init;try{return Qa(i(e))}catch{}}return null}function Ra(i){var e=i.type;switch(i.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=e.render,i=i.displayName||i.name||"",e.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var e=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(i){var e=Ta(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,e),o=""+i[e];if(!i.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,c=s.set;return Object.defineProperty(i,e,{configurable:!0,get:function(){return a.call(this)},set:function(d){o=""+d,c.call(this,d)}}),Object.defineProperty(i,e,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){i._valueTracker=null,delete i[e]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var e=i._valueTracker;if(!e)return!0;var s=e.getValue(),o="";return i&&(o=Ta(i)?i.checked?"true":"false":i.value),i=o,i!==s?(e.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,e){var s=e.checked;return A({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??i._wrapperState.initialChecked})}function Za(i,e){var s=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;s=Sa(e.value!=null?e.value:s),i._wrapperState={initialChecked:o,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(i,e){e=e.checked,e!=null&&ta(i,"checked",e,!1)}function bb(i,e){ab(i,e);var s=Sa(e.value),o=e.type;if(s!=null)o==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+s):i.value!==""+s&&(i.value=""+s);else if(o==="submit"||o==="reset"){i.removeAttribute("value");return}e.hasOwnProperty("value")?cb(i,e.type,s):e.hasOwnProperty("defaultValue")&&cb(i,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(i.defaultChecked=!!e.defaultChecked)}function db(i,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+i._wrapperState.initialValue,s||e===i.value||(i.value=e),i.defaultValue=e}s=i.name,s!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,s!==""&&(i.name=s)}function cb(i,e,s){(e!=="number"||Xa(i.ownerDocument)!==i)&&(s==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+s&&(i.defaultValue=""+s))}var eb=Array.isArray;function fb(i,e,s,o){if(i=i.options,e){e={};for(var a=0;a<s.length;a++)e["$"+s[a]]=!0;for(s=0;s<i.length;s++)a=e.hasOwnProperty("$"+i[s].value),i[s].selected!==a&&(i[s].selected=a),a&&o&&(i[s].defaultSelected=!0)}else{for(s=""+Sa(s),e=null,a=0;a<i.length;a++){if(i[a].value===s){i[a].selected=!0,o&&(i[a].defaultSelected=!0);return}e!==null||i[a].disabled||(e=i[a])}e!==null&&(e.selected=!0)}}function gb(i,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},e,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(p(92));if(eb(s)){if(1<s.length)throw Error(p(93));s=s[0]}e=s}e==null&&(e=""),s=e}i._wrapperState={initialValue:Sa(s)}}function ib(i,e){var s=Sa(e.value),o=Sa(e.defaultValue);s!=null&&(s=""+s,s!==i.value&&(i.value=s),e.defaultValue==null&&i.defaultValue!==s&&(i.defaultValue=s)),o!=null&&(i.defaultValue=""+o)}function jb(i){var e=i.textContent;e===i._wrapperState.initialValue&&e!==""&&e!==null&&(i.value=e)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,e){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(e):i==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,o,a){MSApp.execUnsafeLocalFunction(function(){return i(e,s,o,a)})}:i}(function(i,e){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;e.firstChild;)i.appendChild(e.firstChild)}});function ob(i,e){if(e){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=e;return}}i.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(e){e=e+i.charAt(0).toUpperCase()+i.substring(1),pb[e]=pb[i]})});function rb(i,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||pb.hasOwnProperty(i)&&pb[i]?(""+e).trim():e+"px"}function sb(i,e){i=i.style;for(var s in e)if(e.hasOwnProperty(s)){var o=s.indexOf("--")===0,a=rb(s,e[s],o);s==="float"&&(s="cssFloat"),o?i.setProperty(s,a):i[s]=a}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,e){if(e){if(tb[i]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p(137,i));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p(62))}}function vb(i,e){if(i.indexOf("-")===-1)return typeof e.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p(280));var e=i.stateNode;e&&(e=Db(e),yb(i.stateNode,i.type,e))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,e=Ab;if(Ab=zb=null,Bb(i),e)for(i=0;i<e.length;i++)Bb(e[i])}}function Gb(i,e){return i(e)}function Hb(){}var Ib=!1;function Jb(i,e,s){if(Ib)return i(e,s);Ib=!0;try{return Gb(i,e,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,e){var s=i.stateNode;if(s===null)return null;var o=Db(s);if(o===null)return null;s=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(i=i.type,o=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!o;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(p(231,e,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,e,s,o,a,c,d,h,g){var _=Array.prototype.slice.call(arguments,3);try{e.apply(s,_)}catch(b){this.onError(b)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,e,s,o,a,c,d,h,g){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,e,s,o,a,c,d,h,g){if(Tb.apply(this,arguments),Ob){if(Ob){var _=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=_)}}function Vb(i){var e=i,s=i;if(i.alternate)for(;e.return;)e=e.return;else{i=e;do e=i,e.flags&4098&&(s=e.return),i=e.return;while(i)}return e.tag===3?s:null}function Wb(i){if(i.tag===13){var e=i.memoizedState;if(e===null&&(i=i.alternate,i!==null&&(e=i.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p(188))}function Yb(i){var e=i.alternate;if(!e){if(e=Vb(i),e===null)throw Error(p(188));return e!==i?null:i}for(var s=i,o=e;;){var a=s.return;if(a===null)break;var c=a.alternate;if(c===null){if(o=a.return,o!==null){s=o;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===s)return Xb(a),i;if(c===o)return Xb(a),e;c=c.sibling}throw Error(p(188))}if(s.return!==o.return)s=a,o=c;else{for(var d=!1,h=a.child;h;){if(h===s){d=!0,s=a,o=c;break}if(h===o){d=!0,o=a,s=c;break}h=h.sibling}if(!d){for(h=c.child;h;){if(h===s){d=!0,s=c,o=a;break}if(h===o){d=!0,o=c,s=a;break}h=h.sibling}if(!d)throw Error(p(189))}}if(s.alternate!==o)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?i:e}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var e=$b(i);if(e!==null)return e;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,e){var s=i.pendingLanes;if(s===0)return 0;var o=0,a=i.suspendedLanes,c=i.pingedLanes,d=s&268435455;if(d!==0){var h=d&~a;h!==0?o=tc(h):(c&=d,c!==0&&(o=tc(c)))}else d=s&~a,d!==0?o=tc(d):c!==0&&(o=tc(c));if(o===0)return 0;if(e!==0&&e!==o&&!(e&a)&&(a=o&-o,c=e&-e,a>=c||a===16&&(c&4194240)!==0))return e;if(o&4&&(o|=s&16),e=i.entangledLanes,e!==0)for(i=i.entanglements,e&=o;0<e;)s=31-oc(e),a=1<<s,o|=i[s],e&=~a;return o}function vc(i,e){switch(i){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,e){for(var s=i.suspendedLanes,o=i.pingedLanes,a=i.expirationTimes,c=i.pendingLanes;0<c;){var d=31-oc(c),h=1<<d,g=a[d];g===-1?(!(h&s)||h&o)&&(a[d]=vc(h,e)):g<=e&&(i.expiredLanes|=h),c&=~h}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var e=[],s=0;31>s;s++)e.push(i);return e}function Ac(i,e,s){i.pendingLanes|=e,e!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,e=31-oc(e),i[e]=s}function Bc(i,e){var s=i.pendingLanes&~e;i.pendingLanes=e,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=e,i.mutableReadLanes&=e,i.entangledLanes&=e,e=i.entanglements;var o=i.eventTimes;for(i=i.expirationTimes;0<s;){var a=31-oc(s),c=1<<a;e[a]=0,o[a]=-1,i[a]=-1,s&=~c}}function Cc(i,e){var s=i.entangledLanes|=e;for(i=i.entanglements;s;){var o=31-oc(s),a=1<<o;a&e|i[o]&e&&(i[o]|=e),s&=~a}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,e){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(i,e,s,o,a,c){return i===null||i.nativeEvent!==c?(i={blockedOn:e,domEventName:s,eventSystemFlags:o,nativeEvent:c,targetContainers:[a]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),i):(i.eventSystemFlags|=o,e=i.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),i)}function Uc(i,e,s,o,a){switch(e){case"focusin":return Lc=Tc(Lc,i,e,s,o,a),!0;case"dragenter":return Mc=Tc(Mc,i,e,s,o,a),!0;case"mouseover":return Nc=Tc(Nc,i,e,s,o,a),!0;case"pointerover":var c=a.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,i,e,s,o,a)),!0;case"gotpointercapture":return c=a.pointerId,Pc.set(c,Tc(Pc.get(c)||null,i,e,s,o,a)),!0}return!1}function Vc(i){var e=Wc(i.target);if(e!==null){var s=Vb(e);if(s!==null){if(e=s.tag,e===13){if(e=Wb(s),e!==null){i.blockedOn=e,Ic(i.priority,function(){Gc(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var e=i.targetContainers;0<e.length;){var s=Yc(i.domEventName,i.eventSystemFlags,e[0],i.nativeEvent);if(s===null){s=i.nativeEvent;var o=new s.constructor(s.type,s);wb=o,s.target.dispatchEvent(o),wb=null}else return e=Cb(s),e!==null&&Fc(e),i.blockedOn=s,!1;e.shift()}return!0}function Zc(i,e,s){Xc(i)&&s.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,e){i.blockedOn===e&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function e(a){return ad(a,i)}if(0<Kc.length){ad(Kc[0],i);for(var s=1;s<Kc.length;s++){var o=Kc[s];o.blockedOn===i&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(e),Pc.forEach(e),s=0;s<Qc.length;s++)o=Qc[s],o.blockedOn===i&&(o.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,e,s,o){var a=C,c=cd.transition;cd.transition=null;try{C=1,fd(i,e,s,o)}finally{C=a,cd.transition=c}}function gd(i,e,s,o){var a=C,c=cd.transition;cd.transition=null;try{C=4,fd(i,e,s,o)}finally{C=a,cd.transition=c}}function fd(i,e,s,o){if(dd){var a=Yc(i,e,s,o);if(a===null)hd(i,e,o,id,s),Sc(i,o);else if(Uc(a,i,e,s,o))o.stopPropagation();else if(Sc(i,o),e&4&&-1<Rc.indexOf(i)){for(;a!==null;){var c=Cb(a);if(c!==null&&Ec(c),c=Yc(i,e,s,o),c===null&&hd(i,e,o,id,s),c===a)break;a=c}a!==null&&o.stopPropagation()}else hd(i,e,o,null,s)}}var id=null;function Yc(i,e,s,o){if(id=null,i=xb(o),i=Wc(i),i!==null)if(e=Vb(i),e===null)i=null;else if(s=e.tag,s===13){if(i=Wb(e),i!==null)return i;i=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;i=null}else e!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,e=ld,s=e.length,o,a="value"in kd?kd.value:kd.textContent,c=a.length;for(i=0;i<s&&e[i]===a[i];i++);var d=s-i;for(o=1;o<=d&&e[s-o]===a[c-o];o++);return md=a.slice(i,1<o?1-o:void 0)}function od(i){var e=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&e===13&&(i=13)):i=e,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function e(s,o,a,c,d){this._reactName=s,this._targetInst=a,this.type=o,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var h in i)i.hasOwnProperty(h)&&(s=i[h],this[h]=s?s(c):c[h]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(i):(i=Od[i])?!!e[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var e=Md[i.key]||i.key;if(e!=="Unidentified")return e}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(i,e){switch(i){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,e){switch(i){case"compositionend":return he(e);case"keypress":return e.which!==32?null:(fe=!0,ee);case"textInput":return i=e.data,i===ee&&fe?null:i;default:return null}}function ke(i,e){if(ie)return i==="compositionend"||!ae&&ge(i,e)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de&&e.locale!=="ko"?null:e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e==="input"?!!le[i.type]:e==="textarea"}function ne(i,e,s,o){Eb(o),e=oe(e,"onChange"),0<e.length&&(s=new td("onChange","change",null,s,o),i.push({event:s,listeners:e}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var e=ue(i);if(Wa(e))return i}function ve(i,e){if(i==="change")return e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var e=[];ne(e,qe,i,xb(i)),Jb(re,e)}}function Ce(i,e,s){i==="focusin"?(Ae(),pe=e,qe=s,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,e){if(i==="click")return te(e)}function Fe(i,e){if(i==="input"||i==="change")return te(e)}function Ge(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,e){if(He(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;var s=Object.keys(i),o=Object.keys(e);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var a=s[o];if(!ja.call(e,a)||!He(i[a],e[a]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,e){var s=Je(i);i=0;for(var o;s;){if(s.nodeType===3){if(o=i+s.textContent.length,i<=e&&o>=e)return{node:s,offset:e-i};i=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(i,e){return i&&e?i===e?!0:i&&i.nodeType===3?!1:e&&e.nodeType===3?Le(i,e.parentNode):"contains"in i?i.contains(e):i.compareDocumentPosition?!!(i.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var i=window,e=Xa();e instanceof i.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)i=e.contentWindow;else break;e=Xa(i.document)}return e}function Ne(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e&&(e==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||e==="textarea"||i.contentEditable==="true")}function Oe(i){var e=Me(),s=i.focusedElem,o=i.selectionRange;if(e!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(o!==null&&Ne(s)){if(e=o.start,i=o.end,i===void 0&&(i=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(i,s.value.length);else if(i=(e=s.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var a=s.textContent.length,c=Math.min(o.start,a);o=o.end===void 0?c:Math.min(o.end,a),!i.extend&&c>o&&(a=o,o=c,c=a),a=Ke(s,c);var d=Ke(s,o);a&&d&&(i.rangeCount!==1||i.anchorNode!==a.node||i.anchorOffset!==a.offset||i.focusNode!==d.node||i.focusOffset!==d.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),i.removeAllRanges(),c>o?(i.addRange(e),i.extend(d.node,d.offset)):(e.setEnd(d.node,d.offset),i.addRange(e)))}}for(e=[],i=s;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)i=e[s],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,e,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(e=new td("onSelect","select",null,e,s),i.push({event:e,listeners:o}),e.target=Qe)))}function Ve(i,e){var s={};return s[i.toLowerCase()]=e.toLowerCase(),s["Webkit"+i]="webkit"+e,s["Moz"+i]="moz"+e,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var e=We[i],s;for(s in e)if(e.hasOwnProperty(s)&&s in Ye)return Xe[i]=e[s];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,e){df.set(i,e),fa(e,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,e,s){var o=i.type||"unknown-event";i.currentTarget=s,Ub(o,e,void 0,i),i.currentTarget=null}function se(i,e){e=(e&4)!==0;for(var s=0;s<i.length;s++){var o=i[s],a=o.event;o=o.listeners;e:{var c=void 0;if(e)for(var d=o.length-1;0<=d;d--){var h=o[d],g=h.instance,_=h.currentTarget;if(h=h.listener,g!==c&&a.isPropagationStopped())break e;nf(a,h,_),c=g}else for(d=0;d<o.length;d++){if(h=o[d],g=h.instance,_=h.currentTarget,h=h.listener,g!==c&&a.isPropagationStopped())break e;nf(a,h,_),c=g}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,e){var s=e[of];s===void 0&&(s=e[of]=new Set);var o=i+"__bubble";s.has(o)||(pf(e,i,2,!1),s.add(o))}function qf(i,e,s){var o=0;e&&(o|=4),pf(s,i,o,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,i),qf(s,!0,i))});var e=i.nodeType===9?i:i.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(i,e,s,o){switch(jd(e)){case 1:var a=ed;break;case 4:a=gd;break;default:a=fd}s=a.bind(null,e,s,i),a=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),o?a!==void 0?i.addEventListener(e,s,{capture:!0,passive:a}):i.addEventListener(e,s,!0):a!==void 0?i.addEventListener(e,s,{passive:a}):i.addEventListener(e,s,!1)}function hd(i,e,s,o,a){var c=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var h=o.stateNode.containerInfo;if(h===a||h.nodeType===8&&h.parentNode===a)break;if(d===4)for(d=o.return;d!==null;){var g=d.tag;if((g===3||g===4)&&(g=d.stateNode.containerInfo,g===a||g.nodeType===8&&g.parentNode===a))return;d=d.return}for(;h!==null;){if(d=Wc(h),d===null)return;if(g=d.tag,g===5||g===6){o=c=d;continue e}h=h.parentNode}}o=o.return}Jb(function(){var _=c,b=xb(s),j=[];e:{var $=df.get(i);if($!==void 0){var et=td,_e=i;switch(i){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":et=Rd;break;case"focusin":_e="focus",et=Fd;break;case"focusout":_e="blur",et=Fd;break;case"beforeblur":case"afterblur":et=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=Vd;break;case $e:case af:case bf:et=Hd;break;case cf:et=Xd;break;case"scroll":et=vd;break;case"wheel":et=Zd;break;case"copy":case"cut":case"paste":et=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Td}var nt=(e&4)!==0,st=!nt&&i==="scroll",tt=nt?$!==null?$+"Capture":null:$;nt=[];for(var it=_,ot;it!==null;){ot=it;var ct=ot.stateNode;if(ot.tag===5&&ct!==null&&(ot=ct,tt!==null&&(ct=Kb(it,tt),ct!=null&&nt.push(tf(it,ct,ot)))),st)break;it=it.return}0<nt.length&&($=new et($,_e,null,s,b),j.push({event:$,listeners:nt}))}}if(!(e&7)){e:{if($=i==="mouseover"||i==="pointerover",et=i==="mouseout"||i==="pointerout",$&&s!==wb&&(_e=s.relatedTarget||s.fromElement)&&(Wc(_e)||_e[uf]))break e;if((et||$)&&($=b.window===b?b:($=b.ownerDocument)?$.defaultView||$.parentWindow:window,et?(_e=s.relatedTarget||s.toElement,et=_,_e=_e?Wc(_e):null,_e!==null&&(st=Vb(_e),_e!==st||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(et=null,_e=_),et!==_e)){if(nt=Bd,ct="onMouseLeave",tt="onMouseEnter",it="mouse",(i==="pointerout"||i==="pointerover")&&(nt=Td,ct="onPointerLeave",tt="onPointerEnter",it="pointer"),st=et==null?$:ue(et),ot=_e==null?$:ue(_e),$=new nt(ct,it+"leave",et,s,b),$.target=st,$.relatedTarget=ot,ct=null,Wc(b)===_&&(nt=new nt(tt,it+"enter",_e,s,b),nt.target=ot,nt.relatedTarget=st,ct=nt),st=ct,et&&_e)t:{for(nt=et,tt=_e,it=0,ot=nt;ot;ot=vf(ot))it++;for(ot=0,ct=tt;ct;ct=vf(ct))ot++;for(;0<it-ot;)nt=vf(nt),it--;for(;0<ot-it;)tt=vf(tt),ot--;for(;it--;){if(nt===tt||tt!==null&&nt===tt.alternate)break t;nt=vf(nt),tt=vf(tt)}nt=null}else nt=null;et!==null&&wf(j,$,et,nt,!1),_e!==null&&st!==null&&wf(j,st,_e,nt,!0)}}e:{if($=_?ue(_):window,et=$.nodeName&&$.nodeName.toLowerCase(),et==="select"||et==="input"&&$.type==="file")var rt=ve;else if(me($))if(we)rt=Fe;else{rt=De;var lt=Ce}else(et=$.nodeName)&&et.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(rt=Ee);if(rt&&(rt=rt(i,_))){ne(j,rt,s,b);break e}lt&&lt(i,$,_),i==="focusout"&&(lt=$._wrapperState)&&lt.controlled&&$.type==="number"&&cb($,"number",$.value)}switch(lt=_?ue(_):window,i){case"focusin":(me(lt)||lt.contentEditable==="true")&&(Qe=lt,Re=_,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(j,s,b);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(j,s,b)}var mt;if(ae)e:{switch(i){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else ie?ge(i,s)&&(gt="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(gt="onCompositionStart");gt&&(de&&s.locale!=="ko"&&(ie||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&ie&&(mt=nd()):(kd=b,ld="value"in kd?kd.value:kd.textContent,ie=!0)),lt=oe(_,gt),0<lt.length&&(gt=new Ld(gt,i,null,s,b),j.push({event:gt,listeners:lt}),mt?gt.data=mt:(mt=he(s),mt!==null&&(gt.data=mt)))),(mt=ce?je(i,s):ke(i,s))&&(_=oe(_,"onBeforeInput"),0<_.length&&(b=new Ld("onBeforeInput","beforeinput",null,s,b),j.push({event:b,listeners:_}),b.data=mt))}se(j,e)})}function tf(i,e,s){return{instance:i,listener:e,currentTarget:s}}function oe(i,e){for(var s=e+"Capture",o=[];i!==null;){var a=i,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=Kb(i,s),c!=null&&o.unshift(tf(i,c,a)),c=Kb(i,e),c!=null&&o.push(tf(i,c,a))),i=i.return}return o}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,e,s,o,a){for(var c=e._reactName,d=[];s!==null&&s!==o;){var h=s,g=h.alternate,_=h.stateNode;if(g!==null&&g===o)break;h.tag===5&&_!==null&&(h=_,a?(g=Kb(s,c),g!=null&&d.unshift(tf(s,g,h))):a||(g=Kb(s,c),g!=null&&d.push(tf(s,g,h)))),s=s.return}d.length!==0&&i.push({event:e,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,e,s){if(e=zf(e),zf(i)!==e&&s)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,e){return i==="textarea"||i==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,e){var s=e,o=0;do{var a=s.nextSibling;if(i.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(o===0){i.removeChild(a),bd(e);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=a}while(s);bd(e)}function Lf(i){for(;i!=null;i=i.nextSibling){var e=i.nodeType;if(e===1||e===3)break;if(e===8){if(e=i.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var e=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return i;e--}else s==="/$"&&e++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var e=i[Of];if(e)return e;for(var s=i.parentNode;s;){if(e=s[uf]||s[Of]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(i=Mf(i);i!==null;){if(s=i[Of])return s;i=Mf(i)}return e}i=s,s=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,e){Tf++,Sf[Tf]=i.current,i.current=e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,e){var s=i.type.contextTypes;if(!s)return Vf;var o=i.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in s)a[c]=e[c];return o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=e,i.__reactInternalMemoizedMaskedChildContext=a),a}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,e,s){if(H.current!==Vf)throw Error(p(168));G(H,e),G(Wf,s)}function bg(i,e,s){var o=i.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return s;o=o.getChildContext();for(var a in o)if(!(a in e))throw Error(p(108,Ra(i)||"Unknown",a));return A({},s,o)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,e,s){var o=i.stateNode;if(!o)throw Error(p(169));s?(i=bg(i,e,Xf),o.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,e=C;try{var s=eg;for(C=1;i<s.length;i++){var o=s[i];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(a){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),a}finally{C=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,e){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=e}function ug(i,e,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var o=rg;i=sg;var a=32-oc(o)-1;o&=~(1<<a),s+=1;var c=32-oc(e)+a;if(30<c){var d=a-a%5;c=(o&(1<<d)-1).toString(32),o>>=d,a-=d,rg=1<<32-oc(e)+a|s<<a|o,sg=c+i}else rg=1<<c|s<<a|o,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,e){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=i,e=i.deletions,e===null?(i.deletions=[s],i.flags|=16):e.push(s)}function Cg(i,e){switch(i.tag){case 5:var s=i.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(i.stateNode=e,xg=i,yg=Lf(e.firstChild),!0):!1;case 6:return e=i.pendingProps===""||e.nodeType!==3?null:e,e!==null?(i.stateNode=e,xg=i,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=e,s.return=i,i.child=s,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var e=yg;if(e){var s=e;if(!Cg(i,e)){if(Dg(i))throw Error(p(418));e=Lf(s.nextSibling);var o=xg;e&&Cg(i,e)?Ag(o,s):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var e;if((e=i.tag!==3)&&!(e=i.tag!==5)&&(e=i.type,e=e!=="head"&&e!=="body"&&!Ef(i.type,i.memoizedProps)),e&&(e=yg)){if(Dg(i))throw Hg(),Error(p(418));for(;e;)Ag(i,e),e=Lf(e.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p(317));e:{for(i=i.nextSibling,e=0;i;){if(i.nodeType===8){var s=i.data;if(s==="/$"){if(e===0){yg=Lf(i.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,e){if(i&&i.defaultProps){e=A({},e),i=i.defaultProps;for(var s in i)e[s]===void 0&&(e[s]=i[s]);return e}return e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(i){var e=Mg.current;E(Mg),i._currentValue=e}function Sg(i,e,s){for(;i!==null;){var o=i.alternate;if((i.childLanes&e)!==e?(i.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),i===s)break;i=i.return}}function Tg(i,e){Ng=i,Pg=Og=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&e&&(Ug=!0),i.firstContext=null)}function Vg(i){var e=i._currentValue;if(Pg!==i)if(i={context:i,memoizedValue:e,next:null},Og===null){if(Ng===null)throw Error(p(308));Og=i,Ng.dependencies={lanes:0,firstContext:i}}else Og=Og.next=i;return e}var Wg=null;function Xg(i){Wg===null?Wg=[i]:Wg.push(i)}function Yg(i,e,s,o){var a=e.interleaved;return a===null?(s.next=s,Xg(e)):(s.next=a.next,a.next=s),e.interleaved=s,Zg(i,o)}function Zg(i,e){i.lanes|=e;var s=i.alternate;for(s!==null&&(s.lanes|=e),s=i,i=i.return;i!==null;)i.childLanes|=e,s=i.alternate,s!==null&&(s.childLanes|=e),s=i,i=i.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(i,e){i=i.updateQueue,e.updateQueue===i&&(e.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ch(i,e){return{eventTime:i,lane:e,tag:0,payload:null,callback:null,next:null}}function dh(i,e,s){var o=i.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var a=o.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),o.pending=e,Zg(i,s)}return a=o.interleaved,a===null?(e.next=e,Xg(o)):(e.next=a.next,a.next=e),o.interleaved=e,Zg(i,s)}function eh(i,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var o=e.lanes;o&=i.pendingLanes,s|=o,e.lanes=s,Cc(i,s)}}function fh(i,e){var s=i.updateQueue,o=i.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var a=null,c=null;if(s=s.firstBaseUpdate,s!==null){do{var d={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};c===null?a=c=d:c=c.next=d,s=s.next}while(s!==null);c===null?a=c=e:c=c.next=e}else a=c=e;s={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:o.shared,effects:o.effects},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=e:i.next=e,s.lastBaseUpdate=e}function gh(i,e,s,o){var a=i.updateQueue;$g=!1;var c=a.firstBaseUpdate,d=a.lastBaseUpdate,h=a.shared.pending;if(h!==null){a.shared.pending=null;var g=h,_=g.next;g.next=null,d===null?c=_:d.next=_,d=g;var b=i.alternate;b!==null&&(b=b.updateQueue,h=b.lastBaseUpdate,h!==d&&(h===null?b.firstBaseUpdate=_:h.next=_,b.lastBaseUpdate=g))}if(c!==null){var j=a.baseState;d=0,b=_=g=null,h=c;do{var $=h.lane,et=h.eventTime;if((o&$)===$){b!==null&&(b=b.next={eventTime:et,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var _e=i,nt=h;switch($=e,et=s,nt.tag){case 1:if(_e=nt.payload,typeof _e=="function"){j=_e.call(et,j,$);break e}j=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=nt.payload,$=typeof _e=="function"?_e.call(et,j,$):_e,$==null)break e;j=A({},j,$);break e;case 2:$g=!0}}h.callback!==null&&h.lane!==0&&(i.flags|=64,$=a.effects,$===null?a.effects=[h]:$.push(h))}else et={eventTime:et,lane:$,tag:h.tag,payload:h.payload,callback:h.callback,next:null},b===null?(_=b=et,g=j):b=b.next=et,d|=$;if(h=h.next,h===null){if(h=a.shared.pending,h===null)break;$=h,h=$.next,$.next=null,a.lastBaseUpdate=$,a.shared.pending=null}}while(!0);if(b===null&&(g=j),a.baseState=g,a.firstBaseUpdate=_,a.lastBaseUpdate=b,e=a.shared.interleaved,e!==null){a=e;do d|=a.lane,a=a.next;while(a!==e)}else c===null&&(a.shared.lanes=0);hh|=d,i.lanes=d,i.memoizedState=j}}function ih(i,e,s){if(i=e.effects,e.effects=null,i!==null)for(e=0;e<i.length;e++){var o=i[e],a=o.callback;if(a!==null){if(o.callback=null,o=s,typeof a!="function")throw Error(p(191,a));a.call(o)}}}var jh=new aa.Component().refs;function kh(i,e,s,o){e=i.memoizedState,s=s(o,e),s=s==null?e:A({},e,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var nh={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,e,s){i=i._reactInternals;var o=L(),a=lh(i),c=ch(o,a);c.payload=e,s!=null&&(c.callback=s),e=dh(i,c,a),e!==null&&(mh(e,i,a,o),eh(e,i,a))},enqueueReplaceState:function(i,e,s){i=i._reactInternals;var o=L(),a=lh(i),c=ch(o,a);c.tag=1,c.payload=e,s!=null&&(c.callback=s),e=dh(i,c,a),e!==null&&(mh(e,i,a,o),eh(e,i,a))},enqueueForceUpdate:function(i,e){i=i._reactInternals;var s=L(),o=lh(i),a=ch(s,o);a.tag=2,e!=null&&(a.callback=e),e=dh(i,a,o),e!==null&&(mh(e,i,o,s),eh(e,i,o))}};function oh(i,e,s,o,a,c,d){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(o,c,d):e.prototype&&e.prototype.isPureReactComponent?!Ie(s,o)||!Ie(a,c):!0}function ph(i,e,s){var o=!1,a=Vf,c=e.contextType;return typeof c=="object"&&c!==null?c=Vg(c):(a=Zf(e)?Xf:H.current,o=e.contextTypes,c=(o=o!=null)?Yf(i,a):Vf),e=new e(s,c),i.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,i.stateNode=e,e._reactInternals=i,o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=c),e}function qh(i,e,s,o){i=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,o),e.state!==i&&nh.enqueueReplaceState(e,e.state,null)}function rh(i,e,s,o){var a=i.stateNode;a.props=s,a.state=i.memoizedState,a.refs=jh,ah(i);var c=e.contextType;typeof c=="object"&&c!==null?a.context=Vg(c):(c=Zf(e)?Xf:H.current,a.context=Yf(i,c)),a.state=i.memoizedState,c=e.getDerivedStateFromProps,typeof c=="function"&&(kh(i,e,c,s),a.state=i.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&nh.enqueueReplaceState(a,a.state,null),gh(i,s,a,o),a.state=i.memoizedState),typeof a.componentDidMount=="function"&&(i.flags|=4194308)}function sh(i,e,s){if(i=s.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p(309));var o=s.stateNode}if(!o)throw Error(p(147,i));var a=o,c=""+i;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===c?e.ref:(e=function(d){var h=a.refs;h===jh&&(h=a.refs={}),d===null?delete h[c]:h[c]=d},e._stringRef=c,e)}if(typeof i!="string")throw Error(p(284));if(!s._owner)throw Error(p(290,i))}return i}function th(i,e){throw i=Object.prototype.toString.call(e),Error(p(31,i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i))}function uh(i){var e=i._init;return e(i._payload)}function vh(i){function e(tt,it){if(i){var ot=tt.deletions;ot===null?(tt.deletions=[it],tt.flags|=16):ot.push(it)}}function s(tt,it){if(!i)return null;for(;it!==null;)e(tt,it),it=it.sibling;return null}function o(tt,it){for(tt=new Map;it!==null;)it.key!==null?tt.set(it.key,it):tt.set(it.index,it),it=it.sibling;return tt}function a(tt,it){return tt=wh(tt,it),tt.index=0,tt.sibling=null,tt}function c(tt,it,ot){return tt.index=ot,i?(ot=tt.alternate,ot!==null?(ot=ot.index,ot<it?(tt.flags|=2,it):ot):(tt.flags|=2,it)):(tt.flags|=1048576,it)}function d(tt){return i&&tt.alternate===null&&(tt.flags|=2),tt}function h(tt,it,ot,ct){return it===null||it.tag!==6?(it=xh(ot,tt.mode,ct),it.return=tt,it):(it=a(it,ot),it.return=tt,it)}function g(tt,it,ot,ct){var rt=ot.type;return rt===ya?b(tt,it,ot.props.children,ct,ot.key):it!==null&&(it.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===Ha&&uh(rt)===it.type)?(ct=a(it,ot.props),ct.ref=sh(tt,it,ot),ct.return=tt,ct):(ct=yh(ot.type,ot.key,ot.props,null,tt.mode,ct),ct.ref=sh(tt,it,ot),ct.return=tt,ct)}function _(tt,it,ot,ct){return it===null||it.tag!==4||it.stateNode.containerInfo!==ot.containerInfo||it.stateNode.implementation!==ot.implementation?(it=zh(ot,tt.mode,ct),it.return=tt,it):(it=a(it,ot.children||[]),it.return=tt,it)}function b(tt,it,ot,ct,rt){return it===null||it.tag!==7?(it=Ah(ot,tt.mode,ct,rt),it.return=tt,it):(it=a(it,ot),it.return=tt,it)}function j(tt,it,ot){if(typeof it=="string"&&it!==""||typeof it=="number")return it=xh(""+it,tt.mode,ot),it.return=tt,it;if(typeof it=="object"&&it!==null){switch(it.$$typeof){case va:return ot=yh(it.type,it.key,it.props,null,tt.mode,ot),ot.ref=sh(tt,null,it),ot.return=tt,ot;case wa:return it=zh(it,tt.mode,ot),it.return=tt,it;case Ha:var ct=it._init;return j(tt,ct(it._payload),ot)}if(eb(it)||Ka(it))return it=Ah(it,tt.mode,ot,null),it.return=tt,it;th(tt,it)}return null}function $(tt,it,ot,ct){var rt=it!==null?it.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number")return rt!==null?null:h(tt,it,""+ot,ct);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:return ot.key===rt?g(tt,it,ot,ct):null;case wa:return ot.key===rt?_(tt,it,ot,ct):null;case Ha:return rt=ot._init,$(tt,it,rt(ot._payload),ct)}if(eb(ot)||Ka(ot))return rt!==null?null:b(tt,it,ot,ct,null);th(tt,ot)}return null}function et(tt,it,ot,ct,rt){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return tt=tt.get(ot)||null,h(it,tt,""+ct,rt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va:return tt=tt.get(ct.key===null?ot:ct.key)||null,g(it,tt,ct,rt);case wa:return tt=tt.get(ct.key===null?ot:ct.key)||null,_(it,tt,ct,rt);case Ha:var lt=ct._init;return et(tt,it,ot,lt(ct._payload),rt)}if(eb(ct)||Ka(ct))return tt=tt.get(ot)||null,b(it,tt,ct,rt,null);th(it,ct)}return null}function _e(tt,it,ot,ct){for(var rt=null,lt=null,mt=it,gt=it=0,ft=null;mt!==null&&gt<ot.length;gt++){mt.index>gt?(ft=mt,mt=null):ft=mt.sibling;var yt=$(tt,mt,ot[gt],ct);if(yt===null){mt===null&&(mt=ft);break}i&&mt&&yt.alternate===null&&e(tt,mt),it=c(yt,it,gt),lt===null?rt=yt:lt.sibling=yt,lt=yt,mt=ft}if(gt===ot.length)return s(tt,mt),I&&tg(tt,gt),rt;if(mt===null){for(;gt<ot.length;gt++)mt=j(tt,ot[gt],ct),mt!==null&&(it=c(mt,it,gt),lt===null?rt=mt:lt.sibling=mt,lt=mt);return I&&tg(tt,gt),rt}for(mt=o(tt,mt);gt<ot.length;gt++)ft=et(mt,tt,gt,ot[gt],ct),ft!==null&&(i&&ft.alternate!==null&&mt.delete(ft.key===null?gt:ft.key),it=c(ft,it,gt),lt===null?rt=ft:lt.sibling=ft,lt=ft);return i&&mt.forEach(function(_t){return e(tt,_t)}),I&&tg(tt,gt),rt}function nt(tt,it,ot,ct){var rt=Ka(ot);if(typeof rt!="function")throw Error(p(150));if(ot=rt.call(ot),ot==null)throw Error(p(151));for(var lt=rt=null,mt=it,gt=it=0,ft=null,yt=ot.next();mt!==null&&!yt.done;gt++,yt=ot.next()){mt.index>gt?(ft=mt,mt=null):ft=mt.sibling;var _t=$(tt,mt,yt.value,ct);if(_t===null){mt===null&&(mt=ft);break}i&&mt&&_t.alternate===null&&e(tt,mt),it=c(_t,it,gt),lt===null?rt=_t:lt.sibling=_t,lt=_t,mt=ft}if(yt.done)return s(tt,mt),I&&tg(tt,gt),rt;if(mt===null){for(;!yt.done;gt++,yt=ot.next())yt=j(tt,yt.value,ct),yt!==null&&(it=c(yt,it,gt),lt===null?rt=yt:lt.sibling=yt,lt=yt);return I&&tg(tt,gt),rt}for(mt=o(tt,mt);!yt.done;gt++,yt=ot.next())yt=et(mt,tt,gt,yt.value,ct),yt!==null&&(i&&yt.alternate!==null&&mt.delete(yt.key===null?gt:yt.key),it=c(yt,it,gt),lt===null?rt=yt:lt.sibling=yt,lt=yt);return i&&mt.forEach(function(kt){return e(tt,kt)}),I&&tg(tt,gt),rt}function st(tt,it,ot,ct){if(typeof ot=="object"&&ot!==null&&ot.type===ya&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:e:{for(var rt=ot.key,lt=it;lt!==null;){if(lt.key===rt){if(rt=ot.type,rt===ya){if(lt.tag===7){s(tt,lt.sibling),it=a(lt,ot.props.children),it.return=tt,tt=it;break e}}else if(lt.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===Ha&&uh(rt)===lt.type){s(tt,lt.sibling),it=a(lt,ot.props),it.ref=sh(tt,lt,ot),it.return=tt,tt=it;break e}s(tt,lt);break}else e(tt,lt);lt=lt.sibling}ot.type===ya?(it=Ah(ot.props.children,tt.mode,ct,ot.key),it.return=tt,tt=it):(ct=yh(ot.type,ot.key,ot.props,null,tt.mode,ct),ct.ref=sh(tt,it,ot),ct.return=tt,tt=ct)}return d(tt);case wa:e:{for(lt=ot.key;it!==null;){if(it.key===lt)if(it.tag===4&&it.stateNode.containerInfo===ot.containerInfo&&it.stateNode.implementation===ot.implementation){s(tt,it.sibling),it=a(it,ot.children||[]),it.return=tt,tt=it;break e}else{s(tt,it);break}else e(tt,it);it=it.sibling}it=zh(ot,tt.mode,ct),it.return=tt,tt=it}return d(tt);case Ha:return lt=ot._init,st(tt,it,lt(ot._payload),ct)}if(eb(ot))return _e(tt,it,ot,ct);if(Ka(ot))return nt(tt,it,ot,ct);th(tt,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"?(ot=""+ot,it!==null&&it.tag===6?(s(tt,it.sibling),it=a(it,ot),it.return=tt,tt=it):(s(tt,it),it=xh(ot,tt.mode,ct),it.return=tt,tt=it),d(tt)):s(tt,it)}return st}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(i){if(i===Dh)throw Error(p(174));return i}function Ih(i,e){switch(G(Gh,e),G(Fh,i),G(Eh,Dh),i=e.nodeType,i){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:i=i===8?e.parentNode:e,e=i.namespaceURI||null,i=i.tagName,e=lb(e,i)}E(Eh),G(Eh,e)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(i){Hh(Gh.current);var e=Hh(Eh.current),s=lb(e,i.type);e!==s&&(G(Fh,i),G(Eh,s))}function Lh(i){Fh.current===i&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(i){for(var e=i;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nh=[];function Oh(){for(var i=0;i<Nh.length;i++)Nh[i]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321))}function Wh(i,e){if(e===null)return!1;for(var s=0;s<e.length&&s<i.length;s++)if(!He(i[s],e[s]))return!1;return!0}function Xh(i,e,s,o,a,c){if(Rh=c,N=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph.current=i===null||i.memoizedState===null?Yh:Zh,i=s(o,a),Th){c=0;do{if(Th=!1,Uh=0,25<=c)throw Error(p(301));c+=1,P=O=null,e.updateQueue=null,Ph.current=$h,i=s(o,a)}while(Th)}if(Ph.current=ai,e=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,e)throw Error(p(300));return i}function bi(){var i=Uh!==0;return Uh=0,i}function ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=i:P=P.next=i,P}function di(){if(O===null){var i=N.alternate;i=i!==null?i.memoizedState:null}else i=O.next;var e=P===null?N.memoizedState:P.next;if(e!==null)P=e,O=i;else{if(i===null)throw Error(p(310));O=i,i={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=i:P=P.next=i}return P}function ei(i,e){return typeof e=="function"?e(i):e}function fi(i){var e=di(),s=e.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=i;var o=O,a=o.baseQueue,c=s.pending;if(c!==null){if(a!==null){var d=a.next;a.next=c.next,c.next=d}o.baseQueue=a=c,s.pending=null}if(a!==null){c=a.next,o=o.baseState;var h=d=null,g=null,_=c;do{var b=_.lane;if((Rh&b)===b)g!==null&&(g=g.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),o=_.hasEagerState?_.eagerState:i(o,_.action);else{var j={lane:b,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};g===null?(h=g=j,d=o):g=g.next=j,N.lanes|=b,hh|=b}_=_.next}while(_!==null&&_!==c);g===null?d=o:g.next=h,He(o,e.memoizedState)||(Ug=!0),e.memoizedState=o,e.baseState=d,e.baseQueue=g,s.lastRenderedState=o}if(i=s.interleaved,i!==null){a=i;do c=a.lane,N.lanes|=c,hh|=c,a=a.next;while(a!==i)}else a===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function gi(i){var e=di(),s=e.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=i;var o=s.dispatch,a=s.pending,c=e.memoizedState;if(a!==null){s.pending=null;var d=a=a.next;do c=i(c,d.action),d=d.next;while(d!==a);He(c,e.memoizedState)||(Ug=!0),e.memoizedState=c,e.baseQueue===null&&(e.baseState=c),s.lastRenderedState=c}return[c,o]}function hi(){}function ii(i,e){var s=N,o=di(),a=e(),c=!He(o.memoizedState,a);if(c&&(o.memoizedState=a,Ug=!0),o=o.queue,ji(ki.bind(null,s,o,i),[i]),o.getSnapshot!==e||c||P!==null&&P.memoizedState.tag&1){if(s.flags|=2048,li(9,mi.bind(null,s,o,a,e),void 0,null),R===null)throw Error(p(349));Rh&30||ni(s,e,a)}return a}function ni(i,e,s){i.flags|=16384,i={getSnapshot:e,value:s},e=N.updateQueue,e===null?(e={lastEffect:null,stores:null},N.updateQueue=e,e.stores=[i]):(s=e.stores,s===null?e.stores=[i]:s.push(i))}function mi(i,e,s,o){e.value=s,e.getSnapshot=o,oi(e)&&pi(i)}function ki(i,e,s){return s(function(){oi(e)&&pi(i)})}function oi(i){var e=i.getSnapshot;i=i.value;try{var s=e();return!He(i,s)}catch{return!0}}function pi(i){var e=Zg(i,1);e!==null&&mh(e,i,1,-1)}function qi(i){var e=ci();return typeof i=="function"&&(i=i()),e.memoizedState=e.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:i},e.queue=i,i=i.dispatch=ri.bind(null,N,i),[e.memoizedState,i]}function li(i,e,s,o){return i={tag:i,create:e,destroy:s,deps:o,next:null},e=N.updateQueue,e===null?(e={lastEffect:null,stores:null},N.updateQueue=e,e.lastEffect=i.next=i):(s=e.lastEffect,s===null?e.lastEffect=i.next=i:(o=s.next,s.next=i,i.next=o,e.lastEffect=i)),i}function si(){return di().memoizedState}function ti(i,e,s,o){var a=ci();N.flags|=i,a.memoizedState=li(1|e,s,void 0,o===void 0?null:o)}function ui(i,e,s,o){var a=di();o=o===void 0?null:o;var c=void 0;if(O!==null){var d=O.memoizedState;if(c=d.destroy,o!==null&&Wh(o,d.deps)){a.memoizedState=li(e,s,c,o);return}}N.flags|=i,a.memoizedState=li(1|e,s,c,o)}function vi(i,e){return ti(8390656,8,i,e)}function ji(i,e){return ui(2048,8,i,e)}function wi(i,e){return ui(4,2,i,e)}function xi(i,e){return ui(4,4,i,e)}function yi(i,e){if(typeof e=="function")return i=i(),e(i),function(){e(null)};if(e!=null)return i=i(),e.current=i,function(){e.current=null}}function zi(i,e,s){return s=s!=null?s.concat([i]):null,ui(4,4,yi.bind(null,e,i),s)}function Ai(){}function Bi(i,e){var s=di();e=e===void 0?null:e;var o=s.memoizedState;return o!==null&&e!==null&&Wh(e,o[1])?o[0]:(s.memoizedState=[i,e],i)}function Ci(i,e){var s=di();e=e===void 0?null:e;var o=s.memoizedState;return o!==null&&e!==null&&Wh(e,o[1])?o[0]:(i=i(),s.memoizedState=[i,e],i)}function Di(i,e,s){return Rh&21?(He(s,e)||(s=yc(),N.lanes|=s,hh|=s,i.baseState=!0),e):(i.baseState&&(i.baseState=!1,Ug=!0),i.memoizedState=s)}function Ei(i,e){var s=C;C=s!==0&&4>s?s:4,i(!0);var o=Qh.transition;Qh.transition={};try{i(!1),e()}finally{C=s,Qh.transition=o}}function Fi(){return di().memoizedState}function Gi(i,e,s){var o=lh(i);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(i))Ii(e,s);else if(s=Yg(i,e,s,o),s!==null){var a=L();mh(s,i,o,a),Ji(s,e,o)}}function ri(i,e,s){var o=lh(i),a={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi(i))Ii(e,a);else{var c=i.alternate;if(i.lanes===0&&(c===null||c.lanes===0)&&(c=e.lastRenderedReducer,c!==null))try{var d=e.lastRenderedState,h=c(d,s);if(a.hasEagerState=!0,a.eagerState=h,He(h,d)){var g=e.interleaved;g===null?(a.next=a,Xg(e)):(a.next=g.next,g.next=a),e.interleaved=a;return}}catch{}finally{}s=Yg(i,e,a,o),s!==null&&(a=L(),mh(s,i,o,a),Ji(s,e,o))}}function Hi(i){var e=i.alternate;return i===N||e!==null&&e===N}function Ii(i,e){Th=Sh=!0;var s=i.pending;s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e}function Ji(i,e,s){if(s&4194240){var o=e.lanes;o&=i.pendingLanes,s|=o,e.lanes=s,Cc(i,s)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(i,e){return ci().memoizedState=[i,e===void 0?null:e],i},useContext:Vg,useEffect:vi,useImperativeHandle:function(i,e,s){return s=s!=null?s.concat([i]):null,ti(4194308,4,yi.bind(null,e,i),s)},useLayoutEffect:function(i,e){return ti(4194308,4,i,e)},useInsertionEffect:function(i,e){return ti(4,2,i,e)},useMemo:function(i,e){var s=ci();return e=e===void 0?null:e,i=i(),s.memoizedState=[i,e],i},useReducer:function(i,e,s){var o=ci();return e=s!==void 0?s(e):e,o.memoizedState=o.baseState=e,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:e},o.queue=i,i=i.dispatch=Gi.bind(null,N,i),[o.memoizedState,i]},useRef:function(i){var e=ci();return i={current:i},e.memoizedState=i},useState:qi,useDebugValue:Ai,useDeferredValue:function(i){return ci().memoizedState=i},useTransition:function(){var i=qi(!1),e=i[0];return i=Ei.bind(null,i[1]),ci().memoizedState=i,[e,i]},useMutableSource:function(){},useSyncExternalStore:function(i,e,s){var o=N,a=ci();if(I){if(s===void 0)throw Error(p(407));s=s()}else{if(s=e(),R===null)throw Error(p(349));Rh&30||ni(o,e,s)}a.memoizedState=s;var c={value:s,getSnapshot:e};return a.queue=c,vi(ki.bind(null,o,c,i),[i]),o.flags|=2048,li(9,mi.bind(null,o,c,s,e),void 0,null),s},useId:function(){var i=ci(),e=R.identifierPrefix;if(I){var s=sg,o=rg;s=(o&~(1<<32-oc(o)-1)).toString(32)+s,e=":"+e+"R"+s,s=Uh++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=Vh++,e=":"+e+"r"+s.toString(32)+":";return i.memoizedState=e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var e=di();return Di(e,O.memoizedState,i)},useTransition:function(){var i=fi(ei)[0],e=di().memoizedState;return[i,e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var e=di();return O===null?e.memoizedState=i:Di(e,O.memoizedState,i)},useTransition:function(){var i=gi(ei)[0],e=di().memoizedState;return[i,e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(i,e){try{var s="",o=e;do s+=Pa(o),o=o.return;while(o);var a=s}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:i,source:e,stack:a,digest:null}}function Li(i,e,s){return{value:i,source:null,stack:s??null,digest:e??null}}function Mi(i,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(i,e,s){s=ch(-1,s),s.tag=3,s.payload={element:null};var o=e.value;return s.callback=function(){Pi||(Pi=!0,Qi=o),Mi(i,e)},s}function Ri(i,e,s){s=ch(-1,s),s.tag=3;var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var a=e.value;s.payload=function(){return o(a)},s.callback=function(){Mi(i,e)}}var c=i.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(s.callback=function(){Mi(i,e),typeof o!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var d=e.stack;this.componentDidCatch(e.value,{componentStack:d!==null?d:""})}),s}function Ti(i,e,s){var o=i.pingCache;if(o===null){o=i.pingCache=new Ni;var a=new Set;o.set(e,a)}else a=o.get(e),a===void 0&&(a=new Set,o.set(e,a));a.has(s)||(a.add(s),i=Ui.bind(null,i,e,s),e.then(i,i))}function Vi(i){do{var e;if((e=i.tag===13)&&(e=i.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return i;i=i.return}while(i!==null);return null}function Wi(i,e,s,o,a){return i.mode&1?(i.flags|=65536,i.lanes=a,i):(i===e?i.flags|=65536:(i.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=ch(-1,1),e.tag=2,dh(s,e,1))),s.lanes|=1),i)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(i,e,s,o){e.child=i===null?Ch(e,null,s,o):Bh(e,i.child,s,o)}function Zi(i,e,s,o,a){s=s.render;var c=e.ref;return Tg(e,a),o=Xh(i,e,s,o,c,a),s=bi(),i!==null&&!Ug?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~a,$i(i,e,a)):(I&&s&&vg(e),e.flags|=1,Yi(i,e,o,a),e.child)}function aj(i,e,s,o,a){if(i===null){var c=s.type;return typeof c=="function"&&!bj(c)&&c.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=c,cj(i,e,c,o,a)):(i=yh(s.type,null,o,e,e.mode,a),i.ref=e.ref,i.return=e,e.child=i)}if(c=i.child,!(i.lanes&a)){var d=c.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(d,o)&&i.ref===e.ref)return $i(i,e,a)}return e.flags|=1,i=wh(c,o),i.ref=e.ref,i.return=e,e.child=i}function cj(i,e,s,o,a){if(i!==null){var c=i.memoizedProps;if(Ie(c,o)&&i.ref===e.ref)if(Ug=!1,e.pendingProps=o=c,(i.lanes&a)!==0)i.flags&131072&&(Ug=!0);else return e.lanes=i.lanes,$i(i,e,a)}return dj(i,e,s,o,a)}function ej(i,e,s){var o=e.pendingProps,a=o.children,c=i!==null?i.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=s;else{if(!(s&1073741824))return i=c!==null?c.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:i,cachePool:null,transitions:null},e.updateQueue=null,G(fj,gj),gj|=i,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:s,G(fj,gj),gj|=o}else c!==null?(o=c.baseLanes|s,e.memoizedState=null):o=s,G(fj,gj),gj|=o;return Yi(i,e,a,s),e.child}function hj(i,e){var s=e.ref;(i===null&&s!==null||i!==null&&i.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function dj(i,e,s,o,a){var c=Zf(s)?Xf:H.current;return c=Yf(e,c),Tg(e,a),s=Xh(i,e,s,o,c,a),o=bi(),i!==null&&!Ug?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~a,$i(i,e,a)):(I&&o&&vg(e),e.flags|=1,Yi(i,e,s,a),e.child)}function ij(i,e,s,o,a){if(Zf(s)){var c=!0;cg(e)}else c=!1;if(Tg(e,a),e.stateNode===null)jj(i,e),ph(e,s,o),rh(e,s,o,a),o=!0;else if(i===null){var d=e.stateNode,h=e.memoizedProps;d.props=h;var g=d.context,_=s.contextType;typeof _=="object"&&_!==null?_=Vg(_):(_=Zf(s)?Xf:H.current,_=Yf(e,_));var b=s.getDerivedStateFromProps,j=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function";j||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==o||g!==_)&&qh(e,d,o,_),$g=!1;var $=e.memoizedState;d.state=$,gh(e,o,d,a),g=e.memoizedState,h!==o||$!==g||Wf.current||$g?(typeof b=="function"&&(kh(e,s,b,o),g=e.memoizedState),(h=$g||oh(e,s,h,o,$,g,_))?(j||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(e.flags|=4194308)):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=g),d.props=o,d.state=g,d.context=_,o=h):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{d=e.stateNode,bh(i,e),h=e.memoizedProps,_=e.type===e.elementType?h:Lg(e.type,h),d.props=_,j=e.pendingProps,$=d.context,g=s.contextType,typeof g=="object"&&g!==null?g=Vg(g):(g=Zf(s)?Xf:H.current,g=Yf(e,g));var et=s.getDerivedStateFromProps;(b=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==j||$!==g)&&qh(e,d,o,g),$g=!1,$=e.memoizedState,d.state=$,gh(e,o,d,a);var _e=e.memoizedState;h!==j||$!==_e||Wf.current||$g?(typeof et=="function"&&(kh(e,s,et,o),_e=e.memoizedState),(_=$g||oh(e,s,_,o,$,_e,g)||!1)?(b||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,_e,g),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,_e,g)),typeof d.componentDidUpdate=="function"&&(e.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===i.memoizedProps&&$===i.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===i.memoizedProps&&$===i.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=_e),d.props=o,d.state=_e,d.context=g,o=_):(typeof d.componentDidUpdate!="function"||h===i.memoizedProps&&$===i.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===i.memoizedProps&&$===i.memoizedState||(e.flags|=1024),o=!1)}return kj(i,e,s,o,c,a)}function kj(i,e,s,o,a,c){hj(i,e);var d=(e.flags&128)!==0;if(!o&&!d)return a&&dg(e,s,!1),$i(i,e,c);o=e.stateNode,Xi.current=e;var h=d&&typeof s.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,i!==null&&d?(e.child=Bh(e,i.child,null,c),e.child=Bh(e,null,h,c)):Yi(i,e,h,c),e.memoizedState=o.state,a&&dg(e,s,!0),e.child}function lj(i){var e=i.stateNode;e.pendingContext?ag(i,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(i,e.context,!1),Ih(i,e.containerInfo)}function mj(i,e,s,o,a){return Ig(),Jg(a),e.flags|=256,Yi(i,e,s,o),e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(i){return{baseLanes:i,cachePool:null,transitions:null}}function pj(i,e,s){var o=e.pendingProps,a=M.current,c=!1,d=(e.flags&128)!==0,h;if((h=d)||(h=i!==null&&i.memoizedState===null?!1:(a&2)!==0),h?(c=!0,e.flags&=-129):(i===null||i.memoizedState!==null)&&(a|=1),G(M,a&1),i===null)return Eg(e),i=e.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(e.mode&1?i.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(d=o.children,i=o.fallback,c?(o=e.mode,c=e.child,d={mode:"hidden",children:d},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=qj(d,o,0,null),i=Ah(i,o,s,null),c.return=e,i.return=e,c.sibling=i,e.child=c,e.child.memoizedState=oj(s),e.memoizedState=nj,i):rj(e,d));if(a=i.memoizedState,a!==null&&(h=a.dehydrated,h!==null))return sj(i,e,d,o,h,a,s);if(c){c=o.fallback,d=e.mode,a=i.child,h=a.sibling;var g={mode:"hidden",children:o.children};return!(d&1)&&e.child!==a?(o=e.child,o.childLanes=0,o.pendingProps=g,e.deletions=null):(o=wh(a,g),o.subtreeFlags=a.subtreeFlags&14680064),h!==null?c=wh(h,c):(c=Ah(c,d,s,null),c.flags|=2),c.return=e,o.return=e,o.sibling=c,e.child=o,o=c,c=e.child,d=i.child.memoizedState,d=d===null?oj(s):{baseLanes:d.baseLanes|s,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=i.childLanes&~s,e.memoizedState=nj,o}return c=i.child,i=c.sibling,o=wh(c,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=s),o.return=e,o.sibling=null,i!==null&&(s=e.deletions,s===null?(e.deletions=[i],e.flags|=16):s.push(i)),e.child=o,e.memoizedState=null,o}function rj(i,e){return e=qj({mode:"visible",children:e},i.mode,0,null),e.return=i,i.child=e}function tj(i,e,s,o){return o!==null&&Jg(o),Bh(e,i.child,null,s),i=rj(e,e.pendingProps.children),i.flags|=2,e.memoizedState=null,i}function sj(i,e,s,o,a,c,d){if(s)return e.flags&256?(e.flags&=-257,o=Li(Error(p(422))),tj(i,e,d,o)):e.memoizedState!==null?(e.child=i.child,e.flags|=128,null):(c=o.fallback,a=e.mode,o=qj({mode:"visible",children:o.children},a,0,null),c=Ah(c,a,d,null),c.flags|=2,o.return=e,c.return=e,o.sibling=c,e.child=o,e.mode&1&&Bh(e,i.child,null,d),e.child.memoizedState=oj(d),e.memoizedState=nj,c);if(!(e.mode&1))return tj(i,e,d,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var h=o.dgst;return o=h,c=Error(p(419)),o=Li(c,o,void 0),tj(i,e,d,o)}if(h=(d&i.childLanes)!==0,Ug||h){if(o=R,o!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|d)?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,Zg(i,a),mh(o,i,a,-1))}return uj(),o=Li(Error(p(421))),tj(i,e,d,o)}return a.data==="$?"?(e.flags|=128,e.child=i.child,e=vj.bind(null,i),a._reactRetry=e,null):(i=c.treeContext,yg=Lf(a.nextSibling),xg=e,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=e),e=rj(e,o.children),e.flags|=4096,e)}function wj(i,e,s){i.lanes|=e;var o=i.alternate;o!==null&&(o.lanes|=e),Sg(i.return,e,s)}function xj(i,e,s,o,a){var c=i.memoizedState;c===null?i.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:a}:(c.isBackwards=e,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=s,c.tailMode=a)}function yj(i,e,s){var o=e.pendingProps,a=o.revealOrder,c=o.tail;if(Yi(i,e,o.children,s),o=M.current,o&2)o=o&1|2,e.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=e.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wj(i,s,e);else if(i.tag===19)wj(i,s,e);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}o&=1}if(G(M,o),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(s=e.child,a=null;s!==null;)i=s.alternate,i!==null&&Mh(i)===null&&(a=s),s=s.sibling;s=a,s===null?(a=e.child,e.child=null):(a=s.sibling,s.sibling=null),xj(e,!1,a,s,c);break;case"backwards":for(s=null,a=e.child,e.child=null;a!==null;){if(i=a.alternate,i!==null&&Mh(i)===null){e.child=a;break}i=a.sibling,a.sibling=s,s=a,a=i}xj(e,!0,s,null,c);break;case"together":xj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jj(i,e){!(e.mode&1)&&i!==null&&(i.alternate=null,e.alternate=null,e.flags|=2)}function $i(i,e,s){if(i!==null&&(e.dependencies=i.dependencies),hh|=e.lanes,!(s&e.childLanes))return null;if(i!==null&&e.child!==i.child)throw Error(p(153));if(e.child!==null){for(i=e.child,s=wh(i,i.pendingProps),e.child=s,s.return=e;i.sibling!==null;)i=i.sibling,s=s.sibling=wh(i,i.pendingProps),s.return=e;s.sibling=null}return e.child}function zj(i,e,s){switch(e.tag){case 3:lj(e),Ig();break;case 5:Kh(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:Ih(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,a=e.memoizedProps.value;G(Mg,o._currentValue),o._currentValue=a;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(G(M,M.current&1),e.flags|=128,null):s&e.child.childLanes?pj(i,e,s):(G(M,M.current&1),i=$i(i,e,s),i!==null?i.sibling:null);G(M,M.current&1);break;case 19:if(o=(s&e.childLanes)!==0,i.flags&128){if(o)return yj(i,e,s);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),G(M,M.current),o)break;return null;case 22:case 23:return e.lanes=0,ej(i,e,s)}return $i(i,e,s)}var Aj,Bj,Cj,Dj;Aj=function(i,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(i,e,s,o){var a=i.memoizedProps;if(a!==o){i=e.stateNode,Hh(Eh.current);var c=null;switch(s){case"input":a=Ya(i,a),o=Ya(i,o),c=[];break;case"select":a=A({},a,{value:void 0}),o=A({},o,{value:void 0}),c=[];break;case"textarea":a=gb(i,a),o=gb(i,o),c=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(i.onclick=Bf)}ub(s,o);var d;s=null;for(_ in a)if(!o.hasOwnProperty(_)&&a.hasOwnProperty(_)&&a[_]!=null)if(_==="style"){var h=a[_];for(d in h)h.hasOwnProperty(d)&&(s||(s={}),s[d]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ea.hasOwnProperty(_)?c||(c=[]):(c=c||[]).push(_,null));for(_ in o){var g=o[_];if(h=a!=null?a[_]:void 0,o.hasOwnProperty(_)&&g!==h&&(g!=null||h!=null))if(_==="style")if(h){for(d in h)!h.hasOwnProperty(d)||g&&g.hasOwnProperty(d)||(s||(s={}),s[d]="");for(d in g)g.hasOwnProperty(d)&&h[d]!==g[d]&&(s||(s={}),s[d]=g[d])}else s||(c||(c=[]),c.push(_,s)),s=g;else _==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,h=h?h.__html:void 0,g!=null&&h!==g&&(c=c||[]).push(_,g)):_==="children"?typeof g!="string"&&typeof g!="number"||(c=c||[]).push(_,""+g):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(ea.hasOwnProperty(_)?(g!=null&&_==="onScroll"&&D("scroll",i),c||h===g||(c=[])):(c=c||[]).push(_,g))}s&&(c=c||[]).push("style",s);var _=c;(e.updateQueue=_)&&(e.flags|=4)}};Dj=function(i,e,s,o){s!==o&&(e.flags|=4)};function Ej(i,e){if(!I)switch(i.tailMode){case"hidden":e=i.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?e||i.tail===null?i.tail=null:i.tail.sibling=null:o.sibling=null}}function S(i){var e=i.alternate!==null&&i.alternate.child===i.child,s=0,o=0;if(e)for(var a=i.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=i,a=a.sibling;else for(a=i.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=i,a=a.sibling;return i.subtreeFlags|=o,i.childLanes=s,e}function Fj(i,e,s){var o=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(e),null;case 1:return Zf(e.type)&&$f(),S(e),null;case 3:return o=e.stateNode,Jh(),E(Wf),E(H),Oh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Gg(e)?e.flags|=4:i===null||i.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(i,e),S(e),null;case 5:Lh(e);var a=Hh(Gh.current);if(s=e.type,i!==null&&e.stateNode!=null)Cj(i,e,s,o,a),i.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(p(166));return S(e),null}if(i=Hh(Eh.current),Gg(e)){o=e.stateNode,s=e.type;var c=e.memoizedProps;switch(o[Of]=e,o[Pf]=c,i=(e.mode&1)!==0,s){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,c),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},D("invalid",o);break;case"textarea":hb(o,c),D("invalid",o)}ub(s,c),a=null;for(var d in c)if(c.hasOwnProperty(d)){var h=c[d];d==="children"?typeof h=="string"?o.textContent!==h&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,h,i),a=["children",h]):typeof h=="number"&&o.textContent!==""+h&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,h,i),a=["children",""+h]):ea.hasOwnProperty(d)&&h!=null&&d==="onScroll"&&D("scroll",o)}switch(s){case"input":Va(o),db(o,c,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Bf)}o=a,e.updateQueue=o,o!==null&&(e.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(s)),i==="http://www.w3.org/1999/xhtml"?s==="script"?(i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof o.is=="string"?i=d.createElement(s,{is:o.is}):(i=d.createElement(s),s==="select"&&(d=i,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):i=d.createElementNS(i,s),i[Of]=e,i[Pf]=o,Aj(i,e,!1,!1),e.stateNode=i;e:{switch(d=vb(s,o),s){case"dialog":D("cancel",i),D("close",i),a=o;break;case"iframe":case"object":case"embed":D("load",i),a=o;break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],i);a=o;break;case"source":D("error",i),a=o;break;case"img":case"image":case"link":D("error",i),D("load",i),a=o;break;case"details":D("toggle",i),a=o;break;case"input":Za(i,o),a=Ya(i,o),D("invalid",i);break;case"option":a=o;break;case"select":i._wrapperState={wasMultiple:!!o.multiple},a=A({},o,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,o),a=gb(i,o),D("invalid",i);break;default:a=o}ub(s,a),h=a;for(c in h)if(h.hasOwnProperty(c)){var g=h[c];c==="style"?sb(i,g):c==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&nb(i,g)):c==="children"?typeof g=="string"?(s!=="textarea"||g!=="")&&ob(i,g):typeof g=="number"&&ob(i,""+g):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?g!=null&&c==="onScroll"&&D("scroll",i):g!=null&&ta(i,c,g,d))}switch(s){case"input":Va(i),db(i,o,!1);break;case"textarea":Va(i),jb(i);break;case"option":o.value!=null&&i.setAttribute("value",""+Sa(o.value));break;case"select":i.multiple=!!o.multiple,c=o.value,c!=null?fb(i,!!o.multiple,c,!1):o.defaultValue!=null&&fb(i,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(i.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S(e),null;case 6:if(i&&e.stateNode!=null)Dj(i,e,i.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(p(166));if(s=Hh(Gh.current),Hh(Eh.current),Gg(e)){if(o=e.stateNode,s=e.memoizedProps,o[Of]=e,(c=o.nodeValue!==s)&&(i=xg,i!==null))switch(i.tag){case 3:Af(o.nodeValue,s,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,s,(i.mode&1)!==0)}c&&(e.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[Of]=e,e.stateNode=o}return S(e),null;case 13:if(E(M),o=e.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,c=!1;else if(c=Gg(e),o!==null&&o.dehydrated!==null){if(i===null){if(!c)throw Error(p(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S(e),c=!1}else zg!==null&&(Gj(zg),zg=null),c=!0;if(!c)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(o=o!==null,o!==(i!==null&&i.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(i===null||M.current&1?T===0&&(T=3):uj())),e.updateQueue!==null&&(e.flags|=4),S(e),null);case 4:return Jh(),Bj(i,e),i===null&&sf(e.stateNode.containerInfo),S(e),null;case 10:return Rg(e.type._context),S(e),null;case 17:return Zf(e.type)&&$f(),S(e),null;case 19:if(E(M),c=e.memoizedState,c===null)return S(e),null;if(o=(e.flags&128)!==0,d=c.rendering,d===null)if(o)Ej(c,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=e.child;i!==null;){if(d=Mh(i),d!==null){for(e.flags|=128,Ej(c,!1),o=d.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=s,s=e.child;s!==null;)c=s,i=o,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=i,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,i=d.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s=s.sibling;return G(M,M.current&1|2),e.child}i=i.sibling}c.tail!==null&&B()>Hj&&(e.flags|=128,o=!0,Ej(c,!1),e.lanes=4194304)}else{if(!o)if(i=Mh(d),i!==null){if(e.flags|=128,o=!0,s=i.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Ej(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(e),null}else 2*B()-c.renderingStartTime>Hj&&s!==1073741824&&(e.flags|=128,o=!0,Ej(c,!1),e.lanes=4194304);c.isBackwards?(d.sibling=e.child,e.child=d):(s=c.last,s!==null?s.sibling=d:e.child=d,c.last=d)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=B(),e.sibling=null,s=M.current,G(M,o?s&1|2:s&1),e):(S(e),null);case 22:case 23:return Ij(),o=e.memoizedState!==null,i!==null&&i.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?gj&1073741824&&(S(e),e.subtreeFlags&6&&(e.flags|=8192)):S(e),null;case 24:return null;case 25:return null}throw Error(p(156,e.tag))}function Jj(i,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 3:return Jh(),E(Wf),E(H),Oh(),i=e.flags,i&65536&&!(i&128)?(e.flags=i&-65537|128,e):null;case 5:return Lh(e),null;case 13:if(E(M),i=e.memoizedState,i!==null&&i.dehydrated!==null){if(e.alternate===null)throw Error(p(340));Ig()}return i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(i,e){var s=i.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(o){W(i,e,o)}else s.current=null}function Nj(i,e,s){try{s()}catch(o){W(i,e,o)}}var Oj=!1;function Pj(i,e){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var a=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var d=0,h=-1,g=-1,_=0,b=0,j=i,$=null;t:for(;;){for(var et;j!==s||a!==0&&j.nodeType!==3||(h=d+a),j!==c||o!==0&&j.nodeType!==3||(g=d+o),j.nodeType===3&&(d+=j.nodeValue.length),(et=j.firstChild)!==null;)$=j,j=et;for(;;){if(j===i)break t;if($===s&&++_===a&&(h=d),$===c&&++b===o&&(g=d),(et=j.nextSibling)!==null)break;j=$,$=j.parentNode}j=et}s=h===-1||g===-1?null:{start:h,end:g}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:i,selectionRange:s},dd=!1,V=e;V!==null;)if(e=V,i=e.child,(e.subtreeFlags&1028)!==0&&i!==null)i.return=e,V=i;else for(;V!==null;){e=V;try{var _e=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var nt=_e.memoizedProps,st=_e.memoizedState,tt=e.stateNode,it=tt.getSnapshotBeforeUpdate(e.elementType===e.type?nt:Lg(e.type,nt),st);tt.__reactInternalSnapshotBeforeUpdate=it}break;case 3:var ot=e.stateNode.containerInfo;ot.nodeType===1?ot.textContent="":ot.nodeType===9&&ot.documentElement&&ot.removeChild(ot.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(ct){W(e,e.return,ct)}if(i=e.sibling,i!==null){i.return=e.return,V=i;break}V=e.return}return _e=Oj,Oj=!1,_e}function Qj(i,e,s){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&i)===i){var c=a.destroy;a.destroy=void 0,c!==void 0&&Nj(e,s,c)}a=a.next}while(a!==o)}}function Rj(i,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&i)===i){var o=s.create;s.destroy=o()}s=s.next}while(s!==e)}}function Sj(i){var e=i.ref;if(e!==null){var s=i.stateNode;switch(i.tag){case 5:i=s;break;default:i=s}typeof e=="function"?e(i):e.current=i}}function Tj(i){var e=i.alternate;e!==null&&(i.alternate=null,Tj(e)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(e=i.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uj(i){return i.tag===5||i.tag===3||i.tag===4}function Vj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wj(i,e,s){var o=i.tag;if(o===5||o===6)i=i.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(i,e):s.insertBefore(i,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(i,s)):(e=s,e.appendChild(i)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Bf));else if(o!==4&&(i=i.child,i!==null))for(Wj(i,e,s),i=i.sibling;i!==null;)Wj(i,e,s),i=i.sibling}function Xj(i,e,s){var o=i.tag;if(o===5||o===6)i=i.stateNode,e?s.insertBefore(i,e):s.appendChild(i);else if(o!==4&&(i=i.child,i!==null))for(Xj(i,e,s),i=i.sibling;i!==null;)Xj(i,e,s),i=i.sibling}var X=null,Yj=!1;function Zj(i,e,s){for(s=s.child;s!==null;)ak(i,e,s),s=s.sibling}function ak(i,e,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Mj(s,e);case 6:var o=X,a=Yj;X=null,Zj(i,e,s),X=o,Yj=a,X!==null&&(Yj?(i=X,s=s.stateNode,i.nodeType===8?i.parentNode.removeChild(s):i.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Yj?(i=X,s=s.stateNode,i.nodeType===8?Kf(i.parentNode,s):i.nodeType===1&&Kf(i,s),bd(i)):Kf(X,s.stateNode));break;case 4:o=X,a=Yj,X=s.stateNode.containerInfo,Yj=!0,Zj(i,e,s),X=o,Yj=a;break;case 0:case 11:case 14:case 15:if(!U&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var c=a,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Nj(s,e,d),a=a.next}while(a!==o)}Zj(i,e,s);break;case 1:if(!U&&(Mj(s,e),o=s.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(h){W(s,e,h)}Zj(i,e,s);break;case 21:Zj(i,e,s);break;case 22:s.mode&1?(U=(o=U)||s.memoizedState!==null,Zj(i,e,s),U=o):Zj(i,e,s);break;default:Zj(i,e,s)}}function bk(i){var e=i.updateQueue;if(e!==null){i.updateQueue=null;var s=i.stateNode;s===null&&(s=i.stateNode=new Lj),e.forEach(function(o){var a=ck.bind(null,i,o);s.has(o)||(s.add(o),o.then(a,a))})}}function dk(i,e){var s=e.deletions;if(s!==null)for(var o=0;o<s.length;o++){var a=s[o];try{var c=i,d=e,h=d;e:for(;h!==null;){switch(h.tag){case 5:X=h.stateNode,Yj=!1;break e;case 3:X=h.stateNode.containerInfo,Yj=!0;break e;case 4:X=h.stateNode.containerInfo,Yj=!0;break e}h=h.return}if(X===null)throw Error(p(160));ak(c,d,a),X=null,Yj=!1;var g=a.alternate;g!==null&&(g.return=null),a.return=null}catch(_){W(a,e,_)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ek(e,i),e=e.sibling}function ek(i,e){var s=i.alternate,o=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(dk(e,i),fk(i),o&4){try{Qj(3,i,i.return),Rj(3,i)}catch(nt){W(i,i.return,nt)}try{Qj(5,i,i.return)}catch(nt){W(i,i.return,nt)}}break;case 1:dk(e,i),fk(i),o&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(e,i),fk(i),o&512&&s!==null&&Mj(s,s.return),i.flags&32){var a=i.stateNode;try{ob(a,"")}catch(nt){W(i,i.return,nt)}}if(o&4&&(a=i.stateNode,a!=null)){var c=i.memoizedProps,d=s!==null?s.memoizedProps:c,h=i.type,g=i.updateQueue;if(i.updateQueue=null,g!==null)try{h==="input"&&c.type==="radio"&&c.name!=null&&ab(a,c),vb(h,d);var _=vb(h,c);for(d=0;d<g.length;d+=2){var b=g[d],j=g[d+1];b==="style"?sb(a,j):b==="dangerouslySetInnerHTML"?nb(a,j):b==="children"?ob(a,j):ta(a,b,j,_)}switch(h){case"input":bb(a,c);break;case"textarea":ib(a,c);break;case"select":var $=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var et=c.value;et!=null?fb(a,!!c.multiple,et,!1):$!==!!c.multiple&&(c.defaultValue!=null?fb(a,!!c.multiple,c.defaultValue,!0):fb(a,!!c.multiple,c.multiple?[]:"",!1))}a[Pf]=c}catch(nt){W(i,i.return,nt)}}break;case 6:if(dk(e,i),fk(i),o&4){if(i.stateNode===null)throw Error(p(162));a=i.stateNode,c=i.memoizedProps;try{a.nodeValue=c}catch(nt){W(i,i.return,nt)}}break;case 3:if(dk(e,i),fk(i),o&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(nt){W(i,i.return,nt)}break;case 4:dk(e,i),fk(i);break;case 13:dk(e,i),fk(i),a=i.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(gk=B())),o&4&&bk(i);break;case 22:if(b=s!==null&&s.memoizedState!==null,i.mode&1?(U=(_=U)||b,dk(e,i),U=_):dk(e,i),fk(i),o&8192){if(_=i.memoizedState!==null,(i.stateNode.isHidden=_)&&!b&&i.mode&1)for(V=i,b=i.child;b!==null;){for(j=V=b;V!==null;){switch($=V,et=$.child,$.tag){case 0:case 11:case 14:case 15:Qj(4,$,$.return);break;case 1:Mj($,$.return);var _e=$.stateNode;if(typeof _e.componentWillUnmount=="function"){o=$,s=$.return;try{e=o,_e.props=e.memoizedProps,_e.state=e.memoizedState,_e.componentWillUnmount()}catch(nt){W(o,s,nt)}}break;case 5:Mj($,$.return);break;case 22:if($.memoizedState!==null){hk(j);continue}}et!==null?(et.return=$,V=et):hk(j)}b=b.sibling}e:for(b=null,j=i;;){if(j.tag===5){if(b===null){b=j;try{a=j.stateNode,_?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(h=j.stateNode,g=j.memoizedProps.style,d=g!=null&&g.hasOwnProperty("display")?g.display:null,h.style.display=rb("display",d))}catch(nt){W(i,i.return,nt)}}}else if(j.tag===6){if(b===null)try{j.stateNode.nodeValue=_?"":j.memoizedProps}catch(nt){W(i,i.return,nt)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===i)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===i)break e;for(;j.sibling===null;){if(j.return===null||j.return===i)break e;b===j&&(b=null),j=j.return}b===j&&(b=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:dk(e,i),fk(i),o&4&&bk(i);break;case 21:break;default:dk(e,i),fk(i)}}function fk(i){var e=i.flags;if(e&2){try{e:{for(var s=i.return;s!==null;){if(Uj(s)){var o=s;break e}s=s.return}throw Error(p(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(ob(a,""),o.flags&=-33);var c=Vj(i);Xj(i,c,a);break;case 3:case 4:var d=o.stateNode.containerInfo,h=Vj(i);Wj(i,h,d);break;default:throw Error(p(161))}}catch(g){W(i,i.return,g)}i.flags&=-3}e&4096&&(i.flags&=-4097)}function ik(i,e,s){V=i,jk(i)}function jk(i,e,s){for(var o=(i.mode&1)!==0;V!==null;){var a=V,c=a.child;if(a.tag===22&&o){var d=a.memoizedState!==null||Kj;if(!d){var h=a.alternate,g=h!==null&&h.memoizedState!==null||U;h=Kj;var _=U;if(Kj=d,(U=g)&&!_)for(V=a;V!==null;)d=V,g=d.child,d.tag===22&&d.memoizedState!==null?kk(a):g!==null?(g.return=d,V=g):kk(a);for(;c!==null;)V=c,jk(c),c=c.sibling;V=a,Kj=h,U=_}lk(i)}else a.subtreeFlags&8772&&c!==null?(c.return=a,V=c):lk(i)}}function lk(i){for(;V!==null;){var e=V;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U||Rj(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!U)if(s===null)o.componentDidMount();else{var a=e.elementType===e.type?s.memoizedProps:Lg(e.type,s.memoizedProps);o.componentDidUpdate(a,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=e.updateQueue;c!==null&&ih(e,c,o);break;case 3:var d=e.updateQueue;if(d!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}ih(e,d,s)}break;case 5:var h=e.stateNode;if(s===null&&e.flags&4){s=h;var g=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&s.focus();break;case"img":g.src&&(s.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var _=e.alternate;if(_!==null){var b=_.memoizedState;if(b!==null){var j=b.dehydrated;j!==null&&bd(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||e.flags&512&&Sj(e)}catch($){W(e,e.return,$)}}if(e===i){V=null;break}if(s=e.sibling,s!==null){s.return=e.return,V=s;break}V=e.return}}function hk(i){for(;V!==null;){var e=V;if(e===i){V=null;break}var s=e.sibling;if(s!==null){s.return=e.return,V=s;break}V=e.return}}function kk(i){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Rj(4,e)}catch(g){W(e,s,g)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var a=e.return;try{o.componentDidMount()}catch(g){W(e,a,g)}}var c=e.return;try{Sj(e)}catch(g){W(e,c,g)}break;case 5:var d=e.return;try{Sj(e)}catch(g){W(e,d,g)}}}catch(g){W(e,e.return,g)}if(e===i){V=null;break}var h=e.sibling;if(h!==null){h.return=e.return,V=h;break}V=e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function mh(i,e,s,o){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(i,s,o),(!(K&2)||i!==R)&&(i===R&&(!(K&2)&&(rk|=s),T===4&&Dk(i,Z)),Ek(i,o),s===1&&K===0&&!(e.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(i,e){var s=i.callbackNode;wc(i,e);var o=uc(i,i===R?Z:0);if(o===0)s!==null&&bc(s),i.callbackNode=null,i.callbackPriority=0;else if(e=o&-o,i.callbackPriority!==e){if(s!=null&&bc(s),e===1)i.tag===0?ig(Fk.bind(null,i)):hg(Fk.bind(null,i)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(o)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Gk(s,Hk.bind(null,i))}i.callbackPriority=e,i.callbackNode=s}}function Hk(i,e){if(Bk=-1,Ck=0,K&6)throw Error(p(327));var s=i.callbackNode;if(Ik()&&i.callbackNode!==s)return null;var o=uc(i,i===R?Z:0);if(o===0)return null;if(o&30||o&i.expiredLanes||e)e=Jk(i,o);else{e=o;var a=K;K|=2;var c=Kk();(R!==i||Z!==e)&&(vk=null,Hj=B()+500,Lk(i,e));do try{Mk();break}catch(h){Nk(i,h)}while(!0);Qg(),nk.current=c,K=a,Y!==null?e=0:(R=null,Z=0,e=T)}if(e!==0){if(e===2&&(a=xc(i),a!==0&&(o=a,e=Ok(i,a))),e===1)throw s=qk,Lk(i,0),Dk(i,o),Ek(i,B()),s;if(e===6)Dk(i,o);else{if(a=i.current.alternate,!(o&30)&&!Pk(a)&&(e=Jk(i,o),e===2&&(c=xc(i),c!==0&&(o=c,e=Ok(i,c))),e===1))throw s=qk,Lk(i,0),Dk(i,o),Ek(i,B()),s;switch(i.finishedWork=a,i.finishedLanes=o,e){case 0:case 1:throw Error(p(345));case 2:Qk(i,uk,vk);break;case 3:if(Dk(i,o),(o&130023424)===o&&(e=gk+500-B(),10<e)){if(uc(i,0)!==0)break;if(a=i.suspendedLanes,(a&o)!==o){L(),i.pingedLanes|=i.suspendedLanes&a;break}i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),e);break}Qk(i,uk,vk);break;case 4:if(Dk(i,o),(o&4194240)===o)break;for(e=i.eventTimes,a=-1;0<o;){var d=31-oc(o);c=1<<d,d=e[d],d>a&&(a=d),o&=~c}if(o=a,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*mk(o/1960))-o,10<o){i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),o);break}Qk(i,uk,vk);break;case 5:Qk(i,uk,vk);break;default:throw Error(p(329))}}}return Ek(i,B()),i.callbackNode===s?Hk.bind(null,i):null}function Ok(i,e){var s=tk;return i.current.memoizedState.isDehydrated&&(Lk(i,e).flags|=256),i=Jk(i,e),i!==2&&(e=uk,uk=s,e!==null&&Gj(e)),i}function Gj(i){uk===null?uk=i:uk.push.apply(uk,i)}function Pk(i){for(var e=i;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var a=s[o],c=a.getSnapshot;a=a.value;try{if(!He(c(),a))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dk(i,e){for(e&=~sk,e&=~rk,i.suspendedLanes|=e,i.pingedLanes&=~e,i=i.expirationTimes;0<e;){var s=31-oc(e),o=1<<s;i[s]=-1,e&=~o}}function Fk(i){if(K&6)throw Error(p(327));Ik();var e=uc(i,0);if(!(e&1))return Ek(i,B()),null;var s=Jk(i,e);if(i.tag!==0&&s===2){var o=xc(i);o!==0&&(e=o,s=Ok(i,o))}if(s===1)throw s=qk,Lk(i,0),Dk(i,e),Ek(i,B()),s;if(s===6)throw Error(p(345));return i.finishedWork=i.current.alternate,i.finishedLanes=e,Qk(i,uk,vk),Ek(i,B()),null}function Rk(i,e){var s=K;K|=1;try{return i(e)}finally{K=s,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(i){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var e=K;K|=1;var s=pk.transition,o=C;try{if(pk.transition=null,C=1,i)return i()}finally{C=o,pk.transition=s,K=e,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(i,e){i.finishedWork=null,i.finishedLanes=0;var s=i.timeoutHandle;if(s!==-1&&(i.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var o=s;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(o);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(o.type._context);break;case 22:case 23:Ij()}s=s.return}if(R=i,Y=i=wh(i.current,null),Z=gj=e,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(e=0;e<Wg.length;e++)if(s=Wg[e],o=s.interleaved,o!==null){s.interleaved=null;var a=o.next,c=s.pending;if(c!==null){var d=c.next;c.next=a,o.next=d}s.pending=o}Wg=null}return i}function Nk(i,e){do{var s=Y;try{if(Qg(),Ph.current=ai,Sh){for(var o=N.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,s===null||s.return===null){T=1,qk=e,Y=null;break}e:{var c=i,d=s.return,h=s,g=e;if(e=Z,h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var _=g,b=h,j=b.tag;if(!(b.mode&1)&&(j===0||j===11||j===15)){var $=b.alternate;$?(b.updateQueue=$.updateQueue,b.memoizedState=$.memoizedState,b.lanes=$.lanes):(b.updateQueue=null,b.memoizedState=null)}var et=Vi(d);if(et!==null){et.flags&=-257,Wi(et,d,h,c,e),et.mode&1&&Ti(c,_,e),e=et,g=_;var _e=e.updateQueue;if(_e===null){var nt=new Set;nt.add(g),e.updateQueue=nt}else _e.add(g);break e}else{if(!(e&1)){Ti(c,_,e),uj();break e}g=Error(p(426))}}else if(I&&h.mode&1){var st=Vi(d);if(st!==null){!(st.flags&65536)&&(st.flags|=256),Wi(st,d,h,c,e),Jg(Ki(g,h));break e}}c=g=Ki(g,h),T!==4&&(T=2),tk===null?tk=[c]:tk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,e&=-e,c.lanes|=e;var tt=Oi(c,g,e);fh(c,tt);break e;case 1:h=g;var it=c.type,ot=c.stateNode;if(!(c.flags&128)&&(typeof it.getDerivedStateFromError=="function"||ot!==null&&typeof ot.componentDidCatch=="function"&&(Si===null||!Si.has(ot)))){c.flags|=65536,e&=-e,c.lanes|=e;var ct=Ri(c,h,e);fh(c,ct);break e}}c=c.return}while(c!==null)}Tk(s)}catch(rt){e=rt,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(!0)}function Kk(){var i=nk.current;return nk.current=ai,i===null?ai:i}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(i,e){var s=K;K|=2;var o=Kk();(R!==i||Z!==e)&&(vk=null,Lk(i,e));do try{Uk();break}catch(a){Nk(i,a)}while(!0);if(Qg(),K=s,nk.current=o,Y!==null)throw Error(p(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(i){var e=Wk(i.alternate,i,gj);i.memoizedProps=i.pendingProps,e===null?Tk(i):Y=e,ok.current=null}function Tk(i){var e=i;do{var s=e.alternate;if(i=e.return,e.flags&32768){if(s=Jj(s,e),s!==null){s.flags&=32767,Y=s;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(s=Fj(s,e,gj),s!==null){Y=s;return}if(e=e.sibling,e!==null){Y=e;return}Y=e=i}while(e!==null);T===0&&(T=5)}function Qk(i,e,s){var o=C,a=pk.transition;try{pk.transition=null,C=1,Xk(i,e,s,o)}finally{pk.transition=a,C=o}return null}function Xk(i,e,s,o){do Ik();while(xk!==null);if(K&6)throw Error(p(327));s=i.finishedWork;var a=i.finishedLanes;if(s===null)return null;if(i.finishedWork=null,i.finishedLanes=0,s===i.current)throw Error(p(177));i.callbackNode=null,i.callbackPriority=0;var c=s.lanes|s.childLanes;if(Bc(i,c),i===R&&(Y=R=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),c=(s.flags&15990)!==0,s.subtreeFlags&15990||c){c=pk.transition,pk.transition=null;var d=C;C=1;var h=K;K|=4,ok.current=null,Pj(i,s),ek(s,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=s,ik(s),dc(),K=h,C=d,pk.transition=c}else i.current=s;if(wk&&(wk=!1,xk=i,yk=a),c=i.pendingLanes,c===0&&(Si=null),mc(s.stateNode),Ek(i,B()),e!==null)for(o=i.onRecoverableError,s=0;s<e.length;s++)a=e[s],o(a.value,{componentStack:a.stack,digest:a.digest});if(Pi)throw Pi=!1,i=Qi,Qi=null,i;return yk&1&&i.tag!==0&&Ik(),c=i.pendingLanes,c&1?i===Ak?zk++:(zk=0,Ak=i):zk=0,jg(),null}function Ik(){if(xk!==null){var i=Dc(yk),e=pk.transition,s=C;try{if(pk.transition=null,C=16>i?16:i,xk===null)var o=!1;else{if(i=xk,xk=null,yk=0,K&6)throw Error(p(331));var a=K;for(K|=4,V=i.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var h=c.deletions;if(h!==null){for(var g=0;g<h.length;g++){var _=h[g];for(V=_;V!==null;){var b=V;switch(b.tag){case 0:case 11:case 15:Qj(8,b,c)}var j=b.child;if(j!==null)j.return=b,V=j;else for(;V!==null;){b=V;var $=b.sibling,et=b.return;if(Tj(b),b===_){V=null;break}if($!==null){$.return=et,V=$;break}V=et}}}var _e=c.alternate;if(_e!==null){var nt=_e.child;if(nt!==null){_e.child=null;do{var st=nt.sibling;nt.sibling=null,nt=st}while(nt!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Qj(9,c,c.return)}var tt=c.sibling;if(tt!==null){tt.return=c.return,V=tt;break e}V=c.return}}var it=i.current;for(V=it;V!==null;){d=V;var ot=d.child;if(d.subtreeFlags&2064&&ot!==null)ot.return=d,V=ot;else e:for(d=it;V!==null;){if(h=V,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Rj(9,h)}}catch(rt){W(h,h.return,rt)}if(h===d){V=null;break e}var ct=h.sibling;if(ct!==null){ct.return=h.return,V=ct;break e}V=h.return}}if(K=a,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}o=!0}return o}finally{C=s,pk.transition=e}}return!1}function Yk(i,e,s){e=Ki(s,e),e=Oi(i,e,1),i=dh(i,e,1),e=L(),i!==null&&(Ac(i,1,e),Ek(i,e))}function W(i,e,s){if(i.tag===3)Yk(i,i,s);else for(;e!==null;){if(e.tag===3){Yk(e,i,s);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Si===null||!Si.has(o))){i=Ki(s,i),i=Ri(e,i,1),e=dh(e,i,1),i=L(),e!==null&&(Ac(e,1,i),Ek(e,i));break}}e=e.return}}function Ui(i,e,s){var o=i.pingCache;o!==null&&o.delete(e),e=L(),i.pingedLanes|=i.suspendedLanes&s,R===i&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(i,0):sk|=s),Ek(i,e)}function Zk(i,e){e===0&&(i.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var s=L();i=Zg(i,e),i!==null&&(Ac(i,e,s),Ek(i,s))}function vj(i){var e=i.memoizedState,s=0;e!==null&&(s=e.retryLane),Zk(i,s)}function ck(i,e){var s=0;switch(i.tag){case 13:var o=i.stateNode,a=i.memoizedState;a!==null&&(s=a.retryLane);break;case 19:o=i.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(e),Zk(i,s)}var Wk;Wk=function(i,e,s){if(i!==null)if(i.memoizedProps!==e.pendingProps||Wf.current)Ug=!0;else{if(!(i.lanes&s)&&!(e.flags&128))return Ug=!1,zj(i,e,s);Ug=!!(i.flags&131072)}else Ug=!1,I&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;jj(i,e),i=e.pendingProps;var a=Yf(e,H.current);Tg(e,s),a=Xh(null,e,o,i,a,s);var c=bi();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(o)?(c=!0,cg(e)):c=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ah(e),a.updater=nh,e.stateNode=a,a._reactInternals=e,rh(e,o,i,s),e=kj(null,e,o,!0,c,s)):(e.tag=0,I&&c&&vg(e),Yi(null,e,a,s),e=e.child),e;case 16:o=e.elementType;e:{switch(jj(i,e),i=e.pendingProps,a=o._init,o=a(o._payload),e.type=o,a=e.tag=$k(o),i=Lg(o,i),a){case 0:e=dj(null,e,o,i,s);break e;case 1:e=ij(null,e,o,i,s);break e;case 11:e=Zi(null,e,o,i,s);break e;case 14:e=aj(null,e,o,Lg(o.type,i),s);break e}throw Error(p(306,o,""))}return e;case 0:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Lg(o,a),dj(i,e,o,a,s);case 1:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Lg(o,a),ij(i,e,o,a,s);case 3:e:{if(lj(e),i===null)throw Error(p(387));o=e.pendingProps,c=e.memoizedState,a=c.element,bh(i,e),gh(e,o,null,s);var d=e.memoizedState;if(o=d.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},e.updateQueue.baseState=c,e.memoizedState=c,e.flags&256){a=Ki(Error(p(423)),e),e=mj(i,e,o,s,a);break e}else if(o!==a){a=Ki(Error(p(424)),e),e=mj(i,e,o,s,a);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I=!0,zg=null,s=Ch(e,null,o,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),o===a){e=$i(i,e,s);break e}Yi(i,e,o,s)}e=e.child}return e;case 5:return Kh(e),i===null&&Eg(e),o=e.type,a=e.pendingProps,c=i!==null?i.memoizedProps:null,d=a.children,Ef(o,a)?d=null:c!==null&&Ef(o,c)&&(e.flags|=32),hj(i,e),Yi(i,e,d,s),e.child;case 6:return i===null&&Eg(e),null;case 13:return pj(i,e,s);case 4:return Ih(e,e.stateNode.containerInfo),o=e.pendingProps,i===null?e.child=Bh(e,null,o,s):Yi(i,e,o,s),e.child;case 11:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Lg(o,a),Zi(i,e,o,a,s);case 7:return Yi(i,e,e.pendingProps,s),e.child;case 8:return Yi(i,e,e.pendingProps.children,s),e.child;case 12:return Yi(i,e,e.pendingProps.children,s),e.child;case 10:e:{if(o=e.type._context,a=e.pendingProps,c=e.memoizedProps,d=a.value,G(Mg,o._currentValue),o._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===a.children&&!Wf.current){e=$i(i,e,s);break e}}else for(c=e.child,c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){d=c.child;for(var g=h.firstContext;g!==null;){if(g.context===o){if(c.tag===1){g=ch(-1,s&-s),g.tag=2;var _=c.updateQueue;if(_!==null){_=_.shared;var b=_.pending;b===null?g.next=g:(g.next=b.next,b.next=g),_.pending=g}}c.lanes|=s,g=c.alternate,g!==null&&(g.lanes|=s),Sg(c.return,s,e),h.lanes|=s;break}g=g.next}}else if(c.tag===10)d=c.type===e.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=s,h=d.alternate,h!==null&&(h.lanes|=s),Sg(d,s,e),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===e){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Yi(i,e,a.children,s),e=e.child}return e;case 9:return a=e.type,o=e.pendingProps.children,Tg(e,s),a=Vg(a),o=o(a),e.flags|=1,Yi(i,e,o,s),e.child;case 14:return o=e.type,a=Lg(o,e.pendingProps),a=Lg(o.type,a),aj(i,e,o,a,s);case 15:return cj(i,e,e.type,e.pendingProps,s);case 17:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Lg(o,a),jj(i,e),e.tag=1,Zf(o)?(i=!0,cg(e)):i=!1,Tg(e,s),ph(e,o,a),rh(e,o,a,s),kj(null,e,o,!0,i,s);case 19:return yj(i,e,s);case 22:return ej(i,e,s)}throw Error(p(156,e.tag))};function Gk(i,e){return ac(i,e)}function al(i,e,s,o){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,e,s,o){return new al(i,e,s,o)}function bj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $k(i){if(typeof i=="function")return bj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function wh(i,e){var s=i.alternate;return s===null?(s=Bg(i.tag,e,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=e,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&14680064,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s}function yh(i,e,s,o,a,c){var d=2;if(o=i,typeof i=="function")bj(i)&&(d=1);else if(typeof i=="string")d=5;else e:switch(i){case ya:return Ah(s.children,a,c,e);case za:d=8,a|=8;break;case Aa:return i=Bg(12,s,e,a|2),i.elementType=Aa,i.lanes=c,i;case Ea:return i=Bg(13,s,e,a),i.elementType=Ea,i.lanes=c,i;case Fa:return i=Bg(19,s,e,a),i.elementType=Fa,i.lanes=c,i;case Ia:return qj(s,a,c,e);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,o=null;break e}throw Error(p(130,i==null?i:typeof i,""))}return e=Bg(d,s,e,a),e.elementType=i,e.type=o,e.lanes=c,e}function Ah(i,e,s,o){return i=Bg(7,i,o,e),i.lanes=s,i}function qj(i,e,s,o){return i=Bg(22,i,o,e),i.elementType=Ia,i.lanes=s,i.stateNode={isHidden:!1},i}function xh(i,e,s){return i=Bg(6,i,null,e),i.lanes=s,i}function zh(i,e,s){return e=Bg(4,i.children!==null?i.children:[],i.key,e),e.lanes=s,e.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},e}function bl(i,e,s,o,a){this.tag=e,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function cl(i,e,s,o,a,c,d,h,g){return i=new bl(i,e,s,h,g),e===1?(e=1,c===!0&&(e|=8)):e=0,c=Bg(3,null,null,e),i.current=c,c.stateNode=i,c.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(c),i}function dl(i,e,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:i,containerInfo:e,implementation:s}}function el(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p(170));var e=i;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p(171))}if(i.tag===1){var s=i.type;if(Zf(s))return bg(i,s,e)}return e}function fl(i,e,s,o,a,c,d,h,g){return i=cl(s,o,!0,i,a,c,d,h,g),i.context=el(null),s=i.current,o=L(),a=lh(s),c=ch(o,a),c.callback=e??null,dh(s,c,a),i.current.lanes=a,Ac(i,a,o),Ek(i,o),i}function gl(i,e,s,o){var a=e.current,c=L(),d=lh(a);return s=el(s),e.context===null?e.context=s:e.pendingContext=s,e=ch(c,d),e.payload={element:i},o=o===void 0?null:o,o!==null&&(e.callback=o),i=dh(a,e,d),i!==null&&(mh(i,a,d,c),eh(i,a,d)),d}function hl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function il(i,e){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<e?s:e}}function jl(i,e){il(i,e),(i=i.alternate)&&il(i,e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(i){console.error(i)};function ml(i){this._internalRoot=i}nl.prototype.render=ml.prototype.render=function(i){var e=this._internalRoot;if(e===null)throw Error(p(409));gl(i,e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var e=i.containerInfo;Sk(function(){gl(null,i,null,null)}),e[uf]=null}};function nl(i){this._internalRoot=i}nl.prototype.unstable_scheduleHydration=function(i){if(i){var e=Hc();i={blockedOn:null,target:i,priority:e};for(var s=0;s<Qc.length&&e!==0&&e<Qc[s].priority;s++);Qc.splice(s,0,i),s===0&&Vc(i)}};function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(i,e,s,o,a){if(a){if(typeof o=="function"){var c=o;o=function(){var _=hl(d);c.call(_)}}var d=fl(e,o,i,0,null,!1,!1,"",ql);return i._reactRootContainer=d,i[uf]=d.current,sf(i.nodeType===8?i.parentNode:i),Sk(),d}for(;a=i.lastChild;)i.removeChild(a);if(typeof o=="function"){var h=o;o=function(){var _=hl(g);h.call(_)}}var g=cl(i,0,!1,null,null,!1,!1,"",ql);return i._reactRootContainer=g,i[uf]=g.current,sf(i.nodeType===8?i.parentNode:i),Sk(function(){gl(e,g,s,o)}),g}function sl(i,e,s,o,a){var c=s._reactRootContainer;if(c){var d=c;if(typeof a=="function"){var h=a;a=function(){var g=hl(d);h.call(g)}}gl(e,d,i,a)}else d=rl(s,e,i,a,o);return hl(d)}Ec=function(i){switch(i.tag){case 3:var e=i.stateNode;if(e.current.memoizedState.isDehydrated){var s=tc(e.pendingLanes);s!==0&&(Cc(e,s|1),Ek(e,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var o=Zg(i,1);if(o!==null){var a=L();mh(o,i,1,a)}}),jl(i,1)}};Fc=function(i){if(i.tag===13){var e=Zg(i,134217728);if(e!==null){var s=L();mh(e,i,134217728,s)}jl(i,134217728)}};Gc=function(i){if(i.tag===13){var e=lh(i),s=Zg(i,e);if(s!==null){var o=L();mh(s,i,e,o)}jl(i,e)}};Hc=function(){return C};Ic=function(i,e){var s=C;try{return C=i,e()}finally{C=s}};yb=function(i,e,s){switch(e){case"input":if(bb(i,s),e=s.name,s.type==="radio"&&e!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var o=s[e];if(o!==i&&o.form===i.form){var a=Db(o);if(!a)throw Error(p(90));Wa(o),bb(o,a)}}}break;case"textarea":ib(i,s);break;case"select":e=s.value,e!=null&&fb(i,!!s.multiple,e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(i,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(e))throw Error(p(200));return dl(i,e,null,s)};reactDom_production_min.createRoot=function(i,e){if(!ol(i))throw Error(p(299));var s=!1,o="",a=ll;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=cl(i,1,!1,null,null,s,!1,o,a),i[uf]=e.current,sf(i.nodeType===8?i.parentNode:i),new ml(e)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var e=i._reactInternals;if(e===void 0)throw typeof i.render=="function"?Error(p(188)):(i=Object.keys(i).join(","),Error(p(268,i)));return i=Zb(e),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Sk(i)};reactDom_production_min.hydrate=function(i,e,s){if(!pl(e))throw Error(p(200));return sl(null,i,e,!0,s)};reactDom_production_min.hydrateRoot=function(i,e,s){if(!ol(i))throw Error(p(405));var o=s!=null&&s.hydratedSources||null,a=!1,c="",d=ll;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),e=fl(e,null,i,1,s??null,a,!1,c,d),i[uf]=e.current,sf(i),o)for(i=0;i<o.length;i++)s=o[i],a=s._getVersion,a=a(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,a]:e.mutableSourceEagerHydrationData.push(s,a);return new nl(e)};reactDom_production_min.render=function(i,e,s){if(!pl(e))throw Error(p(200));return sl(null,i,e,!1,s)};reactDom_production_min.unmountComponentAtNode=function(i){if(!pl(i))throw Error(p(40));return i._reactRootContainer?(Sk(function(){sl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,e,s,o){if(!pl(s))throw Error(p(200));if(i==null||i._reactInternals===void 0)throw Error(p(38));return sl(i,e,s,!1,o)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_extends$1.apply(this,arguments)}var Action;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(i){i===void 0&&(i={});function e(o,a){let{pathname:c,search:d,hash:h}=o.location;return createLocation("",{pathname:c,search:d,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(o,a){return typeof a=="string"?a:createPath(a)}return getUrlBasedHistory(e,s,null,i)}function invariant$1(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function warning$2(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(i,e){return{usr:i.state,key:i.key,idx:e}}function createLocation(i,e,s,o){return s===void 0&&(s=null),_extends$1({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:s,key:e&&e.key||o||createKey()})}function createPath(i){let{pathname:e="/",search:s="",hash:o=""}=i;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function parsePath(i){let e={};if(i){let s=i.indexOf("#");s>=0&&(e.hash=i.substr(s),i=i.substr(0,s));let o=i.indexOf("?");o>=0&&(e.search=i.substr(o),i=i.substr(0,o)),i&&(e.pathname=i)}return e}function getUrlBasedHistory(i,e,s,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:c=!1}=o,d=a.history,h=Action.Pop,g=null,_=b();_==null&&(_=0,d.replaceState(_extends$1({},d.state,{idx:_}),""));function b(){return(d.state||{idx:null}).idx}function j(){h=Action.Pop;let st=b(),tt=st==null?null:st-_;_=st,g&&g({action:h,location:nt.location,delta:tt})}function $(st,tt){h=Action.Push;let it=createLocation(nt.location,st,tt);s&&s(it,st),_=b()+1;let ot=getHistoryState(it,_),ct=nt.createHref(it);try{d.pushState(ot,"",ct)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;a.location.assign(ct)}c&&g&&g({action:h,location:nt.location,delta:1})}function et(st,tt){h=Action.Replace;let it=createLocation(nt.location,st,tt);s&&s(it,st),_=b();let ot=getHistoryState(it,_),ct=nt.createHref(it);d.replaceState(ot,"",ct),c&&g&&g({action:h,location:nt.location,delta:0})}function _e(st){let tt=a.location.origin!=="null"?a.location.origin:a.location.href,it=typeof st=="string"?st:createPath(st);return it=it.replace(/ $/,"%20"),invariant$1(tt,"No window.location.(origin|href) available to create URL for href: "+it),new URL(it,tt)}let nt={get action(){return h},get location(){return i(a,d)},listen(st){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(PopStateEventType,j),g=st,()=>{a.removeEventListener(PopStateEventType,j),g=null}},createHref(st){return e(a,st)},createURL:_e,encodeLocation(st){let tt=_e(st);return{pathname:tt.pathname,search:tt.search,hash:tt.hash}},push:$,replace:et,go(st){return d.go(st)}};return nt}var ResultType;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(ResultType||(ResultType={}));function matchRoutes(i,e,s){s===void 0&&(s="/");let o=typeof e=="string"?parsePath(e):e,a=stripBasename(o.pathname||"/",s);if(a==null)return null;let c=flattenRoutes(i);rankRouteBranches(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let g=decodePath(a);d=matchRouteBranch(c[h],g)}return d}function flattenRoutes(i,e,s,o){e===void 0&&(e=[]),s===void 0&&(s=[]),o===void 0&&(o="");let a=(c,d,h)=>{let g={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};g.relativePath.startsWith("/")&&(invariant$1(g.relativePath.startsWith(o),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(o.length));let _=joinPaths([o,g.relativePath]),b=s.concat(g);c.children&&c.children.length>0&&(invariant$1(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),flattenRoutes(c.children,e,b,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:computeScore(_,c.index),routesMeta:b})};return i.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))a(c,d);else for(let g of explodeOptionalSegments(c.path))a(c,d,g)}),e}function explodeOptionalSegments(i){let e=i.split("/");if(e.length===0)return[];let[s,...o]=e,a=s.endsWith("?"),c=s.replace(/\?$/,"");if(o.length===0)return a?[c,""]:[c];let d=explodeOptionalSegments(o.join("/")),h=[];return h.push(...d.map(g=>g===""?c:[c,g].join("/"))),a&&h.push(...d),h.map(g=>i.startsWith("/")&&g===""?"/":g)}function rankRouteBranches(i){i.sort((e,s)=>e.score!==s.score?s.score-e.score:compareIndexes(e.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=i=>i==="*";function computeScore(i,e){let s=i.split("/"),o=s.length;return s.some(isSplat)&&(o+=splatPenalty),e&&(o+=indexRouteValue),s.filter(a=>!isSplat(a)).reduce((a,c)=>a+(paramRe.test(c)?dynamicSegmentValue:c===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(i,e){return i.length===e.length&&i.slice(0,-1).every((o,a)=>o===e[a])?i[i.length-1]-e[e.length-1]:0}function matchRouteBranch(i,e){let{routesMeta:s}=i,o={},a="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],g=d===s.length-1,_=a==="/"?e:e.slice(a.length)||"/",b=matchPath({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},_);if(!b)return null;Object.assign(o,b.params);let j=h.route;c.push({params:o,pathname:joinPaths([a,b.pathname]),pathnameBase:normalizePathname(joinPaths([a,b.pathnameBase])),route:j}),b.pathnameBase!=="/"&&(a=joinPaths([a,b.pathnameBase]))}return c}function matchPath(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,o]=compilePath(i.path,i.caseSensitive,i.end),a=e.match(s);if(!a)return null;let c=a[0],d=c.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:o.reduce((_,b,j)=>{let{paramName:$,isOptional:et}=b;if($==="*"){let nt=h[j]||"";d=c.slice(0,c.length-nt.length).replace(/(.)\/+$/,"$1")}const _e=h[j];return et&&!_e?_[$]=void 0:_[$]=(_e||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:d,pattern:i}}function compilePath(i,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),warning$2(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let o=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,g)=>(o.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),o]}function decodePath(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning$2(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function stripBasename(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,o=i.charAt(s);return o&&o!=="/"?null:i.slice(s)||"/"}function resolvePath(i,e){e===void 0&&(e="/");let{pathname:s,search:o="",hash:a=""}=typeof i=="string"?parsePath(i):i;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,e):e,search:normalizeSearch(o),hash:normalizeHash(a)}}function resolvePathname(i,e){let s=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(i,e,s,o){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(i){return i.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(i,e){let s=getPathContributingMatches(i);return e?s.map((o,a)=>a===i.length-1?o.pathname:o.pathnameBase):s.map(o=>o.pathnameBase)}function resolveTo(i,e,s,o){o===void 0&&(o=!1);let a;typeof i=="string"?a=parsePath(i):(a=_extends$1({},i),invariant$1(!a.pathname||!a.pathname.includes("?"),getInvalidPathError("?","pathname","search",a)),invariant$1(!a.pathname||!a.pathname.includes("#"),getInvalidPathError("#","pathname","hash",a)),invariant$1(!a.search||!a.search.includes("#"),getInvalidPathError("#","search","hash",a)));let c=i===""||a.pathname==="",d=c?"/":a.pathname,h;if(d==null)h=s;else{let j=e.length-1;if(!o&&d.startsWith("..")){let $=d.split("/");for(;$[0]==="..";)$.shift(),j-=1;a.pathname=$.join("/")}h=j>=0?e[j]:"/"}let g=resolvePath(a,h),_=d&&d!=="/"&&d.endsWith("/"),b=(c||d===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(_||b)&&(g.pathname+="/"),g}const joinPaths=i=>i.join("/").replace(/\/\/+/g,"/"),normalizePathname=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,normalizeHash=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function isRouteErrorResponse(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_extends.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(i){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(i)}function useNavigate(){let{isDataRoute:i}=reactExports.useContext(RouteContext);return i?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let i=reactExports.useContext(DataRouterContext),{basename:e,future:s,navigator:o}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),d=JSON.stringify(getResolveToMatches(a,s.v7_relativeSplatPath)),h=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{h.current=!0}),reactExports.useCallback(function(_,b){if(b===void 0&&(b={}),!h.current)return;if(typeof _=="number"){o.go(_);return}let j=resolveTo(_,JSON.parse(d),c,b.relative==="path");i==null&&e!=="/"&&(j.pathname=j.pathname==="/"?e:joinPaths([e,j.pathname])),(b.replace?o.replace:o.push)(j,b.state,b)},[e,o,d,c,i])}const OutletContext=reactExports.createContext(null);function useOutlet(i){let e=reactExports.useContext(RouteContext).outlet;return e&&reactExports.createElement(OutletContext.Provider,{value:i},e)}function useParams(){let{matches:i}=reactExports.useContext(RouteContext),e=i[i.length-1];return e?e.params:{}}function useRoutes(i,e){return useRoutesImpl(i,e)}function useRoutesImpl(i,e,s,o){useInRouterContext()||invariant$1(!1);let{navigator:a}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),d=c[c.length-1],h=d?d.params:{};d&&d.pathname;let g=d?d.pathnameBase:"/";d&&d.route;let _=useLocation(),b;if(e){var j;let st=typeof e=="string"?parsePath(e):e;g==="/"||(j=st.pathname)!=null&&j.startsWith(g)||invariant$1(!1),b=st}else b=_;let $=b.pathname||"/",et=$;if(g!=="/"){let st=g.replace(/^\//,"").split("/");et="/"+$.replace(/^\//,"").split("/").slice(st.length).join("/")}let _e=matchRoutes(i,{pathname:et}),nt=_renderMatches(_e&&_e.map(st=>Object.assign({},st,{params:Object.assign({},h,st.params),pathname:joinPaths([g,a.encodeLocation?a.encodeLocation(st.pathname).pathname:st.pathname]),pathnameBase:st.pathnameBase==="/"?g:joinPaths([g,a.encodeLocation?a.encodeLocation(st.pathnameBase).pathname:st.pathnameBase])})),c,s,o);return e&&nt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:Action.Pop}},nt):nt}function DefaultErrorComponent(){let i=useRouteError(),e=isRouteErrorResponse(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),s?reactExports.createElement("pre",{style:a},s):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(i){let{routeContext:e,match:s,children:o}=i,a=reactExports.useContext(DataRouterContext);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:e},o)}function _renderMatches(i,e,s,o){var a;if(e===void 0&&(e=[]),s===void 0&&(s=null),o===void 0&&(o=null),i==null){var c;if((c=s)!=null&&c.errors)i=s.matches;else return null}let d=i,h=(a=s)==null?void 0:a.errors;if(h!=null){let b=d.findIndex(j=>j.route.id&&(h==null?void 0:h[j.route.id]));b>=0||invariant$1(!1),d=d.slice(0,Math.min(d.length,b+1))}let g=!1,_=-1;if(s&&o&&o.v7_partialHydration)for(let b=0;b<d.length;b++){let j=d[b];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(_=b),j.route.id){let{loaderData:$,errors:et}=s,_e=j.route.loader&&$[j.route.id]===void 0&&(!et||et[j.route.id]===void 0);if(j.route.lazy||_e){g=!0,_>=0?d=d.slice(0,_+1):d=[d[0]];break}}}return d.reduceRight((b,j,$)=>{let et,_e=!1,nt=null,st=null;s&&(et=h&&j.route.id?h[j.route.id]:void 0,nt=j.route.errorElement||defaultErrorElement,g&&(_<0&&$===0?(warningOnce("route-fallback",!1),_e=!0,st=null):_===$&&(_e=!0,st=j.route.hydrateFallbackElement||null)));let tt=e.concat(d.slice(0,$+1)),it=()=>{let ot;return et?ot=nt:_e?ot=st:j.route.Component?ot=reactExports.createElement(j.route.Component,null):j.route.element?ot=j.route.element:ot=b,reactExports.createElement(RenderedRoute,{match:j,routeContext:{outlet:b,matches:tt,isDataRoute:s!=null},children:ot})};return s&&(j.route.ErrorBoundary||j.route.errorElement||$===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:nt,error:et,children:it(),routeContext:{outlet:null,matches:tt,isDataRoute:!0}}):it()},null)}var DataRouterHook$1=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(DataRouterHook$1||{}),DataRouterStateHook$1=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(DataRouterStateHook$1||{});function useDataRouterContext(i){let e=reactExports.useContext(DataRouterContext);return e||invariant$1(!1),e}function useDataRouterState(i){let e=reactExports.useContext(DataRouterStateContext);return e||invariant$1(!1),e}function useRouteContext(i){let e=reactExports.useContext(RouteContext);return e||invariant$1(!1),e}function useCurrentRouteId(i){let e=useRouteContext(),s=e.matches[e.matches.length-1];return s.route.id||invariant$1(!1),s.route.id}function useRouteError(){var i;let e=reactExports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),o=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return e!==void 0?e:(i=s.errors)==null?void 0:i[o]}function useNavigateStable(){let{router:i}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{s.current=!0}),reactExports.useCallback(function(a,c){c===void 0&&(c={}),s.current&&(typeof a=="number"?i.navigate(a):i.navigate(a,_extends({fromRouteId:e},c)))},[i,e])}const alreadyWarned={};function warningOnce(i,e,s){!e&&!alreadyWarned[i]&&(alreadyWarned[i]=!0)}function Outlet(i){return useOutlet(i.context)}function Route(i){invariant$1(!1)}function Router(i){let{basename:e="/",children:s=null,location:o,navigationType:a=Action.Pop,navigator:c,static:d=!1,future:h}=i;useInRouterContext()&&invariant$1(!1);let g=e.replace(/^\/*/,"/"),_=reactExports.useMemo(()=>({basename:g,navigator:c,static:d,future:_extends({v7_relativeSplatPath:!1},h)}),[g,h,c,d]);typeof o=="string"&&(o=parsePath(o));let{pathname:b="/",search:j="",hash:$="",state:et=null,key:_e="default"}=o,nt=reactExports.useMemo(()=>{let st=stripBasename(b,g);return st==null?null:{location:{pathname:st,search:j,hash:$,state:et,key:_e},navigationType:a}},[g,b,j,$,et,_e,a]);return nt==null?null:reactExports.createElement(NavigationContext.Provider,{value:_},reactExports.createElement(LocationContext.Provider,{children:s,value:nt}))}function Routes(i){let{children:e,location:s}=i;return useRoutes(createRoutesFromChildren(e),s)}new Promise(()=>{});function createRoutesFromChildren(i,e){e===void 0&&(e=[]);let s=[];return reactExports.Children.forEach(i,(o,a)=>{if(!reactExports.isValidElement(o))return;let c=[...e,a];if(o.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(o.props.children,c));return}o.type!==Route&&invariant$1(!1),!o.props.index||!o.props.children||invariant$1(!1);let d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=createRoutesFromChildren(o.props.children,c)),s.push(d)}),s}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(i){let{basename:e,children:s,future:o,window:a}=i,c=reactExports.useRef();c.current==null&&(c.current=createBrowserHistory({window:a,v5Compat:!0}));let d=c.current,[h,g]=reactExports.useState({action:d.action,location:d.location}),{v7_startTransition:_}=o||{},b=reactExports.useCallback(j=>{_&&startTransitionImpl?startTransitionImpl(()=>g(j)):g(j)},[g,_]);return reactExports.useLayoutEffect(()=>d.listen(b),[d,b]),reactExports.createElement(Router,{basename:e,children:s,location:h.location,navigationType:h.action,navigator:d,future:o})}var DataRouterHook;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const AuthContext=reactExports.createContext(),AuthProvider=({children:i})=>{const[e,s]=reactExports.useState(null),[o,a]=reactExports.useState(null),c=h=>{s(h.accessToken)},d=()=>{s(null),a(null)};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:{accessToken:e,refreshToken:o,login:c,logout:d},children:i})},useAuth=()=>reactExports.useContext(AuthContext);function bind(i,e){return function(){return i.apply(e,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(i=>e=>{const s=toString.call(e);return i[s]||(i[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=i=>(i=i.toLowerCase(),e=>kindOf(e)===i),typeOfTest=i=>e=>typeof e===i,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer(i){return i!==null&&!isUndefined(i)&&i.constructor!==null&&!isUndefined(i.constructor)&&isFunction$1(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const isArrayBuffer$1=kindOfTest("ArrayBuffer");function isArrayBufferView(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&isArrayBuffer$1(i.buffer),e}const isString$1=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$1=i=>i!==null&&typeof i=="object",isBoolean=i=>i===!0||i===!1,isPlainObject=i=>{if(kindOf(i)!=="object")return!1;const e=getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},isDate=kindOfTest("Date"),isFile$1=kindOfTest("File"),isBlob$1=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=i=>isObject$1(i)&&isFunction$1(i.pipe),isFormData=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||isFunction$1(i.append)&&((e=kindOf(i))==="formdata"||e==="object"&&isFunction$1(i.toString)&&i.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(i,e,{allOwnKeys:s=!1}={}){if(i===null||typeof i>"u")return;let o,a;if(typeof i!="object"&&(i=[i]),isArray$1(i))for(o=0,a=i.length;o<a;o++)e.call(null,i[o],o,i);else{const c=s?Object.getOwnPropertyNames(i):Object.keys(i),d=c.length;let h;for(o=0;o<d;o++)h=c[o],e.call(null,i[h],h,i)}}function findKey(i,e){e=e.toLowerCase();const s=Object.keys(i);let o=s.length,a;for(;o-- >0;)if(a=s[o],e===a.toLowerCase())return a;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=i=>!isUndefined(i)&&i!==_global;function merge$1(){const{caseless:i}=isContextDefined(this)&&this||{},e={},s=(o,a)=>{const c=i&&findKey(e,a)||a;isPlainObject(e[c])&&isPlainObject(o)?e[c]=merge$1(e[c],o):isPlainObject(o)?e[c]=merge$1({},o):isArray$1(o)?e[c]=o.slice():e[c]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&forEach(arguments[o],s);return e}const extend=(i,e,s,{allOwnKeys:o}={})=>(forEach(e,(a,c)=>{s&&isFunction$1(a)?i[c]=bind(a,s):i[c]=a},{allOwnKeys:o}),i),stripBOM=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),inherits=(i,e,s,o)=>{i.prototype=Object.create(e.prototype,o),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),s&&Object.assign(i.prototype,s)},toFlatObject=(i,e,s,o)=>{let a,c,d;const h={};if(e=e||{},i==null)return e;do{for(a=Object.getOwnPropertyNames(i),c=a.length;c-- >0;)d=a[c],(!o||o(d,i,e))&&!h[d]&&(e[d]=i[d],h[d]=!0);i=s!==!1&&getPrototypeOf(i)}while(i&&(!s||s(i,e))&&i!==Object.prototype);return e},endsWith=(i,e,s)=>{i=String(i),(s===void 0||s>i.length)&&(s=i.length),s-=e.length;const o=i.indexOf(e,s);return o!==-1&&o===s},toArray=i=>{if(!i)return null;if(isArray$1(i))return i;let e=i.length;if(!isNumber$1(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=i[e];return s},isTypedArray$1=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(i,e)=>{const o=(i&&i[Symbol.iterator]).call(i);let a;for(;(a=o.next())&&!a.done;){const c=a.value;e.call(i,c[0],c[1])}},matchAll=(i,e)=>{let s;const o=[];for(;(s=i.exec(e))!==null;)o.push(s);return o},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,o,a){return o.toUpperCase()+a}),hasOwnProperty=(({hasOwnProperty:i})=>(e,s)=>i.call(e,s))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(i,e)=>{const s=Object.getOwnPropertyDescriptors(i),o={};forEach(s,(a,c)=>{let d;(d=e(a,c,i))!==!1&&(o[c]=d||a)}),Object.defineProperties(i,o)},freezeMethods=i=>{reduceDescriptors(i,(e,s)=>{if(isFunction$1(i)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const o=i[s];if(isFunction$1(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},toObjectSet=(i,e)=>{const s={},o=a=>{a.forEach(c=>{s[c]=!0})};return isArray$1(i)?o(i):o(String(i).split(e)),s},noop$1=()=>{},toFiniteNumber=(i,e)=>(i=+i,Number.isFinite(i)?i:e),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(i=16,e=ALPHABET.ALPHA_DIGIT)=>{let s="";const{length:o}=e;for(;i--;)s+=e[Math.random()*o|0];return s};function isSpecCompliantForm(i){return!!(i&&isFunction$1(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const toJSONObject=i=>{const e=new Array(10),s=(o,a)=>{if(isObject$1(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[a]=o;const c=isArray$1(o)?[]:{};return forEach(o,(d,h)=>{const g=s(d,a+1);!isUndefined(g)&&(c[h]=g)}),e[a]=void 0,c}}return o};return s(i,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=i=>i&&(isObject$1(i)||isFunction$1(i))&&isFunction$1(i.then)&&isFunction$1(i.catch),utils$1={isArray:isArray$1,isArrayBuffer:isArrayBuffer$1,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber:isNumber$1,isBoolean,isObject:isObject$1,isPlainObject,isUndefined,isDate,isFile:isFile$1,isBlob:isBlob$1,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach,merge:merge$1,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$1,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(i,e,s,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),o&&(this.request=o),a&&(this.response=a)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors$1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{descriptors$1[i]={value:i}});Object.defineProperties(AxiosError,descriptors$1);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(i,e,s,o,a,c)=>{const d=Object.create(prototype$1);return utils$1.toFlatObject(i,d,function(g){return g!==Error.prototype},h=>h!=="isAxiosError"),AxiosError.call(d,i.message,e,s,o,a),d.cause=i,d.name=i.name,c&&Object.assign(d,c),d};const httpAdapter=null;function isVisitable(i){return utils$1.isPlainObject(i)||utils$1.isArray(i)}function removeBrackets(i){return utils$1.endsWith(i,"[]")?i.slice(0,-2):i}function renderKey(i,e,s){return i?i.concat(e).map(function(a,c){return a=removeBrackets(a),!s&&c?"["+a+"]":a}).join(s?".":""):e}function isFlatArray(i){return utils$1.isArray(i)&&!i.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData(i,e,s){if(!utils$1.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,s=utils$1.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(nt,st){return!utils$1.isUndefined(st[nt])});const o=s.metaTokens,a=s.visitor||b,c=s.dots,d=s.indexes,g=(s.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(e);if(!utils$1.isFunction(a))throw new TypeError("visitor must be a function");function _(_e){if(_e===null)return"";if(utils$1.isDate(_e))return _e.toISOString();if(!g&&utils$1.isBlob(_e))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(_e)||utils$1.isTypedArray(_e)?g&&typeof Blob=="function"?new Blob([_e]):Buffer.from(_e):_e}function b(_e,nt,st){let tt=_e;if(_e&&!st&&typeof _e=="object"){if(utils$1.endsWith(nt,"{}"))nt=o?nt:nt.slice(0,-2),_e=JSON.stringify(_e);else if(utils$1.isArray(_e)&&isFlatArray(_e)||(utils$1.isFileList(_e)||utils$1.endsWith(nt,"[]"))&&(tt=utils$1.toArray(_e)))return nt=removeBrackets(nt),tt.forEach(function(ot,ct){!(utils$1.isUndefined(ot)||ot===null)&&e.append(d===!0?renderKey([nt],ct,c):d===null?nt:nt+"[]",_(ot))}),!1}return isVisitable(_e)?!0:(e.append(renderKey(st,nt,c),_(_e)),!1)}const j=[],$=Object.assign(predicates,{defaultVisitor:b,convertValue:_,isVisitable});function et(_e,nt){if(!utils$1.isUndefined(_e)){if(j.indexOf(_e)!==-1)throw Error("Circular reference detected in "+nt.join("."));j.push(_e),utils$1.forEach(_e,function(tt,it){(!(utils$1.isUndefined(tt)||tt===null)&&a.call(e,tt,utils$1.isString(it)?it.trim():it,nt,$))===!0&&et(tt,nt?nt.concat(it):[it])}),j.pop()}}if(!utils$1.isObject(i))throw new TypeError("data must be an object");return et(i),e}function encode$1(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function AxiosURLSearchParams(i,e){this._pairs=[],i&&toFormData(i,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,s){this._pairs.push([e,s])};prototype.toString=function(e){const s=e?function(o){return e.call(this,o,encode$1)}:encode$1;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function encode(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(i,e,s){if(!e)return i;const o=s&&s.encode||encode,a=s&&s.serialize;let c;if(a?c=a(e,s):c=utils$1.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,s).toString(o),c){const d=i.indexOf("#");d!==-1&&(i=i.slice(0,d)),i+=(i.indexOf("?")===-1?"?":"&")+c}return i}class InterceptorManager{constructor(){this.handlers=[]}use(e,s,o){return this.handlers.push({fulfilled:e,rejected:s,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$1.forEach(this.handlers,function(o){o!==null&&e(o)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(i=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(i)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(i,e){return toFormData(i,new platform.classes.URLSearchParams,Object.assign({visitor:function(s,o,a,c){return platform.isNode&&utils$1.isBuffer(s)?(this.append(o,s.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(i){return utils$1.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(i){const e={},s=Object.keys(i);let o;const a=s.length;let c;for(o=0;o<a;o++)c=s[o],e[c]=i[c];return e}function formDataToJSON(i){function e(s,o,a,c){let d=s[c++];if(d==="__proto__")return!0;const h=Number.isFinite(+d),g=c>=s.length;return d=!d&&utils$1.isArray(a)?a.length:d,g?(utils$1.hasOwnProp(a,d)?a[d]=[a[d],o]:a[d]=o,!h):((!a[d]||!utils$1.isObject(a[d]))&&(a[d]=[]),e(s,o,a[d],c)&&utils$1.isArray(a[d])&&(a[d]=arrayToObject(a[d])),!h)}if(utils$1.isFormData(i)&&utils$1.isFunction(i.entries)){const s={};return utils$1.forEachEntry(i,(o,a)=>{e(parsePropPath(o),a,s,0)}),s}return null}function stringifySafely(i,e,s){if(utils$1.isString(i))try{return(e||JSON.parse)(i),utils$1.trim(i)}catch(o){if(o.name!=="SyntaxError")throw o}return(s||JSON.stringify)(i)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(e,s){const o=s.getContentType()||"",a=o.indexOf("application/json")>-1,c=utils$1.isObject(e);if(c&&utils$1.isHTMLForm(e)&&(e=new FormData(e)),utils$1.isFormData(e))return a?JSON.stringify(formDataToJSON(e)):e;if(utils$1.isArrayBuffer(e)||utils$1.isBuffer(e)||utils$1.isStream(e)||utils$1.isFile(e)||utils$1.isBlob(e))return e;if(utils$1.isArrayBufferView(e))return e.buffer;if(utils$1.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((h=utils$1.isFileList(e))||o.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return toFormData(h?{"files[]":e}:e,g&&new g,this.formSerializer)}}return c||a?(s.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const s=this.transitional||defaults$1.transitional,o=s&&s.forcedJSONParsing,a=this.responseType==="json";if(e&&utils$1.isString(e)&&(o&&!this.responseType||a)){const d=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(h){if(d)throw h.name==="SyntaxError"?AxiosError.from(h,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],i=>{defaults$1.headers[i]={}});const defaults$2=defaults$1,ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=i=>{const e={};let s,o,a;return i&&i.split(`
`).forEach(function(d){a=d.indexOf(":"),s=d.substring(0,a).trim().toLowerCase(),o=d.substring(a+1).trim(),!(!s||e[s]&&ignoreDuplicateOf[s])&&(s==="set-cookie"?e[s]?e[s].push(o):e[s]=[o]:e[s]=e[s]?e[s]+", "+o:o)}),e},$internals=Symbol("internals");function normalizeHeader(i){return i&&String(i).trim().toLowerCase()}function normalizeValue(i){return i===!1||i==null?i:utils$1.isArray(i)?i.map(normalizeValue):String(i)}function parseTokens(i){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=s.exec(i);)e[o[1]]=o[2];return e}const isValidHeaderName=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function matchHeaderValue(i,e,s,o,a){if(utils$1.isFunction(o))return o.call(this,e,s);if(a&&(e=s),!!utils$1.isString(e)){if(utils$1.isString(o))return e.indexOf(o)!==-1;if(utils$1.isRegExp(o))return o.test(e)}}function formatHeader(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,o)=>s.toUpperCase()+o)}function buildAccessors(i,e){const s=utils$1.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(i,o+s,{value:function(a,c,d){return this[o].call(this,e,a,c,d)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,s,o){const a=this;function c(h,g,_){const b=normalizeHeader(g);if(!b)throw new Error("header name must be a non-empty string");const j=utils$1.findKey(a,b);(!j||a[j]===void 0||_===!0||_===void 0&&a[j]!==!1)&&(a[j||g]=normalizeValue(h))}const d=(h,g)=>utils$1.forEach(h,(_,b)=>c(_,b,g));return utils$1.isPlainObject(e)||e instanceof this.constructor?d(e,s):utils$1.isString(e)&&(e=e.trim())&&!isValidHeaderName(e)?d(parseHeaders(e),s):e!=null&&c(s,e,o),this}get(e,s){if(e=normalizeHeader(e),e){const o=utils$1.findKey(this,e);if(o){const a=this[o];if(!s)return a;if(s===!0)return parseTokens(a);if(utils$1.isFunction(s))return s.call(this,a,o);if(utils$1.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=normalizeHeader(e),e){const o=utils$1.findKey(this,e);return!!(o&&this[o]!==void 0&&(!s||matchHeaderValue(this,this[o],o,s)))}return!1}delete(e,s){const o=this;let a=!1;function c(d){if(d=normalizeHeader(d),d){const h=utils$1.findKey(o,d);h&&(!s||matchHeaderValue(o,o[h],h,s))&&(delete o[h],a=!0)}}return utils$1.isArray(e)?e.forEach(c):c(e),a}clear(e){const s=Object.keys(this);let o=s.length,a=!1;for(;o--;){const c=s[o];(!e||matchHeaderValue(this,this[c],c,e,!0))&&(delete this[c],a=!0)}return a}normalize(e){const s=this,o={};return utils$1.forEach(this,(a,c)=>{const d=utils$1.findKey(o,c);if(d){s[d]=normalizeValue(a),delete s[c];return}const h=e?formatHeader(c):String(c).trim();h!==c&&delete s[c],s[h]=normalizeValue(a),o[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return utils$1.forEach(this,(o,a)=>{o!=null&&o!==!1&&(s[a]=e&&utils$1.isArray(o)?o.join(", "):o)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const o=new this(e);return s.forEach(a=>o.set(a)),o}static accessor(e){const o=(this[$internals]=this[$internals]={accessors:{}}).accessors,a=this.prototype;function c(d){const h=normalizeHeader(d);o[h]||(buildAccessors(a,d),o[h]=!0)}return utils$1.isArray(e)?e.forEach(c):c(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:i},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(o){this[s]=o}}});utils$1.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(i,e){const s=this||defaults$2,o=e||s,a=AxiosHeaders$1.from(o.headers);let c=o.data;return utils$1.forEach(i,function(h){c=h.call(s,c,a.normalize(),e?e.status:void 0)}),a.normalize(),c}function isCancel(i){return!!(i&&i.__CANCEL__)}function CanceledError(i,e,s){AxiosError.call(this,i??"canceled",AxiosError.ERR_CANCELED,e,s),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(i,e,s){const o=s.config.validateStatus;!s.status||!o||o(s.status)?i(s):e(new AxiosError("Request failed with status code "+s.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const cookies=platform.hasStandardBrowserEnv?{write(i,e,s,o,a,c){const d=[i+"="+encodeURIComponent(e)];utils$1.isNumber(s)&&d.push("expires="+new Date(s).toGMTString()),utils$1.isString(o)&&d.push("path="+o),utils$1.isString(a)&&d.push("domain="+a),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function combineURLs(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function buildFullPath(i,e){return i&&!isAbsoluteURL(e)?combineURLs(i,e):e}const isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let o;function a(c){let d=c;return e&&(s.setAttribute("href",d),d=s.href),s.setAttribute("href",d),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return o=a(window.location.href),function(d){const h=utils$1.isString(d)?a(d):d;return h.protocol===o.protocol&&h.host===o.host}}():function(){return function(){return!0}}();function parseProtocol(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function speedometer(i,e){i=i||10;const s=new Array(i),o=new Array(i);let a=0,c=0,d;return e=e!==void 0?e:1e3,function(g){const _=Date.now(),b=o[c];d||(d=_),s[a]=g,o[a]=_;let j=c,$=0;for(;j!==a;)$+=s[j++],j=j%i;if(a=(a+1)%i,a===c&&(c=(c+1)%i),_-d<e)return;const et=b&&_-b;return et?Math.round($*1e3/et):void 0}}function progressEventReducer(i,e){let s=0;const o=speedometer(50,250);return a=>{const c=a.loaded,d=a.lengthComputable?a.total:void 0,h=c-s,g=o(h),_=c<=d;s=c;const b={loaded:c,total:d,progress:d?c/d:void 0,bytes:h,rate:g||void 0,estimated:g&&d&&_?(d-c)/g:void 0,event:a};b[e?"download":"upload"]=!0,i(b)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(i){return new Promise(function(s,o){let a=i.data;const c=AxiosHeaders$1.from(i.headers).normalize();let{responseType:d,withXSRFToken:h}=i,g;function _(){i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let b;if(utils$1.isFormData(a)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)c.setContentType(!1);else if((b=c.getContentType())!==!1){const[nt,...st]=b?b.split(";").map(tt=>tt.trim()).filter(Boolean):[];c.setContentType([nt||"multipart/form-data",...st].join("; "))}}let j=new XMLHttpRequest;if(i.auth){const nt=i.auth.username||"",st=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";c.set("Authorization","Basic "+btoa(nt+":"+st))}const $=buildFullPath(i.baseURL,i.url);j.open(i.method.toUpperCase(),buildURL($,i.params,i.paramsSerializer),!0),j.timeout=i.timeout;function et(){if(!j)return;const nt=AxiosHeaders$1.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),tt={data:!d||d==="text"||d==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:nt,config:i,request:j};settle(function(ot){s(ot),_()},function(ot){o(ot),_()},tt),j=null}if("onloadend"in j?j.onloadend=et:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(et)},j.onabort=function(){j&&(o(new AxiosError("Request aborted",AxiosError.ECONNABORTED,i,j)),j=null)},j.onerror=function(){o(new AxiosError("Network Error",AxiosError.ERR_NETWORK,i,j)),j=null},j.ontimeout=function(){let st=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const tt=i.transitional||transitionalDefaults;i.timeoutErrorMessage&&(st=i.timeoutErrorMessage),o(new AxiosError(st,tt.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,i,j)),j=null},platform.hasStandardBrowserEnv&&(h&&utils$1.isFunction(h)&&(h=h(i)),h||h!==!1&&isURLSameOrigin($))){const nt=i.xsrfHeaderName&&i.xsrfCookieName&&cookies.read(i.xsrfCookieName);nt&&c.set(i.xsrfHeaderName,nt)}a===void 0&&c.setContentType(null),"setRequestHeader"in j&&utils$1.forEach(c.toJSON(),function(st,tt){j.setRequestHeader(tt,st)}),utils$1.isUndefined(i.withCredentials)||(j.withCredentials=!!i.withCredentials),d&&d!=="json"&&(j.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&j.addEventListener("progress",progressEventReducer(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&j.upload&&j.upload.addEventListener("progress",progressEventReducer(i.onUploadProgress)),(i.cancelToken||i.signal)&&(g=nt=>{j&&(o(!nt||nt.type?new CanceledError(null,i,j):nt),j.abort(),j=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const _e=parseProtocol($);if(_e&&platform.protocols.indexOf(_e)===-1){o(new AxiosError("Unsupported protocol "+_e+":",AxiosError.ERR_BAD_REQUEST,i));return}j.send(a||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils$1.forEach(knownAdapters,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const renderReason=i=>`- ${i}`,isResolvedHandle=i=>utils$1.isFunction(i)||i===null||i===!1,adapters$1={getAdapter:i=>{i=utils$1.isArray(i)?i:[i];const{length:e}=i;let s,o;const a={};for(let c=0;c<e;c++){s=i[c];let d;if(o=s,!isResolvedHandle(s)&&(o=knownAdapters[(d=String(s)).toLowerCase()],o===void 0))throw new AxiosError(`Unknown adapter '${d}'`);if(o)break;a[d||"#"+c]=o}if(!o){const c=Object.entries(a).map(([h,g])=>`adapter ${h} `+(g===!1?"is not supported by the environment":"is not available in the build"));let d=e?c.length>1?`since :
`+c.map(renderReason).join(`
`):" "+renderReason(c[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:knownAdapters};function throwIfCancellationRequested(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new CanceledError(null,i)}function dispatchRequest(i){return throwIfCancellationRequested(i),i.headers=AxiosHeaders$1.from(i.headers),i.data=transformData.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),adapters$1.getAdapter(i.adapter||defaults$2.adapter)(i).then(function(o){return throwIfCancellationRequested(i),o.data=transformData.call(i,i.transformResponse,o),o.headers=AxiosHeaders$1.from(o.headers),o},function(o){return isCancel(o)||(throwIfCancellationRequested(i),o&&o.response&&(o.response.data=transformData.call(i,i.transformResponse,o.response),o.response.headers=AxiosHeaders$1.from(o.response.headers))),Promise.reject(o)})}const headersToObject=i=>i instanceof AxiosHeaders$1?i.toJSON():i;function mergeConfig(i,e){e=e||{};const s={};function o(_,b,j){return utils$1.isPlainObject(_)&&utils$1.isPlainObject(b)?utils$1.merge.call({caseless:j},_,b):utils$1.isPlainObject(b)?utils$1.merge({},b):utils$1.isArray(b)?b.slice():b}function a(_,b,j){if(utils$1.isUndefined(b)){if(!utils$1.isUndefined(_))return o(void 0,_,j)}else return o(_,b,j)}function c(_,b){if(!utils$1.isUndefined(b))return o(void 0,b)}function d(_,b){if(utils$1.isUndefined(b)){if(!utils$1.isUndefined(_))return o(void 0,_)}else return o(void 0,b)}function h(_,b,j){if(j in e)return o(_,b);if(j in i)return o(void 0,_)}const g={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:h,headers:(_,b)=>a(headersToObject(_),headersToObject(b),!0)};return utils$1.forEach(Object.keys(Object.assign({},i,e)),function(b){const j=g[b]||a,$=j(i[b],e[b],b);utils$1.isUndefined($)&&j!==h||(s[b]=$)}),s}const VERSION="1.6.7",validators$1={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{validators$1[i]=function(o){return typeof o===i||"a"+(e<1?"n ":" ")+i}});const deprecatedWarnings={};validators$1.transitional=function(e,s,o){function a(c,d){return"[Axios v"+VERSION+"] Transitional option '"+c+"'"+d+(o?". "+o:"")}return(c,d,h)=>{if(e===!1)throw new AxiosError(a(d," has been removed"+(s?" in "+s:"")),AxiosError.ERR_DEPRECATED);return s&&!deprecatedWarnings[d]&&(deprecatedWarnings[d]=!0,console.warn(a(d," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(c,d,h):!0}};function assertOptions(i,e,s){if(typeof i!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const o=Object.keys(i);let a=o.length;for(;a-- >0;){const c=o[a],d=e[c];if(d){const h=i[c],g=h===void 0||d(h,c,i);if(g!==!0)throw new AxiosError("option "+c+" must be "+g,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new AxiosError("Unknown option "+c,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(e,s){try{return await this._request(e,s)}catch(o){if(o instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}throw o}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=mergeConfig(this.defaults,s);const{transitional:o,paramsSerializer:a,headers:c}=s;o!==void 0&&validator.assertOptions(o,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),a!=null&&(utils$1.isFunction(a)?s.paramsSerializer={serialize:a}:validator.assertOptions(a,{encode:validators.function,serialize:validators.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let d=c&&utils$1.merge(c.common,c[s.method]);c&&utils$1.forEach(["delete","get","head","post","put","patch","common"],_e=>{delete c[_e]}),s.headers=AxiosHeaders$1.concat(d,c);const h=[];let g=!0;this.interceptors.request.forEach(function(nt){typeof nt.runWhen=="function"&&nt.runWhen(s)===!1||(g=g&&nt.synchronous,h.unshift(nt.fulfilled,nt.rejected))});const _=[];this.interceptors.response.forEach(function(nt){_.push(nt.fulfilled,nt.rejected)});let b,j=0,$;if(!g){const _e=[dispatchRequest.bind(this),void 0];for(_e.unshift.apply(_e,h),_e.push.apply(_e,_),$=_e.length,b=Promise.resolve(s);j<$;)b=b.then(_e[j++],_e[j++]);return b}$=h.length;let et=s;for(j=0;j<$;){const _e=h[j++],nt=h[j++];try{et=_e(et)}catch(st){nt.call(this,st);break}}try{b=dispatchRequest.call(this,et)}catch(_e){return Promise.reject(_e)}for(j=0,$=_.length;j<$;)b=b.then(_[j++],_[j++]);return b}getUri(e){e=mergeConfig(this.defaults,e);const s=buildFullPath(e.baseURL,e.url);return buildURL(s,e.params,e.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(s,o){return this.request(mergeConfig(o||{},{method:e,url:s,data:(o||{}).data}))}});utils$1.forEach(["post","put","patch"],function(e){function s(o){return function(c,d,h){return this.request(mergeConfig(h||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}Axios.prototype[e]=s(),Axios.prototype[e+"Form"]=s(!0)});const Axios$1=Axios;class CancelToken{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(c){s=c});const o=this;this.promise.then(a=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](a);o._listeners=null}),this.promise.then=a=>{let c;const d=new Promise(h=>{o.subscribe(h),c=h}).then(a);return d.cancel=function(){o.unsubscribe(c)},d},e(function(c,d,h){o.reason||(o.reason=new CanceledError(c,d,h),s(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}static source(){let e;return{token:new CancelToken(function(a){e=a}),cancel:e}}}const CancelToken$1=CancelToken;function spread(i){return function(s){return i.apply(null,s)}}function isAxiosError(i){return utils$1.isObject(i)&&i.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([i,e])=>{HttpStatusCode[e]=i});const HttpStatusCode$1=HttpStatusCode;function createInstance(i){const e=new Axios$1(i),s=bind(Axios$1.prototype.request,e);return utils$1.extend(s,Axios$1.prototype,e,{allOwnKeys:!0}),utils$1.extend(s,e,null,{allOwnKeys:!0}),s.create=function(a){return createInstance(mergeConfig(i,a))},s}const axios=createInstance(defaults$2);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(e){return Promise.all(e)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=i=>formDataToJSON(utils$1.isHTMLForm(i)?new FormData(i):i);axios.getAdapter=adapters$1.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const BASE_URL="http://localhost:5000",api=axios.create({baseURL:BASE_URL}),privateAxios=axios.create({baseURL:BASE_URL,headers:{"Content-Type":"application/json"},withCredentials:!0}),Login=()=>{const[i,e]=reactExports.useState(""),[s,o]=reactExports.useState(""),a=useNavigate(),{login:c}=useAuth(),[d,h]=reactExports.useState(""),[g,_]=reactExports.useState(0),[b,j]=reactExports.useState("Login");reactExports.useEffect(()=>{if(g<b.length){const et=setTimeout(()=>{h(_e=>_e+b[g]),_(_e=>_e+1)},200);return()=>clearTimeout(et)}},[g,b]);const $=async()=>{var et,_e,nt,st,tt;try{const it=await api.post("users/login",{email:i,password:s},{withCredentials:!0}),{userID:ot,role:ct,accessToken:rt}=it.data;c({accessToken:rt}),localStorage.setItem("userID",ot),localStorage.setItem("userRole",ct),alert("Logged in successfully"),a("/welcome")}catch(it){console.error(it),((_e=(et=it.response)==null?void 0:et.data)==null?void 0:_e.msg)==="Please verify your email first"?(alert(it.response.data.msg),a(`/verify/${i}`)):((nt=it.response)==null?void 0:nt.status)===429?alert(it.response.data.error):alert(((tt=(st=it.response)==null?void 0:st.data)==null?void 0:tt.msg)||"An error occurred")}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{children:d}),jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Email",value:i,onChange:et=>e(et.target.value)}),jsxRuntimeExports.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:et=>o(et.target.value)})]}),jsxRuntimeExports.jsx("button",{onClick:$,children:"Login"})]})},Register=()=>{const[i,e]=reactExports.useState(""),[s,o]=reactExports.useState(""),[a,c]=reactExports.useState([]),[d,h]=reactExports.useState(""),[g,_]=reactExports.useState(""),[b,j]=reactExports.useState([]),[$,et]=reactExports.useState(""),_e=useNavigate(),[nt,st]=reactExports.useState(!1),[tt,it]=reactExports.useState(""),[ot,ct]=reactExports.useState(0),[rt,lt]=reactExports.useState("Register");reactExports.useEffect(()=>{if(console.log("register component rerendered"),ot<rt.length){const yt=setTimeout(()=>{it(_t=>_t+rt[ot]),ct(_t=>_t+1)},200);return()=>clearTimeout(yt)}mt(),d&&(console.log(d),gt())},[ot,rt,d]);const mt=async()=>{try{const yt=await api.get("/department/get-departments");yt.status===200&&c(yt.data.department)}catch(yt){yt.response&&yt.response.data&&console.log(yt.response.data.msg)}},gt=async()=>{try{const yt=await api.get(`/programs/get-department-programs/${d}`);yt.status===200&&j(yt.data.programs)}catch(yt){yt.response&&yt.response.data&&console.log(yt.response.data.msg)}},ft=async()=>{try{if(console.log("registration submission func has been rerendered"),console.log(d),nt)return;st(!0);let yt;g==="Student"?yt=await api.post("users/student-registration",{email:i,password:s,chosenDepartment:d,chosenRole:g,chosenProgram:$}):yt=await api.post("users/staff-registration",{email:i,password:s,chosenRole:g}),yt.status===200&&(alert("Registered successfully, verification code sent to your email"),_e(`/verify/${i}`))}catch(yt){yt.response&&yt.response.data&&alert(yt.response.data.msg)}finally{setTimeout(()=>{st(!1)},3e3)}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{children:tt}),jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Email",value:i,onChange:yt=>e(yt.target.value)}),jsxRuntimeExports.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:yt=>o(yt.target.value)}),jsxRuntimeExports.jsxs("select",{value:g,onChange:yt=>_(yt.target.value),className:"role-selection",children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Select your role"}),jsxRuntimeExports.jsx("option",{children:"Student"}),jsxRuntimeExports.jsx("option",{children:"Staff"}),jsxRuntimeExports.jsx("option",{children:"Librarian"})]}),g==="Student"&&jsxRuntimeExports.jsxs("select",{value:d,onChange:yt=>h(yt.target.value),className:"department-selection",children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Select your department"}),a.length>0&&a.map(yt=>jsxRuntimeExports.jsx("option",{value:yt._id,children:yt.title},yt._id))]}),d&&jsxRuntimeExports.jsxs("select",{value:$,onChange:yt=>et(yt.target.value),className:"program-selection",children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Select your Program"}),b.length>0&&b.map(yt=>jsxRuntimeExports.jsx("option",{value:yt._id,children:yt.title},yt._id))]})]}),jsxRuntimeExports.jsx("button",{onClick:ft,children:"Register"})]})},Authentication=()=>{const[i,e]=reactExports.useState(!1);return jsxRuntimeExports.jsx("div",{className:"auth-body",children:jsxRuntimeExports.jsxs("div",{className:"auth-container",children:[jsxRuntimeExports.jsxs("div",{className:"right-side",children:[jsxRuntimeExports.jsx("h2",{children:"PanpacificU E-Library"}),jsxRuntimeExports.jsx("a",{href:"https://www.freepik.com/",children:"Designed by macrovector / Freepik"})]}),jsxRuntimeExports.jsxs("div",{className:"left-side",children:[i?jsxRuntimeExports.jsx(Register,{}):jsxRuntimeExports.jsx(Login,{}),jsxRuntimeExports.jsxs("div",{className:"create-account",children:[!i&&jsxRuntimeExports.jsx("p",{children:"Don't have an account yet?"}),jsxRuntimeExports.jsx("button",{className:"buttons",onClick:()=>{e(!i)},children:i?"Go to login page":"Create an account"})]})]})]})})},useUserData=()=>{const[i,e]=reactExports.useState({}),s=localStorage.getItem("userID"),o=useNavigate();return reactExports.useEffect(()=>{(async()=>{try{const c=await privateAxios.get(`/users/get-user/${s}`,{withCredentials:!0});e(c.data.currentUser),console.log(i.departmentName),console.log(i.programName),console.log({user:i})}catch(c){console.log(c),c.response&&c.response.status===401&&(console.log("Token expired. Navigating to /auth"),o("/auth"))}})()},[]),{user:i}},useTokenRefresh=()=>{const{login:i}=useAuth();return async()=>{try{console.log("Refreshing token...");const o=(await api.post("/token/refresh",{},{withCredentials:!0})).data.accessToken;return await i({accessToken:o}),console.log("login",i),console.log("New token:",o),o}catch(s){console.error("Error refreshing token:",s)}}},usePrivateApi=()=>{const i=useTokenRefresh(),e=useAuth();return reactExports.useEffect(()=>{const s=privateAxios.interceptors.request.use(a=>(a.headers.Authorization||(a.headers.Authorization=`Bearer ${e==null?void 0:e.accessToken}`),a),a=>Promise.reject(a)),o=privateAxios.interceptors.response.use(a=>a,async a=>{var d;const c=a==null?void 0:a.config;if(((d=a==null?void 0:a.response)==null?void 0:d.status)===403&&!(c!=null&&c.sent)){c.sent=!0;try{const h=await i();return c.headers.Authorization=`Bearer ${h}`,privateAxios(c)}catch(h){return console.error("Failed to refresh access token:",h),Promise.reject(a)}}return Promise.reject(a)});return()=>{privateAxios.interceptors.response.eject(o),privateAxios.interceptors.request.eject(s)}},[i,e]),privateAxios},SearchInput=()=>jsxRuntimeExports.jsxs("div",{className:"search-div",children:[jsxRuntimeExports.jsx("input",{placeholder:"Search for a program",className:"search-input"}),jsxRuntimeExports.jsx("img",{src:"search.svg",className:"search-icon"})]}),Programs=()=>{const[i,e]=reactExports.useState(),[s,o]=reactExports.useState([]),{user:a}=useUserData(),c=usePrivateApi(),{login:d}=useAuth(),h=localStorage.getItem("userID"),g=localStorage.getItem("userRole"),_=useNavigate(),b=async()=>{try{if(a.role==="Student"){const $=await c.get(`/users/${h}/programs`,g,{withCredentials:!0});console.log({login:d}),o($.data.response.restOfPrograms),e($.data.response.recommendedPrograms)}else if(a.role==="Staff"){const $=await c.get("/programs/get-programs");o($.data.response.programs)}}catch($){console.log($),$.response&&$.response.status===401&&(console.log("Token expired. Navigating to /auth"),_("/auth"))}},j=$=>{_(`/courses/${$}`)};return reactExports.useEffect(()=>{(async()=>{await b()})()},[a,d.accessToken]),jsxRuntimeExports.jsxs("div",{className:"programs",children:[jsxRuntimeExports.jsx(SearchInput,{}),i&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{children:"Recommended"}),jsxRuntimeExports.jsx("div",{className:"recommended-programs",children:jsxRuntimeExports.jsxs("div",{className:"program-card recommended-program",onClick:()=>j(i._id),children:[jsxRuntimeExports.jsx("div",{className:"book-img-div",children:jsxRuntimeExports.jsx("img",{className:"book-img",src:"book.png",alt:"books"})}),jsxRuntimeExports.jsxs("div",{className:"program-details",children:[jsxRuntimeExports.jsx("p",{className:"program-title",children:i.title}),jsxRuntimeExports.jsx("p",{className:"program-description",children:i.description})]})]},i._id)})]}),i&&jsxRuntimeExports.jsx("h2",{children:"Others"}),jsxRuntimeExports.jsx("div",{className:"other-programs",children:s.map($=>jsxRuntimeExports.jsxs("div",{className:"program-card",onClick:()=>j($._id),children:[jsxRuntimeExports.jsx("div",{className:"book-img-div",children:jsxRuntimeExports.jsx("img",{className:"book-img",src:"book.png",alt:"books"})}),jsxRuntimeExports.jsxs("div",{className:"program-details",children:[jsxRuntimeExports.jsx("h1",{className:"program-title",children:$.title}),jsxRuntimeExports.jsx("p",{className:"program-description",children:$.description})]})]},$._id))})]})},ProfileSection=({showProfileSection:i,setShowProfileSection:e})=>{const[s,o]=reactExports.useState(!1),[a,c]=reactExports.useState(""),{user:d}=useUserData(),h=localStorage.getItem("userID"),g=async b=>{b.preventDefault();try{(await api.post(`/users/profile/upload-image/${h}`,{base64Image:a},{withCredentials:!0})).status===200&&(alert("Profile picture has been uploaded successfully. Refresh the page to see changes."),o(!1))}catch(j){console.error("Error uploading profile picture:",j)}},_=b=>{const j=b.target.files[0];if(j){const $=new FileReader;$.readAsDataURL(j),$.onload=()=>{console.log($.result),c($.result)},$.onerror=et=>{console.error("Error reading file:",et)}}};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i?jsxRuntimeExports.jsxs("div",{className:"profile-section",children:[jsxRuntimeExports.jsxs("div",{className:"user-details",children:[jsxRuntimeExports.jsx("img",{src:(d==null?void 0:d.profilePic)||"pfp.avif",alt:"user's profile picture",className:"user-pic"}),s?jsxRuntimeExports.jsxs("form",{className:"upload-pic-form",onSubmit:g,children:[jsxRuntimeExports.jsx("input",{type:"file",accept:".jpeg, .jpg, .png",onChange:_}),jsxRuntimeExports.jsxs("div",{className:"upload-btn-choices",children:[jsxRuntimeExports.jsx("button",{type:"submit",children:"Upload"}),jsxRuntimeExports.jsx("button",{onClick:()=>o(!1),children:"Cancel"})]})]}):jsxRuntimeExports.jsx("button",{className:"change-pic-btn",onClick:()=>o(!0),children:"Change Profile Picture"}),jsxRuntimeExports.jsxs("h2",{className:"user-greeting",children:["Hello! ",d==null?void 0:d.username," 👋"]},d==null?void 0:d._id),jsxRuntimeExports.jsx("h3",{className:"user-email",children:d==null?void 0:d.email}),jsxRuntimeExports.jsx("h4",{className:"user-role",children:d==null?void 0:d.role}),d.departmentName&&jsxRuntimeExports.jsxs("h4",{className:"user-department",children:[jsxRuntimeExports.jsx("p",{children:"Department:"})," ",d==null?void 0:d.departmentName]}),d.programName&&jsxRuntimeExports.jsxs("h4",{className:"user-department",children:[jsxRuntimeExports.jsx("p",{children:"Program:"})," ",d==null?void 0:d.programName]}),jsxRuntimeExports.jsx("div",{className:"separator-underline"}),jsxRuntimeExports.jsxs("div",{className:"user-content-section",children:[jsxRuntimeExports.jsx("h2",{children:"NOTES"}),jsxRuntimeExports.jsx("h2",{children:"BOOKSHELF"})]}),jsxRuntimeExports.jsx("div",{className:"separator-underline"}),jsxRuntimeExports.jsxs("div",{className:"log-out-section",children:[jsxRuntimeExports.jsx("a",{children:"Change password?"}),jsxRuntimeExports.jsx("button",{children:"LOG OUT"})]})]}),jsxRuntimeExports.jsx("button",{className:"hide-profile-section",onClick:()=>e(!1),children:"x"})]}):jsxRuntimeExports.jsx("div",{className:"user-icon",onClick:()=>e(!0),children:jsxRuntimeExports.jsx("img",{className:"user-icon",src:(d==null?void 0:d.profilePic)||"pfp.avif",alt:"user-profile"})})})},Home=()=>{const[i,e]=reactExports.useState(!1);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"home-container",children:[jsxRuntimeExports.jsx(ProfileSection,{showProfileSection:i,setShowProfileSection:e}),jsxRuntimeExports.jsxs("div",{className:"introduction-section",children:[jsxRuntimeExports.jsxs("div",{className:"welcome-greetings",children:[jsxRuntimeExports.jsx("h1",{children:"Welcome to PanpacificU's E-Library"}),jsxRuntimeExports.jsx("h4",{children:"Explore a world of knowledge with PanpacificU's E-Library – your gateway to academic excellence."})]}),jsxRuntimeExports.jsx("dotlottie-player",{src:"https://lottie.host/c7b8849d-1b44-4cb0-a68f-6874fbafe0f3/AJYxlq4Zs0.json",background:"transparent",speed:"1",style:{width:"300px",height:"200px"},loop:!0,autoplay:!0})]}),jsxRuntimeExports.jsx("div",{className:"main-section",children:jsxRuntimeExports.jsx("div",{className:"library-section",children:jsxRuntimeExports.jsx("div",{className:"programs-div",children:jsxRuntimeExports.jsx(Programs,{})})})})]})})},VerificationCodeInput=()=>{const[i,e]=reactExports.useState(""),s=useNavigate(),{email:o}=useParams(),a=d=>{e(d.target.value)},c=async d=>{d.preventDefault();try{await api.post("users/verify-email",{email:o,verificationCode:i}),alert("Email verified successfully. Please login to your account."),s("/auth")}catch(h){h.response&&h.response.data&&alert(h.response.data.msg)}};return jsxRuntimeExports.jsxs("div",{className:"verification-container",children:[jsxRuntimeExports.jsx("h2",{children:"Enter Verification Code"}),jsxRuntimeExports.jsxs("form",{onSubmit:c,children:[jsxRuntimeExports.jsx("input",{type:"text",value:i,onChange:a,maxLength:6,placeholder:"Enter code"}),jsxRuntimeExports.jsx("button",{type:"submit",children:"Verify"})]})]})},Form=()=>{const[i,e]=reactExports.useState(""),[s,o]=reactExports.useState("");reactExports.useEffect(()=>{console.log(i)},[i]);const a=async c=>{c.preventDefault();try{const d=await api.post("/e-library/programs",{title:i,description:s})}catch(d){console.log(d)}};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("form",{onSubmit:a,children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter the program title",value:i,onChange:c=>e(c.target.value)}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter the program description",value:s,onChange:c=>o(c.target.value)}),jsxRuntimeExports.jsx("button",{type:"submit",children:"Submit"})]})})},PersistLogin=()=>{const[i,e]=reactExports.useState(!0),s=useTokenRefresh(),{login:o}=useAuth();return reactExports.useEffect(()=>{const a=async()=>{try{await s()}catch(c){console.log(c)}finally{e(!1)}};o!=null&&o.accessToken?e(!1):a()},[]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i?jsxRuntimeExports.jsx("p",{children:"Loading...."}):jsxRuntimeExports.jsx(Outlet,{})})},Spinner=({text:i})=>{const[e,s]=reactExports.useState(""),o=useNavigate();return reactExports.useEffect(()=>((async()=>{for(let c=0;c<i.length;c++)await new Promise(d=>setTimeout(()=>{s(i.slice(0,c+1)),d()},100))})(),()=>s("")),[i]),reactExports.useEffect(()=>{const a=setTimeout(()=>{o("/")},4e3);return()=>clearTimeout(a)},[]),jsxRuntimeExports.jsxs("div",{className:"spinner-div",children:[jsxRuntimeExports.jsxs("div",{className:"spinner",children:[jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{})]}),jsxRuntimeExports.jsx("div",{className:"typewriter-text",children:e})]})},Courses=()=>{const[i,e]=reactExports.useState([]),[s,o]=reactExports.useState(!1),{programID:a}=useParams(),c=useNavigate();reactExports.useEffect(()=>((async()=>{try{const _=await privateAxios.get(`/courses/${a}/courses`);e(_.data.courses)}catch(_){_.response&&alert(_.response)}})(),()=>{}),[a]);const d=()=>{c("/")},h=g=>{c(`/learning-materials/${g}`)};return jsxRuntimeExports.jsxs("div",{className:"courses-div",children:[jsxRuntimeExports.jsxs("header",{children:[jsxRuntimeExports.jsx(ProfileSection,{showProfileSection:s,setShowProfileSection:o}),jsxRuntimeExports.jsxs("div",{className:"header-content",children:[jsxRuntimeExports.jsx("ion-icon",{name:"arrow-back",onClick:()=>d()}),jsxRuntimeExports.jsx("h1",{children:"Courses"})]}),jsxRuntimeExports.jsx("dotlottie-player",{src:"https://lottie.host/c7b8849d-1b44-4cb0-a68f-6874fbafe0f3/AJYxlq4Zs0.json",background:"transparent",speed:"1",style:{width:"120px",height:"200px",margin:"20px"},loop:!0,autoplay:!0})]}),jsxRuntimeExports.jsx("main",{children:i.length===0?jsxRuntimeExports.jsx("p",{children:"No courses found."}):jsxRuntimeExports.jsx("div",{className:"courses",children:i.map(g=>jsxRuntimeExports.jsx("div",{className:"course-card",onClick:()=>h(g._id),children:jsxRuntimeExports.jsx("p",{className:"course-title",children:g.title})},g._id))})})]})},UploadLearningMaterial=()=>{const[i,e]=reactExports.useState(""),[s,o]=reactExports.useState(""),a=async c=>{c.preventDefault();const d=new FormData;d.append("title",i),d.append("file",s),console.log(i,s);const h=await api.post("/learning-materials/courses/65dc210929c86d61e0305dd5",d,{headers:{"Content-Type":"multipart/form-data"}});console.log(h)};return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("form",{onSubmit:a,children:[jsxRuntimeExports.jsx("h4",{children:"Upload Learning Materials"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("input",{type:"text",className:"form-control",placeholder:"Title",required:!0,onChange:c=>e(c.target.value)}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("input",{type:"file",class:"form-control",accept:"application/pdf",required:!0,onChange:c=>o(c.target.files[0])}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{type:"submit",children:"Submit"})]})})},LearningMaterials=()=>{const[i,e]=reactExports.useState([]);reactExports.useState(null);const{courseID:s}=useParams(),o=useNavigate();reactExports.useEffect(()=>{(async()=>{try{const d=await api.get(`/learning-materials/courses/${s}`);e(d.data.learningMaterials),console.log(i)}catch(d){console.log(d)}})()},[s]);const a=c=>{o(`/view-material/${c}`)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h1",{children:"Learning Materials"}),i.length>0?i.map(c=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{children:c.title}),jsxRuntimeExports.jsx("button",{onClick:()=>a(c._id),children:"View PDF"})]},c._id)):jsxRuntimeExports.jsx("p",{children:"No learning materials found"})]})};function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(e,s){module.exports=e.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(i,e)=>{var Fn;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=Lt,e.bytesToString=Rt,e.createValidAbsoluteUrl=tn,e.getModificationDate=pn,e.getUuid=Mn,e.getVerbosityLevel=Dt,e.info=It,e.isArrayBuffer=en,e.isArrayEqual=fn,e.isNodeJS=void 0,e.normalizeUnicode=Dn,e.objectFromMap=Jt,e.objectSize=qt,e.setVerbosityLevel=St,e.shadow=rn,e.string32=Ht,e.stringToBytes=Gt,e.stringToPDFString=sn,e.stringToUTF8String=Vt,e.unreachable=wt,e.utf8StringToString=Wt,e.warn=zt;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=s;const o=[1,0,0,1,0,0];e.IDENTITY_MATRIX=o;const a=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=a;const c=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=c;const d=1.35;e.LINE_FACTOR=d;const h=.35;e.LINE_DESCENT_FACTOR=h;const g=h/d;e.BASELINE_FACTOR=g;const _={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=_;const b={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=b;const j="pdfjs_internal_editor_";e.AnnotationEditorPrefix=j;const $={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=$;const et={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=et;const _e={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=_e;const nt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=nt;const st={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=st;const tt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=tt;const it={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=it;const ot={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=ot;const ct={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=ct;const rt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=rt;const lt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=lt;const mt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=mt;const gt={O:"PageOpen",C:"PageClose"};e.PageActionEventType=gt;const ft={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=ft;const yt={NONE:0,BINARY:1};e.CMapCompressionType=yt;const _t={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=_t;const kt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=kt;let Ot=ft.WARNINGS;function St(Zt){Number.isInteger(Zt)&&(Ot=Zt)}function Dt(){return Ot}function It(Zt){Ot>=ft.INFOS&&console.log(`Info: ${Zt}`)}function zt(Zt){Ot>=ft.WARNINGS&&console.log(`Warning: ${Zt}`)}function wt(Zt){throw new Error(Zt)}function Lt(Zt,Ut){Zt||wt(Ut)}function Yt(Zt){switch(Zt==null?void 0:Zt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function tn(Zt,Ut=null,jt=null){if(!Zt)return null;try{if(jt&&typeof Zt=="string"){if(jt.addDefaultProtocol&&Zt.startsWith("www.")){const cn=Zt.match(/\./g);(cn==null?void 0:cn.length)>=2&&(Zt=`http://${Zt}`)}if(jt.tryConvertEncoding)try{Zt=Vt(Zt)}catch{}}const an=Ut?new URL(Zt,Ut):new URL(Zt);if(Yt(an))return an}catch{}return null}function rn(Zt,Ut,jt,an=!1){return Object.defineProperty(Zt,Ut,{value:jt,enumerable:!an,configurable:!0,writable:!1}),jt}const At=function(){function Ut(jt,an){this.constructor===Ut&&wt("Cannot initialize BaseException."),this.message=jt,this.name=an}return Ut.prototype=new Error,Ut.constructor=Ut,Ut}();e.BaseException=At;class ut extends At{constructor(Ut,jt){super(Ut,"PasswordException"),this.code=jt}}e.PasswordException=ut;class pt extends At{constructor(Ut,jt){super(Ut,"UnknownErrorException"),this.details=jt}}e.UnknownErrorException=pt;class ht extends At{constructor(Ut){super(Ut,"InvalidPDFException")}}e.InvalidPDFException=ht;class vt extends At{constructor(Ut){super(Ut,"MissingPDFException")}}e.MissingPDFException=vt;class bt extends At{constructor(Ut,jt){super(Ut,"UnexpectedResponseException"),this.status=jt}}e.UnexpectedResponseException=bt;class Et extends At{constructor(Ut){super(Ut,"FormatError")}}e.FormatError=Et;class Pt extends At{constructor(Ut){super(Ut,"AbortException")}}e.AbortException=Pt;function Rt(Zt){(typeof Zt!="object"||(Zt==null?void 0:Zt.length)===void 0)&&wt("Invalid argument for bytesToString");const Ut=Zt.length,jt=8192;if(Ut<jt)return String.fromCharCode.apply(null,Zt);const an=[];for(let cn=0;cn<Ut;cn+=jt){const Un=Math.min(cn+jt,Ut),$n=Zt.subarray(cn,Un);an.push(String.fromCharCode.apply(null,$n))}return an.join("")}function Gt(Zt){typeof Zt!="string"&&wt("Invalid argument for stringToBytes");const Ut=Zt.length,jt=new Uint8Array(Ut);for(let an=0;an<Ut;++an)jt[an]=Zt.charCodeAt(an)&255;return jt}function Ht(Zt){return String.fromCharCode(Zt>>24&255,Zt>>16&255,Zt>>8&255,Zt&255)}function qt(Zt){return Object.keys(Zt).length}function Jt(Zt){const Ut=Object.create(null);for(const[jt,an]of Zt)Ut[jt]=an;return Ut}function nn(){const Zt=new Uint8Array(4);return Zt[0]=1,new Uint32Array(Zt.buffer,0,1)[0]===1}function Qt(){try{return new Function(""),!0}catch{return!1}}class gn{static get isLittleEndian(){return rn(this,"isLittleEndian",nn())}static get isEvalSupported(){return rn(this,"isEvalSupported",Qt())}static get isOffscreenCanvasSupported(){return rn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?rn(this,"platform",{isWin:!1,isMac:!1}):rn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Ut,jt;return rn(this,"isCSSRoundSupported",(jt=(Ut=globalThis.CSS)==null?void 0:Ut.supports)==null?void 0:jt.call(Ut,"width: round(1.5px, 1px)"))}}e.FeatureTest=gn;const Sn=[...Array(256).keys()].map(Zt=>Zt.toString(16).padStart(2,"0"));class un{static makeHexColor(Ut,jt,an){return`#${Sn[Ut]}${Sn[jt]}${Sn[an]}`}static scaleMinMax(Ut,jt){let an;Ut[0]?(Ut[0]<0&&(an=jt[0],jt[0]=jt[1],jt[1]=an),jt[0]*=Ut[0],jt[1]*=Ut[0],Ut[3]<0&&(an=jt[2],jt[2]=jt[3],jt[3]=an),jt[2]*=Ut[3],jt[3]*=Ut[3]):(an=jt[0],jt[0]=jt[2],jt[2]=an,an=jt[1],jt[1]=jt[3],jt[3]=an,Ut[1]<0&&(an=jt[2],jt[2]=jt[3],jt[3]=an),jt[2]*=Ut[1],jt[3]*=Ut[1],Ut[2]<0&&(an=jt[0],jt[0]=jt[1],jt[1]=an),jt[0]*=Ut[2],jt[1]*=Ut[2]),jt[0]+=Ut[4],jt[1]+=Ut[4],jt[2]+=Ut[5],jt[3]+=Ut[5]}static transform(Ut,jt){return[Ut[0]*jt[0]+Ut[2]*jt[1],Ut[1]*jt[0]+Ut[3]*jt[1],Ut[0]*jt[2]+Ut[2]*jt[3],Ut[1]*jt[2]+Ut[3]*jt[3],Ut[0]*jt[4]+Ut[2]*jt[5]+Ut[4],Ut[1]*jt[4]+Ut[3]*jt[5]+Ut[5]]}static applyTransform(Ut,jt){const an=Ut[0]*jt[0]+Ut[1]*jt[2]+jt[4],cn=Ut[0]*jt[1]+Ut[1]*jt[3]+jt[5];return[an,cn]}static applyInverseTransform(Ut,jt){const an=jt[0]*jt[3]-jt[1]*jt[2],cn=(Ut[0]*jt[3]-Ut[1]*jt[2]+jt[2]*jt[5]-jt[4]*jt[3])/an,Un=(-Ut[0]*jt[1]+Ut[1]*jt[0]+jt[4]*jt[1]-jt[5]*jt[0])/an;return[cn,Un]}static getAxialAlignedBoundingBox(Ut,jt){const an=this.applyTransform(Ut,jt),cn=this.applyTransform(Ut.slice(2,4),jt),Un=this.applyTransform([Ut[0],Ut[3]],jt),$n=this.applyTransform([Ut[2],Ut[1]],jt);return[Math.min(an[0],cn[0],Un[0],$n[0]),Math.min(an[1],cn[1],Un[1],$n[1]),Math.max(an[0],cn[0],Un[0],$n[0]),Math.max(an[1],cn[1],Un[1],$n[1])]}static inverseTransform(Ut){const jt=Ut[0]*Ut[3]-Ut[1]*Ut[2];return[Ut[3]/jt,-Ut[1]/jt,-Ut[2]/jt,Ut[0]/jt,(Ut[2]*Ut[5]-Ut[4]*Ut[3])/jt,(Ut[4]*Ut[1]-Ut[5]*Ut[0])/jt]}static singularValueDecompose2dScale(Ut){const jt=[Ut[0],Ut[2],Ut[1],Ut[3]],an=Ut[0]*jt[0]+Ut[1]*jt[2],cn=Ut[0]*jt[1]+Ut[1]*jt[3],Un=Ut[2]*jt[0]+Ut[3]*jt[2],$n=Ut[2]*jt[1]+Ut[3]*jt[3],$t=(an+$n)/2,hn=Math.sqrt((an+$n)**2-4*(an*$n-Un*cn))/2,An=$t+hn||1,mn=$t-hn||1;return[Math.sqrt(An),Math.sqrt(mn)]}static normalizeRect(Ut){const jt=Ut.slice(0);return Ut[0]>Ut[2]&&(jt[0]=Ut[2],jt[2]=Ut[0]),Ut[1]>Ut[3]&&(jt[1]=Ut[3],jt[3]=Ut[1]),jt}static intersect(Ut,jt){const an=Math.max(Math.min(Ut[0],Ut[2]),Math.min(jt[0],jt[2])),cn=Math.min(Math.max(Ut[0],Ut[2]),Math.max(jt[0],jt[2]));if(an>cn)return null;const Un=Math.max(Math.min(Ut[1],Ut[3]),Math.min(jt[1],jt[3])),$n=Math.min(Math.max(Ut[1],Ut[3]),Math.max(jt[1],jt[3]));return Un>$n?null:[an,Un,cn,$n]}static bezierBoundingBox(Ut,jt,an,cn,Un,$n,$t,hn){const An=[],mn=[[],[]];let wn,kn,Bn,ln,Nn,En,Ct,dt;for(let Bt=0;Bt<2;++Bt){if(Bt===0?(kn=6*Ut-12*an+6*Un,wn=-3*Ut+9*an-9*Un+3*$t,Bn=3*an-3*Ut):(kn=6*jt-12*cn+6*$n,wn=-3*jt+9*cn-9*$n+3*hn,Bn=3*cn-3*jt),Math.abs(wn)<1e-12){if(Math.abs(kn)<1e-12)continue;ln=-Bn/kn,0<ln&&ln<1&&An.push(ln);continue}Ct=kn*kn-4*Bn*wn,dt=Math.sqrt(Ct),!(Ct<0)&&(Nn=(-kn+dt)/(2*wn),0<Nn&&Nn<1&&An.push(Nn),En=(-kn-dt)/(2*wn),0<En&&En<1&&An.push(En))}let xt=An.length,Tt;const Ft=xt;for(;xt--;)ln=An[xt],Tt=1-ln,mn[0][xt]=Tt*Tt*Tt*Ut+3*Tt*Tt*ln*an+3*Tt*ln*ln*Un+ln*ln*ln*$t,mn[1][xt]=Tt*Tt*Tt*jt+3*Tt*Tt*ln*cn+3*Tt*ln*ln*$n+ln*ln*ln*hn;return mn[0][Ft]=Ut,mn[1][Ft]=jt,mn[0][Ft+1]=$t,mn[1][Ft+1]=hn,mn[0].length=mn[1].length=Ft+2,[Math.min(...mn[0]),Math.min(...mn[1]),Math.max(...mn[0]),Math.max(...mn[1])]}}e.Util=un;const xn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function sn(Zt){if(Zt[0]>="ï"){let jt;if(Zt[0]==="þ"&&Zt[1]==="ÿ"?jt="utf-16be":Zt[0]==="ÿ"&&Zt[1]==="þ"?jt="utf-16le":Zt[0]==="ï"&&Zt[1]==="»"&&Zt[2]==="¿"&&(jt="utf-8"),jt)try{const an=new TextDecoder(jt,{fatal:!0}),cn=Gt(Zt);return an.decode(cn)}catch(an){zt(`stringToPDFString: "${an}".`)}}const Ut=[];for(let jt=0,an=Zt.length;jt<an;jt++){const cn=xn[Zt.charCodeAt(jt)];Ut.push(cn?String.fromCharCode(cn):Zt.charAt(jt))}return Ut.join("")}function Vt(Zt){return decodeURIComponent(escape(Zt))}function Wt(Zt){return unescape(encodeURIComponent(Zt))}function en(Zt){return typeof Zt=="object"&&(Zt==null?void 0:Zt.byteLength)!==void 0}function fn(Zt,Ut){if(Zt.length!==Ut.length)return!1;for(let jt=0,an=Zt.length;jt<an;jt++)if(Zt[jt]!==Ut[jt])return!1;return!0}function pn(Zt=new Date){return[Zt.getUTCFullYear().toString(),(Zt.getUTCMonth()+1).toString().padStart(2,"0"),Zt.getUTCDate().toString().padStart(2,"0"),Zt.getUTCHours().toString().padStart(2,"0"),Zt.getUTCMinutes().toString().padStart(2,"0"),Zt.getUTCSeconds().toString().padStart(2,"0")].join("")}class Pn{constructor(){Mt(this,Fn,!1);this.promise=new Promise((Ut,jt)=>{this.resolve=an=>{Xt(this,Fn,!0),Ut(an)},this.reject=an=>{Xt(this,Fn,!0),jt(an)}})}get settled(){return at(this,Fn)}}Fn=new WeakMap,e.PromiseCapability=Pn;let On=null,Cn=null;function Dn(Zt){return On||(On=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Cn=new Map([["ﬅ","ſt"]])),Zt.replaceAll(On,(Ut,jt,an)=>jt?jt.normalize("NFKC"):Cn.get(an))}function Mn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Zt=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Zt);else for(let Ut=0;Ut<32;Ut++)Zt[Ut]=Math.floor(Math.random()*255);return Rt(Zt)}const Tn="pdfjs_internal_id_";e.AnnotationPrefix=Tn},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var i,s,o,a,Jn,d,us,g,_,b,j,$,et,_e,nt,st,ds,it,ot,ws,rt,lt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(gt){if(typeof gt=="string"||gt instanceof URL?gt={url:gt}:(0,_util.isArrayBuffer)(gt)&&(gt={data:gt}),typeof gt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!gt.url&&!gt.data&&!gt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ft=new PDFDocumentLoadingTask,{docId:yt}=ft,_t=gt.url?getUrlProp(gt.url):null,kt=gt.data?getDataProp(gt.data):null,Ot=gt.httpHeaders||null,St=gt.withCredentials===!0,Dt=gt.password??null,It=gt.range instanceof PDFDataRangeTransport?gt.range:null,zt=Number.isInteger(gt.rangeChunkSize)&&gt.rangeChunkSize>0?gt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let wt=gt.worker instanceof PDFWorker?gt.worker:null;const Lt=gt.verbosity,Yt=typeof gt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(gt.docBaseUrl)?gt.docBaseUrl:null,tn=typeof gt.cMapUrl=="string"?gt.cMapUrl:null,rn=gt.cMapPacked!==!1,At=gt.CMapReaderFactory||DefaultCMapReaderFactory,ut=typeof gt.standardFontDataUrl=="string"?gt.standardFontDataUrl:null,pt=gt.StandardFontDataFactory||DefaultStandardFontDataFactory,ht=gt.stopAtErrors!==!0,vt=Number.isInteger(gt.maxImageSize)&&gt.maxImageSize>-1?gt.maxImageSize:-1,bt=gt.isEvalSupported!==!1,Et=typeof gt.isOffscreenCanvasSupported=="boolean"?gt.isOffscreenCanvasSupported:!_util.isNodeJS,Pt=Number.isInteger(gt.canvasMaxAreaInBytes)?gt.canvasMaxAreaInBytes:-1,Rt=typeof gt.disableFontFace=="boolean"?gt.disableFontFace:_util.isNodeJS,Gt=gt.fontExtraProperties===!0,Ht=gt.enableXfa===!0,qt=gt.ownerDocument||globalThis.document,Jt=gt.disableRange===!0,nn=gt.disableStream===!0,Qt=gt.disableAutoFetch===!0,gn=gt.pdfBug===!0,Sn=It?It.length:gt.length??NaN,un=typeof gt.useSystemFonts=="boolean"?gt.useSystemFonts:!_util.isNodeJS&&!Rt,xn=typeof gt.useWorkerFetch=="boolean"?gt.useWorkerFetch:At===_display_utils.DOMCMapReaderFactory&&pt===_display_utils.DOMStandardFontDataFactory&&tn&&ut&&(0,_display_utils.isValidFetchUrl)(tn,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(ut,document.baseURI),sn=gt.canvasFactory||new DefaultCanvasFactory({ownerDocument:qt}),Vt=gt.filterFactory||new DefaultFilterFactory({docId:yt,ownerDocument:qt}),Wt=null;(0,_util.setVerbosityLevel)(Lt);const en={canvasFactory:sn,filterFactory:Vt};if(xn||(en.cMapReaderFactory=new At({baseUrl:tn,isCompressed:rn}),en.standardFontDataFactory=new pt({baseUrl:ut})),!wt){const Pn={verbosity:Lt,port:_worker_options.GlobalWorkerOptions.workerPort};wt=Pn.port?PDFWorker.fromPort(Pn):new PDFWorker(Pn),ft._worker=wt}const fn={docId:yt,apiVersion:"3.11.174",data:kt,password:Dt,disableAutoFetch:Qt,rangeChunkSize:zt,length:Sn,docBaseUrl:Yt,enableXfa:Ht,evaluatorOptions:{maxImageSize:vt,disableFontFace:Rt,ignoreErrors:ht,isEvalSupported:bt,isOffscreenCanvasSupported:Et,canvasMaxAreaInBytes:Pt,fontExtraProperties:Gt,useSystemFonts:un,cMapUrl:xn?tn:null,standardFontDataUrl:xn?ut:null}},pn={ignoreErrors:ht,isEvalSupported:bt,disableFontFace:Rt,fontExtraProperties:Gt,enableXfa:Ht,ownerDocument:qt,disableAutoFetch:Qt,pdfBug:gn,styleElement:Wt};return wt.promise.then(function(){if(ft.destroyed)throw new Error("Loading aborted");const Pn=_fetchDocument(wt,fn),On=new Promise(function(Cn){let Dn;It?Dn=new _transport_stream.PDFDataTransportStream({length:Sn,initialData:It.initialData,progressiveDone:It.progressiveDone,contentDispositionFilename:It.contentDispositionFilename,disableRange:Jt,disableStream:nn},It):kt||(Dn=(Tn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Tn):(0,_display_utils.isValidFetchUrl)(Tn.url)?new _displayFetch_stream.PDFFetchStream(Tn):new _displayNetwork.PDFNetworkStream(Tn))({url:_t,length:Sn,httpHeaders:Ot,withCredentials:St,rangeChunkSize:zt,disableRange:Jt,disableStream:nn})),Cn(Dn)});return Promise.all([Pn,On]).then(function([Cn,Dn]){if(ft.destroyed)throw new Error("Loading aborted");const Mn=new _message_handler.MessageHandler(yt,Cn,wt.port),Tn=new WorkerTransport(Mn,ft,Dn,pn,en);ft._transport=Tn,Mn.send("Ready",null)})}).catch(ft._capability.reject),ft}async function _fetchDocument(gt,ft){if(gt.destroyed)throw new Error("Worker was destroyed");const yt=await gt.messageHandler.sendWithPromise("GetDocRequest",ft,ft.data?[ft.data.buffer]:null);if(gt.destroyed)throw new Error("Worker was destroyed");return yt}function getUrlProp(gt){if(gt instanceof URL)return gt.href;try{return new URL(gt,window.location).href}catch{if(_util.isNodeJS&&typeof gt=="string")return gt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(gt){if(_util.isNodeJS&&typeof Buffer<"u"&&gt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(gt instanceof Uint8Array&&gt.byteLength===gt.buffer.byteLength)return gt;if(typeof gt=="string")return(0,_util.stringToBytes)(gt);if(typeof gt=="object"&&!isNaN(gt==null?void 0:gt.length)||(0,_util.isArrayBuffer)(gt))return new Uint8Array(gt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${ns(e,i)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ft,yt,_t;this.destroyed=!0;try{(ft=this._worker)!=null&&ft.port&&(this._worker._pendingDestroy=!0),await((yt=this._transport)==null?void 0:yt.destroy())}catch(kt){throw(_t=this._worker)!=null&&_t.port&&delete this._worker._pendingDestroy,kt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};i=new WeakMap,Mt(e,i,0);let PDFDocumentLoadingTask=e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ft,yt,_t=!1,kt=null){this.length=ft,this.initialData=yt,this.progressiveDone=_t,this.contentDispositionFilename=kt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(ft){this._rangeListeners.push(ft)}addProgressListener(ft){this._progressListeners.push(ft)}addProgressiveReadListener(ft){this._progressiveReadListeners.push(ft)}addProgressiveDoneListener(ft){this._progressiveDoneListeners.push(ft)}onDataRange(ft,yt){for(const _t of this._rangeListeners)_t(ft,yt)}onDataProgress(ft,yt){this._readyCapability.promise.then(()=>{for(const _t of this._progressListeners)_t(ft,yt)})}onDataProgressiveRead(ft){this._readyCapability.promise.then(()=>{for(const yt of this._progressiveReadListeners)yt(ft)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ft of this._progressiveDoneListeners)ft()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ft,yt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ft,yt){this._pdfInfo=ft,this._transport=yt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(_t=>{if(!_t)return _t;const kt=[];for(const Ot in _t)kt.push(..._t[Ot]);return kt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ft){return this._transport.getPage(ft)}getPageIndex(ft){return this._transport.getPageIndex(ft)}getDestinations(){return this._transport.getDestinations()}getDestination(ft){return this._transport.getDestination(ft)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ft=!1){return this._transport.startCleanup(ft||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ft,yt,_t,kt=!1){Mt(this,a);Mt(this,d);Mt(this,s,null);Mt(this,o,!1);this._pageIndex=ft,this._pageInfo=yt,this._transport=_t,this._stats=kt?new _display_utils.StatTimer:null,this._pdfBug=kt,this.commonObjs=_t.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ft,rotation:yt=this.rotate,offsetX:_t=0,offsetY:kt=0,dontFlip:Ot=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ft,rotation:yt,offsetX:_t,offsetY:kt,dontFlip:Ot})}getAnnotations({intent:ft="display"}={}){const yt=this._transport.getRenderingIntent(ft);return this._transport.getAnnotations(this._pageIndex,yt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ft;return((ft=this._transport._htmlForXfa)==null?void 0:ft.children[this._pageIndex])||null}render({canvasContext:ft,viewport:yt,intent:_t="display",annotationMode:kt=_util.AnnotationMode.ENABLE,transform:Ot=null,background:St=null,optionalContentConfigPromise:Dt=null,annotationCanvasMap:It=null,pageColors:zt=null,printAnnotationStorage:wt=null}){var pt,ht;(pt=this._stats)==null||pt.time("Overall");const Lt=this._transport.getRenderingIntent(_t,kt,wt);Xt(this,o,!1),Nt(this,d,us).call(this),Dt||(Dt=this._transport.getOptionalContentConfig());let Yt=this._intentStates.get(Lt.cacheKey);Yt||(Yt=Object.create(null),this._intentStates.set(Lt.cacheKey,Yt)),Yt.streamReaderCancelTimeout&&(clearTimeout(Yt.streamReaderCancelTimeout),Yt.streamReaderCancelTimeout=null);const tn=!!(Lt.renderingIntent&_util.RenderingIntentFlag.PRINT);Yt.displayReadyCapability||(Yt.displayReadyCapability=new _util.PromiseCapability,Yt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ht=this._stats)==null||ht.time("Page Request"),this._pumpOperatorList(Lt));const rn=vt=>{var bt,Et;Yt.renderTasks.delete(At),(this._maybeCleanupAfterRender||tn)&&Xt(this,o,!0),Nt(this,a,Jn).call(this,!tn),vt?(At.capability.reject(vt),this._abortOperatorList({intentState:Yt,reason:vt instanceof Error?vt:new Error(vt)})):At.capability.resolve(),(bt=this._stats)==null||bt.timeEnd("Rendering"),(Et=this._stats)==null||Et.timeEnd("Overall")},At=new InternalRenderTask({callback:rn,params:{canvasContext:ft,viewport:yt,transform:Ot,background:St},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:It,operatorList:Yt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!tn,pdfBug:this._pdfBug,pageColors:zt});(Yt.renderTasks||(Yt.renderTasks=new Set)).add(At);const ut=At.task;return Promise.all([Yt.displayReadyCapability.promise,Dt]).then(([vt,bt])=>{var Et;if(this.destroyed){rn();return}(Et=this._stats)==null||Et.time("Rendering"),At.initializeGraphics({transparency:vt,optionalContentConfig:bt}),At.operatorListChanged()}).catch(rn),ut}getOperatorList({intent:ft="display",annotationMode:yt=_util.AnnotationMode.ENABLE,printAnnotationStorage:_t=null}={}){var It;function kt(){St.operatorList.lastChunk&&(St.opListReadCapability.resolve(St.operatorList),St.renderTasks.delete(Dt))}const Ot=this._transport.getRenderingIntent(ft,yt,_t,!0);let St=this._intentStates.get(Ot.cacheKey);St||(St=Object.create(null),this._intentStates.set(Ot.cacheKey,St));let Dt;return St.opListReadCapability||(Dt=Object.create(null),Dt.operatorListChanged=kt,St.opListReadCapability=new _util.PromiseCapability,(St.renderTasks||(St.renderTasks=new Set)).add(Dt),St.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(It=this._stats)==null||It.time("Page Request"),this._pumpOperatorList(Ot)),St.opListReadCapability.promise}streamTextContent({includeMarkedContent:ft=!1,disableNormalization:yt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ft===!0,disableNormalization:yt===!0},{highWaterMark:100,size(kt){return kt.items.length}})}getTextContent(ft={}){if(this._transport._htmlForXfa)return this.getXfa().then(_t=>_xfa_text.XfaText.textContent(_t));const yt=this.streamTextContent(ft);return new Promise(function(_t,kt){function Ot(){St.read().then(function({value:It,done:zt}){if(zt){_t(Dt);return}Object.assign(Dt.styles,It.styles),Dt.items.push(...It.items),Ot()},kt)}const St=yt.getReader(),Dt={items:[],styles:Object.create(null)};Ot()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ft=[];for(const yt of this._intentStates.values())if(this._abortOperatorList({intentState:yt,reason:new Error("Page was destroyed."),force:!0}),!yt.opListReadCapability)for(const _t of yt.renderTasks)ft.push(_t.completed),_t.cancel();return this.objs.clear(),Xt(this,o,!1),Nt(this,d,us).call(this),Promise.all(ft)}cleanup(ft=!1){Xt(this,o,!0);const yt=Nt(this,a,Jn).call(this,!1);return ft&&yt&&this._stats&&(this._stats=new _display_utils.StatTimer),yt}_startRenderPage(ft,yt){var kt,Ot;const _t=this._intentStates.get(yt);_t&&((kt=this._stats)==null||kt.timeEnd("Page Request"),(Ot=_t.displayReadyCapability)==null||Ot.resolve(ft))}_renderPageChunk(ft,yt){for(let _t=0,kt=ft.length;_t<kt;_t++)yt.operatorList.fnArray.push(ft.fnArray[_t]),yt.operatorList.argsArray.push(ft.argsArray[_t]);yt.operatorList.lastChunk=ft.lastChunk,yt.operatorList.separateAnnots=ft.separateAnnots;for(const _t of yt.renderTasks)_t.operatorListChanged();ft.lastChunk&&Nt(this,a,Jn).call(this,!0)}_pumpOperatorList({renderingIntent:ft,cacheKey:yt,annotationStorageSerializable:_t}){const{map:kt,transfers:Ot}=_t,Dt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ft,cacheKey:yt,annotationStorage:kt},Ot).getReader(),It=this._intentStates.get(yt);It.streamReader=Dt;const zt=()=>{Dt.read().then(({value:wt,done:Lt})=>{if(Lt){It.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(wt,It),zt())},wt=>{if(It.streamReader=null,!this._transport.destroyed){if(It.operatorList){It.operatorList.lastChunk=!0;for(const Lt of It.renderTasks)Lt.operatorListChanged();Nt(this,a,Jn).call(this,!0)}if(It.displayReadyCapability)It.displayReadyCapability.reject(wt);else if(It.opListReadCapability)It.opListReadCapability.reject(wt);else throw wt}})};zt()}_abortOperatorList({intentState:ft,reason:yt,force:_t=!1}){if(ft.streamReader){if(ft.streamReaderCancelTimeout&&(clearTimeout(ft.streamReaderCancelTimeout),ft.streamReaderCancelTimeout=null),!_t){if(ft.renderTasks.size>0)return;if(yt instanceof _display_utils.RenderingCancelledException){let kt=RENDERING_CANCELLED_TIMEOUT;yt.extraDelay>0&&yt.extraDelay<1e3&&(kt+=yt.extraDelay),ft.streamReaderCancelTimeout=setTimeout(()=>{ft.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ft,reason:yt,force:!0})},kt);return}}if(ft.streamReader.cancel(new _util.AbortException(yt.message)).catch(()=>{}),ft.streamReader=null,!this._transport.destroyed){for(const[kt,Ot]of this._intentStates)if(Ot===ft){this._intentStates.delete(kt);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,o=new WeakMap,a=new WeakSet,Jn=function(ft=!1){if(Nt(this,d,us).call(this),!at(this,o)||this.destroyed)return!1;if(ft)return Xt(this,s,setTimeout(()=>{Xt(this,s,null),Nt(this,a,Jn).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:yt,operatorList:_t}of this._intentStates.values())if(yt.size>0||!_t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Xt(this,o,!1),!0},d=new WeakSet,us=function(){at(this,s)&&(clearTimeout(at(this,s)),Xt(this,s,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Mt(this,g,new Set);Mt(this,_,Promise.resolve())}postMessage(ft,yt){const _t={data:structuredClone(ft,yt?{transfer:yt}:null)};at(this,_).then(()=>{for(const kt of at(this,g))kt.call(this,_t)})}addEventListener(ft,yt){at(this,g).add(yt)}removeEventListener(ft,yt){at(this,g).delete(yt)}terminate(){at(this,g).clear()}}g=new WeakMap,_=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const gt=(b=document==null?void 0:document.currentScript)==null?void 0:b.src;gt&&(PDFWorkerUtil.fallbackWorkerSrc=gt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(gt,ft){let yt;try{if(yt=new URL(gt),!yt.origin||yt.origin==="null")return!1}catch{return!1}const _t=new URL(ft,yt);return yt.origin===_t.origin},PDFWorkerUtil.createCDNWrapper=function(gt){const ft=`importScripts("${gt}");`;return URL.createObjectURL(new Blob([ft]))}}const _PDFWorker=class _PDFWorker{constructor({name:gt=null,port:ft=null,verbosity:yt=(0,_util.getVerbosityLevel)()}={}){var _t;if(this.name=gt,this.destroyed=!1,this.verbosity=yt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,ft){if((_t=at(_PDFWorker,j))!=null&&_t.has(ft))throw new Error("Cannot use more than one PDFWorker per port.");(at(_PDFWorker,j)||Xt(_PDFWorker,j,new WeakMap)).set(ft,this),this._initializeFromPort(ft);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(gt){this._port=gt,this._messageHandler=new _message_handler.MessageHandler("main","worker",gt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:gt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,gt)||(gt=PDFWorkerUtil.createCDNWrapper(new URL(gt,window.location).href));const ft=new Worker(gt),yt=new _message_handler.MessageHandler("main","worker",ft),_t=()=>{ft.removeEventListener("error",kt),yt.destroy(),ft.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},kt=()=>{this._webWorker||_t()};ft.addEventListener("error",kt),yt.on("test",St=>{if(ft.removeEventListener("error",kt),this.destroyed){_t();return}St?(this._messageHandler=yt,this._port=ft,this._webWorker=ft,this._readyCapability.resolve(),yt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),yt.destroy(),ft.terminate())}),yt.on("ready",St=>{if(ft.removeEventListener("error",kt),this.destroyed){_t();return}try{Ot()}catch{this._setupFakeWorker()}});const Ot=()=>{const St=new Uint8Array;yt.send("test",St,[St.buffer])};Ot();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(gt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ft=new LoopbackPort;this._port=ft;const yt=`fake${PDFWorkerUtil.fakeWorkerId++}`,_t=new _message_handler.MessageHandler(yt+"_worker",yt,ft);gt.setup(_t,ft);const kt=new _message_handler.MessageHandler(yt,yt+"_worker",ft);this._messageHandler=kt,this._readyCapability.resolve(),kt.send("configure",{verbosity:this.verbosity})}).catch(gt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${gt.message}".`))})}destroy(){var gt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(gt=at(_PDFWorker,j))==null||gt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(gt){var yt;if(!(gt!=null&&gt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ft=(yt=at(this,j))==null?void 0:yt.get(gt.port);if(ft){if(ft._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ft}return new _PDFWorker(gt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var gt;try{return((gt=globalThis.pdfjsWorker)==null?void 0:gt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};j=new WeakMap,Mt(_PDFWorker,j,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(ft,yt,_t,kt,Ot){Mt(this,st);Mt(this,$,new Map);Mt(this,et,new Map);Mt(this,_e,new Map);Mt(this,nt,null);this.messageHandler=ft,this.loadingTask=yt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:kt.ownerDocument,styleElement:kt.styleElement}),this._params=kt,this.canvasFactory=Ot.canvasFactory,this.filterFactory=Ot.filterFactory,this.cMapReaderFactory=Ot.cMapReaderFactory,this.standardFontDataFactory=Ot.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=_t,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(ft,yt=_util.AnnotationMode.ENABLE,_t=null,kt=!1){let Ot=_util.RenderingIntentFlag.DISPLAY,St=_annotation_storage.SerializableEmpty;switch(ft){case"any":Ot=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Ot=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ft}`)}switch(yt){case _util.AnnotationMode.DISABLE:Ot+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Ot+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Ot+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,St=(Ot&_util.RenderingIntentFlag.PRINT&&_t instanceof _annotation_storage.PrintAnnotationStorage?_t:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${yt}`)}return kt&&(Ot+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Ot,cacheKey:`${Ot}_${St.hash}`,annotationStorageSerializable:St}}destroy(){var _t;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(_t=at(this,nt))==null||_t.reject(new Error("Worker was destroyed during onPassword callback"));const ft=[];for(const kt of at(this,et).values())ft.push(kt._destroy());at(this,et).clear(),at(this,_e).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const yt=this.messageHandler.sendWithPromise("Terminate",null);return ft.push(yt),Promise.all(ft).then(()=>{var kt;this.commonObjs.clear(),this.fontLoader.clear(),at(this,$).clear(),this.filterFactory.destroy(),(kt=this._networkStream)==null||kt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ft,loadingTask:yt}=this;ft.on("GetReader",(_t,kt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Ot=>{this._lastProgress={loaded:Ot.loaded,total:Ot.total}},kt.onPull=()=>{this._fullReader.read().then(function({value:Ot,done:St}){if(St){kt.close();return}(0,_util.assert)(Ot instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),kt.enqueue(new Uint8Array(Ot),1,[Ot])}).catch(Ot=>{kt.error(Ot)})},kt.onCancel=Ot=>{this._fullReader.cancel(Ot),kt.ready.catch(St=>{if(!this.destroyed)throw St})}}),ft.on("ReaderHeadersReady",_t=>{const kt=new _util.PromiseCapability,Ot=this._fullReader;return Ot.headersReady.then(()=>{var St;(!Ot.isStreamingSupported||!Ot.isRangeSupported)&&(this._lastProgress&&((St=yt.onProgress)==null||St.call(yt,this._lastProgress)),Ot.onProgress=Dt=>{var It;(It=yt.onProgress)==null||It.call(yt,{loaded:Dt.loaded,total:Dt.total})}),kt.resolve({isStreamingSupported:Ot.isStreamingSupported,isRangeSupported:Ot.isRangeSupported,contentLength:Ot.contentLength})},kt.reject),kt.promise}),ft.on("GetRangeReader",(_t,kt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Ot=this._networkStream.getRangeReader(_t.begin,_t.end);if(!Ot){kt.close();return}kt.onPull=()=>{Ot.read().then(function({value:St,done:Dt}){if(Dt){kt.close();return}(0,_util.assert)(St instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),kt.enqueue(new Uint8Array(St),1,[St])}).catch(St=>{kt.error(St)})},kt.onCancel=St=>{Ot.cancel(St),kt.ready.catch(Dt=>{if(!this.destroyed)throw Dt})}}),ft.on("GetDoc",({pdfInfo:_t})=>{this._numPages=_t.numPages,this._htmlForXfa=_t.htmlForXfa,delete _t.htmlForXfa,yt._capability.resolve(new PDFDocumentProxy(_t,this))}),ft.on("DocException",function(_t){let kt;switch(_t.name){case"PasswordException":kt=new _util.PasswordException(_t.message,_t.code);break;case"InvalidPDFException":kt=new _util.InvalidPDFException(_t.message);break;case"MissingPDFException":kt=new _util.MissingPDFException(_t.message);break;case"UnexpectedResponseException":kt=new _util.UnexpectedResponseException(_t.message,_t.status);break;case"UnknownErrorException":kt=new _util.UnknownErrorException(_t.message,_t.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}yt._capability.reject(kt)}),ft.on("PasswordRequest",_t=>{if(Xt(this,nt,new _util.PromiseCapability),yt.onPassword){const kt=Ot=>{Ot instanceof Error?at(this,nt).reject(Ot):at(this,nt).resolve({password:Ot})};try{yt.onPassword(kt,_t.code)}catch(Ot){at(this,nt).reject(Ot)}}else at(this,nt).reject(new _util.PasswordException(_t.message,_t.code));return at(this,nt).promise}),ft.on("DataLoaded",_t=>{var kt;(kt=yt.onProgress)==null||kt.call(yt,{loaded:_t.length,total:_t.length}),this.downloadInfoCapability.resolve(_t)}),ft.on("StartRenderPage",_t=>{if(this.destroyed)return;at(this,et).get(_t.pageIndex)._startRenderPage(_t.transparency,_t.cacheKey)}),ft.on("commonobj",([_t,kt,Ot])=>{var St;if(!this.destroyed&&!this.commonObjs.has(_t))switch(kt){case"Font":const Dt=this._params;if("error"in Ot){const wt=Ot.error;(0,_util.warn)(`Error during font loading: ${wt}`),this.commonObjs.resolve(_t,wt);break}const It=Dt.pdfBug&&((St=globalThis.FontInspector)!=null&&St.enabled)?(wt,Lt)=>globalThis.FontInspector.fontAdded(wt,Lt):null,zt=new _font_loader.FontFaceObject(Ot,{isEvalSupported:Dt.isEvalSupported,disableFontFace:Dt.disableFontFace,ignoreErrors:Dt.ignoreErrors,inspectFont:It});this.fontLoader.bind(zt).catch(wt=>ft.sendWithPromise("FontFallback",{id:_t})).finally(()=>{!Dt.fontExtraProperties&&zt.data&&(zt.data=null),this.commonObjs.resolve(_t,zt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(_t,Ot);break;default:throw new Error(`Got unknown common object type ${kt}`)}}),ft.on("obj",([_t,kt,Ot,St])=>{var It;if(this.destroyed)return;const Dt=at(this,et).get(kt);if(!Dt.objs.has(_t))switch(Ot){case"Image":if(Dt.objs.resolve(_t,St),St){let zt;if(St.bitmap){const{width:wt,height:Lt}=St;zt=wt*Lt*4}else zt=((It=St.data)==null?void 0:It.length)||0;zt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Dt._maybeCleanupAfterRender=!0)}break;case"Pattern":Dt.objs.resolve(_t,St);break;default:throw new Error(`Got unknown object type ${Ot}`)}}),ft.on("DocProgress",_t=>{var kt;this.destroyed||(kt=yt.onProgress)==null||kt.call(yt,{loaded:_t.loaded,total:_t.total})}),ft.on("FetchBuiltInCMap",_t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(_t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ft.on("FetchStandardFontData",_t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(_t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var _t;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ft,transfers:yt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ft,filename:((_t=this._fullReader)==null?void 0:_t.filename)??null},yt).finally(()=>{this.annotationStorage.resetModified()})}getPage(ft){if(!Number.isInteger(ft)||ft<=0||ft>this._numPages)return Promise.reject(new Error("Invalid page request."));const yt=ft-1,_t=at(this,_e).get(yt);if(_t)return _t;const kt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:yt}).then(Ot=>{if(this.destroyed)throw new Error("Transport destroyed");const St=new PDFPageProxy(yt,Ot,this,this._params.pdfBug);return at(this,et).set(yt,St),St});return at(this,_e).set(yt,kt),kt}getPageIndex(ft){return typeof ft!="object"||ft===null||!Number.isInteger(ft.num)||ft.num<0||!Number.isInteger(ft.gen)||ft.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ft.num,gen:ft.gen})}getAnnotations(ft,yt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ft,intent:yt})}getFieldObjects(){return Nt(this,st,ds).call(this,"GetFieldObjects")}hasJSActions(){return Nt(this,st,ds).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ft){return typeof ft!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ft})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Nt(this,st,ds).call(this,"GetDocJSActions")}getPageJSActions(ft){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ft})}getStructTree(ft){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ft})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ft=>new _optional_content_config.OptionalContentConfig(ft))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ft="GetMetadata",yt=at(this,$).get(ft);if(yt)return yt;const _t=this.messageHandler.sendWithPromise(ft,null).then(kt=>{var Ot,St;return{info:kt[0],metadata:kt[1]?new _metadata.Metadata(kt[1]):null,contentDispositionFilename:((Ot=this._fullReader)==null?void 0:Ot.filename)??null,contentLength:((St=this._fullReader)==null?void 0:St.contentLength)??null}});return at(this,$).set(ft,_t),_t}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ft=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const yt of at(this,et).values())if(!yt.cleanup())throw new Error(`startCleanup: Page ${yt.pageNumber} is currently rendering.`);this.commonObjs.clear(),ft||this.fontLoader.clear(),at(this,$).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ft,enableXfa:yt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ft,enableXfa:yt})}}$=new WeakMap,et=new WeakMap,_e=new WeakMap,nt=new WeakMap,st=new WeakSet,ds=function(ft,yt=null){const _t=at(this,$).get(ft);if(_t)return _t;const kt=this.messageHandler.sendWithPromise(ft,yt);return at(this,$).set(ft,kt),kt};class PDFObjects{constructor(){Mt(this,ot);Mt(this,it,Object.create(null))}get(ft,yt=null){if(yt){const kt=Nt(this,ot,ws).call(this,ft);return kt.capability.promise.then(()=>yt(kt.data)),null}const _t=at(this,it)[ft];if(!(_t!=null&&_t.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ft}.`);return _t.data}has(ft){const yt=at(this,it)[ft];return(yt==null?void 0:yt.capability.settled)||!1}resolve(ft,yt=null){const _t=Nt(this,ot,ws).call(this,ft);_t.data=yt,_t.capability.resolve()}clear(){var ft;for(const yt in at(this,it)){const{data:_t}=at(this,it)[yt];(ft=_t==null?void 0:_t.bitmap)==null||ft.close()}Xt(this,it,Object.create(null))}}it=new WeakMap,ot=new WeakSet,ws=function(ft){var yt;return(yt=at(this,it))[ft]||(yt[ft]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(ft){Mt(this,rt,null);Xt(this,rt,ft),this.onContinue=null}get promise(){return at(this,rt).capability.promise}cancel(ft=0){at(this,rt).cancel(null,ft)}get separateAnnots(){const{separateAnnots:ft}=at(this,rt).operatorList;if(!ft)return!1;const{annotationCanvasMap:yt}=at(this,rt);return ft.form||ft.canvas&&(yt==null?void 0:yt.size)>0}}rt=new WeakMap,exports.RenderTask=RenderTask;const mt=class mt{constructor({callback:ft,params:yt,objs:_t,commonObjs:kt,annotationCanvasMap:Ot,operatorList:St,pageIndex:Dt,canvasFactory:It,filterFactory:zt,useRequestAnimationFrame:wt=!1,pdfBug:Lt=!1,pageColors:Yt=null}){this.callback=ft,this.params=yt,this.objs=_t,this.commonObjs=kt,this.annotationCanvasMap=Ot,this.operatorListIdx=null,this.operatorList=St,this._pageIndex=Dt,this.canvasFactory=It,this.filterFactory=zt,this._pdfBug=Lt,this.pageColors=Yt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=wt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=yt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ft=!1,optionalContentConfig:yt}){var Dt,It;if(this.cancelled)return;if(this._canvas){if(at(mt,lt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");at(mt,lt).add(this._canvas)}this._pdfBug&&((Dt=globalThis.StepperManager)!=null&&Dt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:_t,viewport:kt,transform:Ot,background:St}=this.params;this.gfx=new _canvas.CanvasGraphics(_t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:yt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Ot,viewport:kt,transparency:ft,background:St}),this.operatorListIdx=0,this.graphicsReady=!0,(It=this.graphicsReadyCallback)==null||It.call(this)}cancel(ft=null,yt=0){var _t;this.running=!1,this.cancelled=!0,(_t=this.gfx)==null||_t.endDrawing(),at(mt,lt).delete(this._canvas),this.callback(ft||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,yt))}operatorListChanged(){var ft;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ft=this.stepper)==null||ft.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),at(mt,lt).delete(this._canvas),this.callback())))}};lt=new WeakMap,Mt(mt,lt,new WeakSet);let InternalRenderTask=mt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(i,e,s)=>{var _,b,j,or,et;Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var o=s(1),a=s(4),c=s(8);const d=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=d;class h{constructor(){Mt(this,j);Mt(this,_,!1);Mt(this,b,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(nt,st){const tt=at(this,b).get(nt);return tt===void 0?st:Object.assign(st,tt)}getRawValue(nt){return at(this,b).get(nt)}remove(nt){if(at(this,b).delete(nt),at(this,b).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const st of at(this,b).values())if(st instanceof a.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(nt,st){const tt=at(this,b).get(nt);let it=!1;if(tt!==void 0)for(const[ot,ct]of Object.entries(st))tt[ot]!==ct&&(it=!0,tt[ot]=ct);else it=!0,at(this,b).set(nt,st);it&&Nt(this,j,or).call(this),st instanceof a.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(st.constructor._type)}has(nt){return at(this,b).has(nt)}getAll(){return at(this,b).size>0?(0,o.objectFromMap)(at(this,b)):null}setAll(nt){for(const[st,tt]of Object.entries(nt))this.setValue(st,tt)}get size(){return at(this,b).size}resetModified(){at(this,_)&&(Xt(this,_,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new g(this)}get serializable(){if(at(this,b).size===0)return d;const nt=new Map,st=new c.MurmurHash3_64,tt=[],it=Object.create(null);let ot=!1;for(const[ct,rt]of at(this,b)){const lt=rt instanceof a.AnnotationEditor?rt.serialize(!1,it):rt;lt&&(nt.set(ct,lt),st.update(`${ct}:${JSON.stringify(lt)}`),ot||(ot=!!lt.bitmap))}if(ot)for(const ct of nt.values())ct.bitmap&&tt.push(ct.bitmap);return nt.size>0?{map:nt,hash:st.hexdigest(),transfers:tt}:d}}_=new WeakMap,b=new WeakMap,j=new WeakSet,or=function(){at(this,_)||(Xt(this,_,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=h;class g extends h{constructor(st){super();Mt(this,et,void 0);const{map:tt,hash:it,transfers:ot}=st.serializable,ct=structuredClone(tt,ot?{transfer:ot}:null);Xt(this,et,{map:ct,hash:it,transfers:ot})}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return at(this,et)}}et=new WeakMap,e.PrintAnnotationStorage=g},(i,e,s)=>{var g,_,b,j,$,et,_e,nt,st,tt,it,ot,ct,rt,lt,ks,gt,Ps,yt,Cs,kt,Ts,St,ar,It,lr,wt,cr,Yt,Rs,rn,ur;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var o=s(5),a=s(1),c=s(6);const ut=class ut{constructor(ht){Mt(this,lt);Mt(this,gt);Mt(this,kt);Mt(this,St);Mt(this,It);Mt(this,wt);Mt(this,Yt);Mt(this,rn);Mt(this,g,"");Mt(this,_,!1);Mt(this,b,null);Mt(this,j,null);Mt(this,$,null);Mt(this,et,!1);Mt(this,_e,null);Mt(this,nt,this.focusin.bind(this));Mt(this,st,this.focusout.bind(this));Mt(this,tt,!1);Mt(this,it,!1);Mt(this,ot,!1);dn(this,"_initialOptions",Object.create(null));dn(this,"_uiManager",null);dn(this,"_focusEventsAllowed",!0);dn(this,"_l10nPromise",null);Mt(this,ct,!1);Mt(this,rt,ut._zIndex++);this.constructor===ut&&(0,a.unreachable)("Cannot initialize AnnotationEditor."),this.parent=ht.parent,this.id=ht.id,this.width=this.height=null,this.pageIndex=ht.parent.pageIndex,this.name=ht.name,this.div=null,this._uiManager=ht.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=ht.isCentered,this._structTreeParentId=null;const{rotation:vt,rawDims:{pageWidth:bt,pageHeight:Et,pageX:Pt,pageY:Rt}}=this.parent.viewport;this.rotation=vt,this.pageRotation=(360+vt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[bt,Et],this.pageTranslation=[Pt,Rt];const[Gt,Ht]=this.parentDimensions;this.x=ht.x/Gt,this.y=ht.y/Ht,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,a.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(ht){const vt=new h({id:ht.parent.getNextId(),parent:ht.parent,uiManager:ht._uiManager});vt.annotationElementId=ht.annotationElementId,vt.deleted=!0,vt._uiManager.addToAnnotationStorage(vt)}static initialize(ht,vt=null){if(ut._l10nPromise||(ut._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Et=>[Et,ht.get(Et)]))),vt!=null&&vt.strings)for(const Et of vt.strings)ut._l10nPromise.set(Et,ht.get(Et));if(ut._borderLineWidth!==-1)return;const bt=getComputedStyle(document.documentElement);ut._borderLineWidth=parseFloat(bt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(ht,vt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(ht){return!1}static paste(ht,vt){(0,a.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return at(this,ct)}set _isDraggable(ht){var vt;Xt(this,ct,ht),(vt=this.div)==null||vt.classList.toggle("draggable",ht)}center(){const[ht,vt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*vt/(ht*2),this.y+=this.width*ht/(vt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*vt/(ht*2),this.y-=this.width*ht/(vt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(ht){this._uiManager.addCommands(ht)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=at(this,rt)}setParent(ht){ht!==null&&(this.pageIndex=ht.pageIndex,this.pageDimensions=ht.pageDimensions),this.parent=ht}focusin(ht){this._focusEventsAllowed&&(at(this,tt)?Xt(this,tt,!1):this.parent.setSelected(this))}focusout(ht){var bt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const vt=ht.relatedTarget;vt!=null&&vt.closest(`#${this.id}`)||(ht.preventDefault(),(bt=this.parent)!=null&&bt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(ht,vt,bt,Et){const[Pt,Rt]=this.parentDimensions;[bt,Et]=this.screenToPageTranslation(bt,Et),this.x=(ht+bt)/Pt,this.y=(vt+Et)/Rt,this.fixAndSetPosition()}translate(ht,vt){Nt(this,lt,ks).call(this,this.parentDimensions,ht,vt)}translateInPage(ht,vt){Nt(this,lt,ks).call(this,this.pageDimensions,ht,vt),this.div.scrollIntoView({block:"nearest"})}drag(ht,vt){const[bt,Et]=this.parentDimensions;if(this.x+=ht/bt,this.y+=vt/Et,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:qt,y:Jt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,qt,Jt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Pt,y:Rt}=this;const[Gt,Ht]=Nt(this,gt,Ps).call(this);Pt+=Gt,Rt+=Ht,this.div.style.left=`${(100*Pt).toFixed(2)}%`,this.div.style.top=`${(100*Rt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[ht,vt]=this.pageDimensions;let{x:bt,y:Et,width:Pt,height:Rt}=this;switch(Pt*=ht,Rt*=vt,bt*=ht,Et*=vt,this.rotation){case 0:bt=Math.max(0,Math.min(ht-Pt,bt)),Et=Math.max(0,Math.min(vt-Rt,Et));break;case 90:bt=Math.max(0,Math.min(ht-Rt,bt)),Et=Math.min(vt,Math.max(Pt,Et));break;case 180:bt=Math.min(ht,Math.max(Pt,bt)),Et=Math.min(vt,Math.max(Rt,Et));break;case 270:bt=Math.min(ht,Math.max(Rt,bt)),Et=Math.max(0,Math.min(vt-Pt,Et));break}this.x=bt/=ht,this.y=Et/=vt;const[Gt,Ht]=Nt(this,gt,Ps).call(this);bt+=Gt,Et+=Ht;const{style:qt}=this.div;qt.left=`${(100*bt).toFixed(2)}%`,qt.top=`${(100*Et).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(ht,vt){var bt;return Nt(bt=ut,yt,Cs).call(bt,ht,vt,this.parentRotation)}pageTranslationToScreen(ht,vt){var bt;return Nt(bt=ut,yt,Cs).call(bt,ht,vt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:ht,pageDimensions:[vt,bt]}=this,Et=vt*ht,Pt=bt*ht;return a.FeatureTest.isCSSRoundSupported?[Math.round(Et),Math.round(Pt)]:[Et,Pt]}setDims(ht,vt){var Pt;const[bt,Et]=this.parentDimensions;this.div.style.width=`${(100*ht/bt).toFixed(2)}%`,at(this,et)||(this.div.style.height=`${(100*vt/Et).toFixed(2)}%`),(Pt=at(this,b))==null||Pt.classList.toggle("small",ht<ut.SMALL_EDITOR_SIZE||vt<ut.SMALL_EDITOR_SIZE)}fixDims(){const{style:ht}=this.div,{height:vt,width:bt}=ht,Et=bt.endsWith("%"),Pt=!at(this,et)&&vt.endsWith("%");if(Et&&Pt)return;const[Rt,Gt]=this.parentDimensions;Et||(ht.width=`${(100*parseFloat(bt)/Rt).toFixed(2)}%`),!at(this,et)&&!Pt&&(ht.height=`${(100*parseFloat(vt)/Gt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(at(this,b))return;const ht=Xt(this,b,document.createElement("button"));ht.className="altText";const vt=await ut._l10nPromise.get("editor_alt_text_button_label");ht.textContent=vt,ht.setAttribute("aria-label",vt),ht.tabIndex="0",ht.addEventListener("contextmenu",c.noContextMenu),ht.addEventListener("pointerdown",bt=>bt.stopPropagation()),ht.addEventListener("click",bt=>{bt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),ht.addEventListener("keydown",bt=>{bt.target===ht&&bt.key==="Enter"&&(bt.preventDefault(),this._uiManager.editAltText(this))}),Nt(this,Yt,Rs).call(this),this.div.append(ht),ut.SMALL_EDITOR_SIZE||(ut.SMALL_EDITOR_SIZE=Math.min(128,Math.round(ht.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:at(this,g),decorative:at(this,_)}}set altTextData({altText:ht,decorative:vt}){at(this,g)===ht&&at(this,_)===vt||(Xt(this,g,ht),Xt(this,_,vt),Nt(this,Yt,Rs).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",at(this,nt)),this.div.addEventListener("focusout",at(this,st));const[ht,vt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*vt/ht).toFixed(2)}%`,this.div.style.maxHeight=`${(100*ht/vt).toFixed(2)}%`);const[bt,Et]=this.getInitialTranslation();return this.translate(bt,Et),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(ht){const{isMac:vt}=a.FeatureTest.platform;if(ht.button!==0||ht.ctrlKey&&vt){ht.preventDefault();return}Xt(this,tt,!0),Nt(this,rn,ur).call(this,ht)}moveInDOM(){var ht;(ht=this.parent)==null||ht.moveEditorInDOM(this)}_setParentAndPosition(ht,vt,bt){ht.changeParent(this),this.x=vt,this.y=bt,this.fixAndSetPosition()}getRect(ht,vt){const bt=this.parentScale,[Et,Pt]=this.pageDimensions,[Rt,Gt]=this.pageTranslation,Ht=ht/bt,qt=vt/bt,Jt=this.x*Et,nn=this.y*Pt,Qt=this.width*Et,gn=this.height*Pt;switch(this.rotation){case 0:return[Jt+Ht+Rt,Pt-nn-qt-gn+Gt,Jt+Ht+Qt+Rt,Pt-nn-qt+Gt];case 90:return[Jt+qt+Rt,Pt-nn+Ht+Gt,Jt+qt+gn+Rt,Pt-nn+Ht+Qt+Gt];case 180:return[Jt-Ht-Qt+Rt,Pt-nn+qt+Gt,Jt-Ht+Rt,Pt-nn+qt+gn+Gt];case 270:return[Jt-qt-gn+Rt,Pt-nn-Ht-Qt+Gt,Jt-qt+Rt,Pt-nn-Ht+Gt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(ht,vt){const[bt,Et,Pt,Rt]=ht,Gt=Pt-bt,Ht=Rt-Et;switch(this.rotation){case 0:return[bt,vt-Rt,Gt,Ht];case 90:return[bt,vt-Et,Ht,Gt];case 180:return[Pt,vt-Et,Gt,Ht];case 270:return[Pt,vt-Rt,Ht,Gt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Xt(this,ot,!0)}disableEditMode(){Xt(this,ot,!1)}isInEditMode(){return at(this,ot)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var ht,vt;(ht=this.div)==null||ht.addEventListener("focusin",at(this,nt)),(vt=this.div)==null||vt.addEventListener("focusout",at(this,st))}serialize(ht=!1,vt=null){(0,a.unreachable)("An editor must be serializable")}static deserialize(ht,vt,bt){const Et=new this.prototype.constructor({parent:vt,id:vt.getNextId(),uiManager:bt});Et.rotation=ht.rotation;const[Pt,Rt]=Et.pageDimensions,[Gt,Ht,qt,Jt]=Et.getRectInCurrentCoords(ht.rect,Rt);return Et.x=Gt/Pt,Et.y=Ht/Rt,Et.width=qt/Pt,Et.height=Jt/Rt,Et}remove(){var ht;this.div.removeEventListener("focusin",at(this,nt)),this.div.removeEventListener("focusout",at(this,st)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(ht=at(this,b))==null||ht.remove(),Xt(this,b,null),Xt(this,j,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Nt(this,St,ar).call(this),at(this,_e).classList.remove("hidden"))}select(){var ht;this.makeResizable(),(ht=this.div)==null||ht.classList.add("selectedEditor")}unselect(){var ht,vt,bt;(ht=at(this,_e))==null||ht.classList.add("hidden"),(vt=this.div)==null||vt.classList.remove("selectedEditor"),(bt=this.div)!=null&&bt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(ht,vt){}disableEditing(){at(this,b)&&(at(this,b).hidden=!0)}enableEditing(){at(this,b)&&(at(this,b).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return at(this,it)}set isEditing(ht){Xt(this,it,ht),this.parent&&(ht?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(ht,vt){Xt(this,et,!0);const bt=ht/vt,{style:Et}=this.div;Et.aspectRatio=bt,Et.height="auto"}static get MIN_SIZE(){return 16}};g=new WeakMap,_=new WeakMap,b=new WeakMap,j=new WeakMap,$=new WeakMap,et=new WeakMap,_e=new WeakMap,nt=new WeakMap,st=new WeakMap,tt=new WeakMap,it=new WeakMap,ot=new WeakMap,ct=new WeakMap,rt=new WeakMap,lt=new WeakSet,ks=function([ht,vt],bt,Et){[bt,Et]=this.screenToPageTranslation(bt,Et),this.x+=bt/ht,this.y+=Et/vt,this.fixAndSetPosition()},gt=new WeakSet,Ps=function(){const[ht,vt]=this.parentDimensions,{_borderLineWidth:bt}=ut,Et=bt/ht,Pt=bt/vt;switch(this.rotation){case 90:return[-Et,Pt];case 180:return[Et,Pt];case 270:return[Et,-Pt];default:return[-Et,-Pt]}},yt=new WeakSet,Cs=function(ht,vt,bt){switch(bt){case 90:return[vt,-ht];case 180:return[-ht,-vt];case 270:return[-vt,ht];default:return[ht,vt]}},kt=new WeakSet,Ts=function(ht){switch(ht){case 90:{const[vt,bt]=this.pageDimensions;return[0,-vt/bt,bt/vt,0]}case 180:return[-1,0,0,-1];case 270:{const[vt,bt]=this.pageDimensions;return[0,vt/bt,-bt/vt,0]}default:return[1,0,0,1]}},St=new WeakSet,ar=function(){if(at(this,_e))return;Xt(this,_e,document.createElement("div")),at(this,_e).classList.add("resizers");const ht=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||ht.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const vt of ht){const bt=document.createElement("div");at(this,_e).append(bt),bt.classList.add("resizer",vt),bt.addEventListener("pointerdown",Nt(this,It,lr).bind(this,vt)),bt.addEventListener("contextmenu",c.noContextMenu)}this.div.prepend(at(this,_e))},It=new WeakSet,lr=function(ht,vt){vt.preventDefault();const{isMac:bt}=a.FeatureTest.platform;if(vt.button!==0||vt.ctrlKey&&bt)return;const Et=Nt(this,wt,cr).bind(this,ht),Pt=this._isDraggable;this._isDraggable=!1;const Rt={passive:!0,capture:!0};window.addEventListener("pointermove",Et,Rt);const Gt=this.x,Ht=this.y,qt=this.width,Jt=this.height,nn=this.parent.div.style.cursor,Qt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(vt.target).cursor;const gn=()=>{this._isDraggable=Pt,window.removeEventListener("pointerup",gn),window.removeEventListener("blur",gn),window.removeEventListener("pointermove",Et,Rt),this.parent.div.style.cursor=nn,this.div.style.cursor=Qt;const Sn=this.x,un=this.y,xn=this.width,sn=this.height;Sn===Gt&&un===Ht&&xn===qt&&sn===Jt||this.addCommands({cmd:()=>{this.width=xn,this.height=sn,this.x=Sn,this.y=un;const[Vt,Wt]=this.parentDimensions;this.setDims(Vt*xn,Wt*sn),this.fixAndSetPosition()},undo:()=>{this.width=qt,this.height=Jt,this.x=Gt,this.y=Ht;const[Vt,Wt]=this.parentDimensions;this.setDims(Vt*qt,Wt*Jt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",gn),window.addEventListener("blur",gn)},wt=new WeakSet,cr=function(ht,vt){const[bt,Et]=this.parentDimensions,Pt=this.x,Rt=this.y,Gt=this.width,Ht=this.height,qt=ut.MIN_SIZE/bt,Jt=ut.MIN_SIZE/Et,nn=an=>Math.round(an*1e4)/1e4,Qt=Nt(this,kt,Ts).call(this,this.rotation),gn=(an,cn)=>[Qt[0]*an+Qt[2]*cn,Qt[1]*an+Qt[3]*cn],Sn=Nt(this,kt,Ts).call(this,360-this.rotation),un=(an,cn)=>[Sn[0]*an+Sn[2]*cn,Sn[1]*an+Sn[3]*cn];let xn,sn,Vt=!1,Wt=!1;switch(ht){case"topLeft":Vt=!0,xn=(an,cn)=>[0,0],sn=(an,cn)=>[an,cn];break;case"topMiddle":xn=(an,cn)=>[an/2,0],sn=(an,cn)=>[an/2,cn];break;case"topRight":Vt=!0,xn=(an,cn)=>[an,0],sn=(an,cn)=>[0,cn];break;case"middleRight":Wt=!0,xn=(an,cn)=>[an,cn/2],sn=(an,cn)=>[0,cn/2];break;case"bottomRight":Vt=!0,xn=(an,cn)=>[an,cn],sn=(an,cn)=>[0,0];break;case"bottomMiddle":xn=(an,cn)=>[an/2,cn],sn=(an,cn)=>[an/2,0];break;case"bottomLeft":Vt=!0,xn=(an,cn)=>[0,cn],sn=(an,cn)=>[an,0];break;case"middleLeft":Wt=!0,xn=(an,cn)=>[0,cn/2],sn=(an,cn)=>[an,cn/2];break}const en=xn(Gt,Ht),fn=sn(Gt,Ht);let pn=gn(...fn);const Pn=nn(Pt+pn[0]),On=nn(Rt+pn[1]);let Cn=1,Dn=1,[Mn,Tn]=this.screenToPageTranslation(vt.movementX,vt.movementY);if([Mn,Tn]=un(Mn/bt,Tn/Et),Vt){const an=Math.hypot(Gt,Ht);Cn=Dn=Math.max(Math.min(Math.hypot(fn[0]-en[0]-Mn,fn[1]-en[1]-Tn)/an,1/Gt,1/Ht),qt/Gt,Jt/Ht)}else Wt?Cn=Math.max(qt,Math.min(1,Math.abs(fn[0]-en[0]-Mn)))/Gt:Dn=Math.max(Jt,Math.min(1,Math.abs(fn[1]-en[1]-Tn)))/Ht;const Fn=nn(Gt*Cn),Zt=nn(Ht*Dn);pn=gn(...sn(Fn,Zt));const Ut=Pn-pn[0],jt=On-pn[1];this.width=Fn,this.height=Zt,this.x=Ut,this.y=jt,this.setDims(bt*Fn,Et*Zt),this.fixAndSetPosition()},Yt=new WeakSet,Rs=async function(){var bt;const ht=at(this,b);if(!ht)return;if(!at(this,g)&&!at(this,_)){ht.classList.remove("done"),(bt=at(this,j))==null||bt.remove();return}ut._l10nPromise.get("editor_alt_text_edit_button_label").then(Et=>{ht.setAttribute("aria-label",Et)});let vt=at(this,j);if(!vt){Xt(this,j,vt=document.createElement("span")),vt.className="tooltip",vt.setAttribute("role","tooltip");const Et=vt.id=`alt-text-tooltip-${this.id}`;ht.setAttribute("aria-describedby",Et);const Pt=100;ht.addEventListener("mouseenter",()=>{Xt(this,$,setTimeout(()=>{Xt(this,$,null),at(this,j).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Pt))}),ht.addEventListener("mouseleave",()=>{var Rt;clearTimeout(at(this,$)),Xt(this,$,null),(Rt=at(this,j))==null||Rt.classList.remove("show")})}ht.classList.add("done"),vt.innerText=at(this,_)?await ut._l10nPromise.get("editor_alt_text_decorative_tooltip"):at(this,g),vt.parentNode||ht.append(vt)},rn=new WeakSet,ur=function(ht){if(!this._isDraggable)return;const vt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let bt,Et;vt&&(bt={passive:!0,capture:!0},Et=Rt=>{const[Gt,Ht]=this.screenToPageTranslation(Rt.movementX,Rt.movementY);this._uiManager.dragSelectedEditors(Gt,Ht)},window.addEventListener("pointermove",Et,bt));const Pt=()=>{if(window.removeEventListener("pointerup",Pt),window.removeEventListener("blur",Pt),vt&&window.removeEventListener("pointermove",Et,bt),Xt(this,tt,!1),!this._uiManager.endDragSession()){const{isMac:Rt}=a.FeatureTest.platform;ht.ctrlKey&&!Rt||ht.shiftKey||ht.metaKey&&Rt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Pt),window.addEventListener("blur",Pt)},Mt(ut,yt),dn(ut,"_borderLineWidth",-1),dn(ut,"_colorManager",new o.ColorManager),dn(ut,"_zIndex",1),dn(ut,"SMALL_EDITOR_SIZE",0);let d=ut;e.AnnotationEditor=d;class h extends d{constructor(ht){super(ht),this.annotationElementId=ht.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(i,e,s)=>{var et,_e,nt,st,tt,Ms,ct,rt,lt,mt,gt,dr,_t,kt,Ot,St,Dt,It,zt,wt,Lt,Yt,tn,rn,At,ut,pt,ht,vt,bt,Et,Pt,Rt,Gt,Ht,qt,Jt,nn,Qt,gn,Sn,un,xn,sn,Vt,Wt,en,hr,pn,Os,On,Ds,Dn,hs,Tn,Fs,Zt,Ls,jt,Gn,cn,is,$n,fr,hn,pr,mn,Is,kn,ss,ln,Ns;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=c,e.opacityToHex=d;var o=s(1),a=s(6);function c(Ct,dt,xt){for(const Tt of xt)dt.addEventListener(Tt,Ct[Tt].bind(Ct))}function d(Ct){return Math.round(Math.min(255,Math.max(1,255*Ct))).toString(16).padStart(2,"0")}class h{constructor(){Mt(this,et,0)}getId(){return`${o.AnnotationEditorPrefix}${ns(this,et)._++}`}}et=new WeakMap;const ot=class ot{constructor(){Mt(this,tt);Mt(this,_e,(0,o.getUuid)());Mt(this,nt,0);Mt(this,st,null)}static get _isSVGFittingCanvas(){const dt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Tt=new OffscreenCanvas(1,3).getContext("2d"),Ft=new Image;Ft.src=dt;const Bt=Ft.decode().then(()=>(Tt.drawImage(Ft,0,0,1,1,0,0,1,3),new Uint32Array(Tt.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",Bt)}async getFromFile(dt){const{lastModified:xt,name:Tt,size:Ft,type:Bt}=dt;return Nt(this,tt,Ms).call(this,`${xt}_${Tt}_${Ft}_${Bt}`,dt)}async getFromUrl(dt){return Nt(this,tt,Ms).call(this,dt,dt)}async getFromId(dt){at(this,st)||Xt(this,st,new Map);const xt=at(this,st).get(dt);return xt?xt.bitmap?(xt.refCounter+=1,xt):xt.file?this.getFromFile(xt.file):this.getFromUrl(xt.url):null}getSvgUrl(dt){const xt=at(this,st).get(dt);return xt!=null&&xt.isSvg?xt.svgUrl:null}deleteId(dt){at(this,st)||Xt(this,st,new Map);const xt=at(this,st).get(dt);xt&&(xt.refCounter-=1,xt.refCounter===0&&(xt.bitmap=null))}isValidId(dt){return dt.startsWith(`image_${at(this,_e)}_`)}};_e=new WeakMap,nt=new WeakMap,st=new WeakMap,tt=new WeakSet,Ms=async function(dt,xt){at(this,st)||Xt(this,st,new Map);let Tt=at(this,st).get(dt);if(Tt===null)return null;if(Tt!=null&&Tt.bitmap)return Tt.refCounter+=1,Tt;try{Tt||(Tt={bitmap:null,id:`image_${at(this,_e)}_${ns(this,nt)._++}`,refCounter:0,isSvg:!1});let Ft;if(typeof xt=="string"){Tt.url=xt;const Bt=await fetch(xt);if(!Bt.ok)throw new Error(Bt.statusText);Ft=await Bt.blob()}else Ft=Tt.file=xt;if(Ft.type==="image/svg+xml"){const Bt=ot._isSVGFittingCanvas,Kt=new FileReader,on=new Image,vn=new Promise((yn,Ln)=>{on.onload=()=>{Tt.bitmap=on,Tt.isSvg=!0,yn()},Kt.onload=async()=>{const _n=Tt.svgUrl=Kt.result;on.src=await Bt?`${_n}#svgView(preserveAspectRatio(none))`:_n},on.onerror=Kt.onerror=Ln});Kt.readAsDataURL(Ft),await vn}else Tt.bitmap=await createImageBitmap(Ft);Tt.refCounter=1}catch(Ft){console.error(Ft),Tt=null}return at(this,st).set(dt,Tt),Tt&&at(this,st).set(Tt.id,Tt),Tt};let g=ot;class _{constructor(dt=128){Mt(this,ct,[]);Mt(this,rt,!1);Mt(this,lt,void 0);Mt(this,mt,-1);Xt(this,lt,dt)}add({cmd:dt,undo:xt,mustExec:Tt,type:Ft=NaN,overwriteIfSameType:Bt=!1,keepUndo:Kt=!1}){if(Tt&&dt(),at(this,rt))return;const on={cmd:dt,undo:xt,type:Ft};if(at(this,mt)===-1){at(this,ct).length>0&&(at(this,ct).length=0),Xt(this,mt,0),at(this,ct).push(on);return}if(Bt&&at(this,ct)[at(this,mt)].type===Ft){Kt&&(on.undo=at(this,ct)[at(this,mt)].undo),at(this,ct)[at(this,mt)]=on;return}const vn=at(this,mt)+1;vn===at(this,lt)?at(this,ct).splice(0,1):(Xt(this,mt,vn),vn<at(this,ct).length&&at(this,ct).splice(vn)),at(this,ct).push(on)}undo(){at(this,mt)!==-1&&(Xt(this,rt,!0),at(this,ct)[at(this,mt)].undo(),Xt(this,rt,!1),Xt(this,mt,at(this,mt)-1))}redo(){at(this,mt)<at(this,ct).length-1&&(Xt(this,mt,at(this,mt)+1),Xt(this,rt,!0),at(this,ct)[at(this,mt)].cmd(),Xt(this,rt,!1))}hasSomethingToUndo(){return at(this,mt)!==-1}hasSomethingToRedo(){return at(this,mt)<at(this,ct).length-1}destroy(){Xt(this,ct,null)}}ct=new WeakMap,rt=new WeakMap,lt=new WeakMap,mt=new WeakMap,e.CommandManager=_;class b{constructor(dt){Mt(this,gt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:xt}=o.FeatureTest.platform;for(const[Tt,Ft,Bt={}]of dt)for(const Kt of Tt){const on=Kt.startsWith("mac+");xt&&on?(this.callbacks.set(Kt.slice(4),{callback:Ft,options:Bt}),this.allKeys.add(Kt.split("+").at(-1))):!xt&&!on&&(this.callbacks.set(Kt,{callback:Ft,options:Bt}),this.allKeys.add(Kt.split("+").at(-1)))}}exec(dt,xt){if(!this.allKeys.has(xt.key))return;const Tt=this.callbacks.get(Nt(this,gt,dr).call(this,xt));if(!Tt)return;const{callback:Ft,options:{bubbles:Bt=!1,args:Kt=[],checker:on=null}}=Tt;on&&!on(dt,xt)||(Ft.bind(dt,...Kt)(),Bt||(xt.stopPropagation(),xt.preventDefault()))}}gt=new WeakSet,dr=function(dt){dt.altKey&&this.buffer.push("alt"),dt.ctrlKey&&this.buffer.push("ctrl"),dt.metaKey&&this.buffer.push("meta"),dt.shiftKey&&this.buffer.push("shift"),this.buffer.push(dt.key);const xt=this.buffer.join("+");return this.buffer.length=0,xt},e.KeyboardManager=b;const yt=class yt{get _colors(){const dt=new Map([["CanvasText",null],["Canvas",null]]);return(0,a.getColorValues)(dt),(0,o.shadow)(this,"_colors",dt)}convert(dt){const xt=(0,a.getRGB)(dt);if(!window.matchMedia("(forced-colors: active)").matches)return xt;for(const[Tt,Ft]of this._colors)if(Ft.every((Bt,Kt)=>Bt===xt[Kt]))return yt._colorsMapping.get(Tt);return xt}getHexCode(dt){const xt=this._colors.get(dt);return xt?o.Util.makeHexColor(...xt):dt}};dn(yt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let j=yt;e.ColorManager=j;const En=class En{constructor(dt,xt,Tt,Ft,Bt,Kt){Mt(this,en);Mt(this,pn);Mt(this,On);Mt(this,Dn);Mt(this,Tn);Mt(this,Zt);Mt(this,jt);Mt(this,cn);Mt(this,$n);Mt(this,hn);Mt(this,mn);Mt(this,kn);Mt(this,ln);Mt(this,_t,null);Mt(this,kt,new Map);Mt(this,Ot,new Map);Mt(this,St,null);Mt(this,Dt,null);Mt(this,It,new _);Mt(this,zt,0);Mt(this,wt,new Set);Mt(this,Lt,null);Mt(this,Yt,null);Mt(this,tn,new Set);Mt(this,rn,null);Mt(this,At,new h);Mt(this,ut,!1);Mt(this,pt,!1);Mt(this,ht,null);Mt(this,vt,o.AnnotationEditorType.NONE);Mt(this,bt,new Set);Mt(this,Et,null);Mt(this,Pt,this.blur.bind(this));Mt(this,Rt,this.focus.bind(this));Mt(this,Gt,this.copy.bind(this));Mt(this,Ht,this.cut.bind(this));Mt(this,qt,this.paste.bind(this));Mt(this,Jt,this.keydown.bind(this));Mt(this,nn,this.onEditingAction.bind(this));Mt(this,Qt,this.onPageChanging.bind(this));Mt(this,gn,this.onScaleChanging.bind(this));Mt(this,Sn,this.onRotationChanging.bind(this));Mt(this,un,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Mt(this,xn,[0,0]);Mt(this,sn,null);Mt(this,Vt,null);Mt(this,Wt,null);Xt(this,Vt,dt),Xt(this,Wt,xt),Xt(this,St,Tt),this._eventBus=Ft,this._eventBus._on("editingaction",at(this,nn)),this._eventBus._on("pagechanging",at(this,Qt)),this._eventBus._on("scalechanging",at(this,gn)),this._eventBus._on("rotationchanging",at(this,Sn)),Xt(this,Dt,Bt.annotationStorage),Xt(this,rn,Bt.filterFactory),Xt(this,Et,Kt),this.viewParameters={realScale:a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const dt=En.prototype,xt=Bt=>{const{activeElement:Kt}=document;return Kt&&at(Bt,Vt).contains(Kt)&&Bt.hasSomethingToControl()},Tt=this.TRANSLATE_SMALL,Ft=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new b([[["ctrl+a","mac+meta+a"],dt.selectAll],[["ctrl+z","mac+meta+z"],dt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],dt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],dt.delete],[["Escape","mac+Escape"],dt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],dt.translateSelectedEditors,{args:[-Tt,0],checker:xt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],dt.translateSelectedEditors,{args:[-Ft,0],checker:xt}],[["ArrowRight","mac+ArrowRight"],dt.translateSelectedEditors,{args:[Tt,0],checker:xt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],dt.translateSelectedEditors,{args:[Ft,0],checker:xt}],[["ArrowUp","mac+ArrowUp"],dt.translateSelectedEditors,{args:[0,-Tt],checker:xt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],dt.translateSelectedEditors,{args:[0,-Ft],checker:xt}],[["ArrowDown","mac+ArrowDown"],dt.translateSelectedEditors,{args:[0,Tt],checker:xt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],dt.translateSelectedEditors,{args:[0,Ft],checker:xt}]]))}destroy(){Nt(this,Dn,hs).call(this),Nt(this,pn,Os).call(this),this._eventBus._off("editingaction",at(this,nn)),this._eventBus._off("pagechanging",at(this,Qt)),this._eventBus._off("scalechanging",at(this,gn)),this._eventBus._off("rotationchanging",at(this,Sn));for(const dt of at(this,Ot).values())dt.destroy();at(this,Ot).clear(),at(this,kt).clear(),at(this,tn).clear(),Xt(this,_t,null),at(this,bt).clear(),at(this,It).destroy(),at(this,St).destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",at(this,Et)?at(this,rn).addHCMFilter(at(this,Et).foreground,at(this,Et).background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(at(this,Vt)).direction)}editAltText(dt){var xt;(xt=at(this,St))==null||xt.editAltText(this,dt)}onPageChanging({pageNumber:dt}){Xt(this,zt,dt-1)}focusMainContainer(){at(this,Vt).focus()}findParent(dt,xt){for(const Tt of at(this,Ot).values()){const{x:Ft,y:Bt,width:Kt,height:on}=Tt.div.getBoundingClientRect();if(dt>=Ft&&dt<=Ft+Kt&&xt>=Bt&&xt<=Bt+on)return Tt}return null}disableUserSelect(dt=!1){at(this,Wt).classList.toggle("noUserSelect",dt)}addShouldRescale(dt){at(this,tn).add(dt)}removeShouldRescale(dt){at(this,tn).delete(dt)}onScaleChanging({scale:dt}){this.commitOrRemove(),this.viewParameters.realScale=dt*a.PixelsPerInch.PDF_TO_CSS_UNITS;for(const xt of at(this,tn))xt.onScaleChanging()}onRotationChanging({pagesRotation:dt}){this.commitOrRemove(),this.viewParameters.rotation=dt}addToAnnotationStorage(dt){!dt.isEmpty()&&at(this,Dt)&&!at(this,Dt).has(dt.id)&&at(this,Dt).setValue(dt.id,dt)}blur(){if(!this.hasSelection)return;const{activeElement:dt}=document;for(const xt of at(this,bt))if(xt.div.contains(dt)){Xt(this,ht,[xt,dt]),xt._focusEventsAllowed=!1;break}}focus(){if(!at(this,ht))return;const[dt,xt]=at(this,ht);Xt(this,ht,null),xt.addEventListener("focusin",()=>{dt._focusEventsAllowed=!0},{once:!0}),xt.focus()}addEditListeners(){Nt(this,On,Ds).call(this),Nt(this,Tn,Fs).call(this)}removeEditListeners(){Nt(this,Dn,hs).call(this),Nt(this,Zt,Ls).call(this)}copy(dt){var Tt;if(dt.preventDefault(),(Tt=at(this,_t))==null||Tt.commitOrRemove(),!this.hasSelection)return;const xt=[];for(const Ft of at(this,bt)){const Bt=Ft.serialize(!0);Bt&&xt.push(Bt)}xt.length!==0&&dt.clipboardData.setData("application/pdfjs",JSON.stringify(xt))}cut(dt){this.copy(dt),this.delete()}paste(dt){dt.preventDefault();const{clipboardData:xt}=dt;for(const Bt of xt.items)for(const Kt of at(this,Yt))if(Kt.isHandlingMimeForPasting(Bt.type)){Kt.paste(Bt,this.currentLayer);return}let Tt=xt.getData("application/pdfjs");if(!Tt)return;try{Tt=JSON.parse(Tt)}catch(Bt){(0,o.warn)(`paste: "${Bt.message}".`);return}if(!Array.isArray(Tt))return;this.unselectAll();const Ft=this.currentLayer;try{const Bt=[];for(const vn of Tt){const yn=Ft.deserialize(vn);if(!yn)return;Bt.push(yn)}const Kt=()=>{for(const vn of Bt)Nt(this,mn,Is).call(this,vn);Nt(this,ln,Ns).call(this,Bt)},on=()=>{for(const vn of Bt)vn.remove()};this.addCommands({cmd:Kt,undo:on,mustExec:!0})}catch(Bt){(0,o.warn)(`paste: "${Bt.message}".`)}}keydown(dt){var xt;(xt=this.getActive())!=null&&xt.shouldGetKeyboardEvents()||En._keyboardManager.exec(this,dt)}onEditingAction(dt){["undo","redo","delete","selectAll"].includes(dt.name)&&this[dt.name]()}setEditingState(dt){dt?(Nt(this,en,hr).call(this),Nt(this,On,Ds).call(this),Nt(this,Tn,Fs).call(this),Nt(this,jt,Gn).call(this,{isEditing:at(this,vt)!==o.AnnotationEditorType.NONE,isEmpty:Nt(this,kn,ss).call(this),hasSomethingToUndo:at(this,It).hasSomethingToUndo(),hasSomethingToRedo:at(this,It).hasSomethingToRedo(),hasSelectedEditor:!1})):(Nt(this,pn,Os).call(this),Nt(this,Dn,hs).call(this),Nt(this,Zt,Ls).call(this),Nt(this,jt,Gn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(dt){if(!at(this,Yt)){Xt(this,Yt,dt);for(const xt of at(this,Yt))Nt(this,cn,is).call(this,xt.defaultPropertiesToUpdate)}}getId(){return at(this,At).getId()}get currentLayer(){return at(this,Ot).get(at(this,zt))}getLayer(dt){return at(this,Ot).get(dt)}get currentPageIndex(){return at(this,zt)}addLayer(dt){at(this,Ot).set(dt.pageIndex,dt),at(this,ut)?dt.enable():dt.disable()}removeLayer(dt){at(this,Ot).delete(dt.pageIndex)}updateMode(dt,xt=null){if(at(this,vt)!==dt){if(Xt(this,vt,dt),dt===o.AnnotationEditorType.NONE){this.setEditingState(!1),Nt(this,hn,pr).call(this);return}this.setEditingState(!0),Nt(this,$n,fr).call(this),this.unselectAll();for(const Tt of at(this,Ot).values())Tt.updateMode(dt);if(xt){for(const Tt of at(this,kt).values())if(Tt.annotationElementId===xt){this.setSelected(Tt),Tt.enterInEditMode();break}}}}updateToolbar(dt){dt!==at(this,vt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:dt})}updateParams(dt,xt){if(at(this,Yt)){if(dt===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(dt);return}for(const Tt of at(this,bt))Tt.updateParams(dt,xt);for(const Tt of at(this,Yt))Tt.updateDefaultParams(dt,xt)}}enableWaiting(dt=!1){if(at(this,pt)!==dt){Xt(this,pt,dt);for(const xt of at(this,Ot).values())dt?xt.disableClick():xt.enableClick(),xt.div.classList.toggle("waiting",dt)}}getEditors(dt){const xt=[];for(const Tt of at(this,kt).values())Tt.pageIndex===dt&&xt.push(Tt);return xt}getEditor(dt){return at(this,kt).get(dt)}addEditor(dt){at(this,kt).set(dt.id,dt)}removeEditor(dt){var xt;at(this,kt).delete(dt.id),this.unselect(dt),(!dt.annotationElementId||!at(this,wt).has(dt.annotationElementId))&&((xt=at(this,Dt))==null||xt.remove(dt.id))}addDeletedAnnotationElement(dt){at(this,wt).add(dt.annotationElementId),dt.deleted=!0}isDeletedAnnotationElement(dt){return at(this,wt).has(dt)}removeDeletedAnnotationElement(dt){at(this,wt).delete(dt.annotationElementId),dt.deleted=!1}setActiveEditor(dt){at(this,_t)!==dt&&(Xt(this,_t,dt),dt&&Nt(this,cn,is).call(this,dt.propertiesToUpdate))}toggleSelected(dt){if(at(this,bt).has(dt)){at(this,bt).delete(dt),dt.unselect(),Nt(this,jt,Gn).call(this,{hasSelectedEditor:this.hasSelection});return}at(this,bt).add(dt),dt.select(),Nt(this,cn,is).call(this,dt.propertiesToUpdate),Nt(this,jt,Gn).call(this,{hasSelectedEditor:!0})}setSelected(dt){for(const xt of at(this,bt))xt!==dt&&xt.unselect();at(this,bt).clear(),at(this,bt).add(dt),dt.select(),Nt(this,cn,is).call(this,dt.propertiesToUpdate),Nt(this,jt,Gn).call(this,{hasSelectedEditor:!0})}isSelected(dt){return at(this,bt).has(dt)}unselect(dt){dt.unselect(),at(this,bt).delete(dt),Nt(this,jt,Gn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return at(this,bt).size!==0}undo(){at(this,It).undo(),Nt(this,jt,Gn).call(this,{hasSomethingToUndo:at(this,It).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Nt(this,kn,ss).call(this)})}redo(){at(this,It).redo(),Nt(this,jt,Gn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:at(this,It).hasSomethingToRedo(),isEmpty:Nt(this,kn,ss).call(this)})}addCommands(dt){at(this,It).add(dt),Nt(this,jt,Gn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Nt(this,kn,ss).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const dt=[...at(this,bt)],xt=()=>{for(const Ft of dt)Ft.remove()},Tt=()=>{for(const Ft of dt)Nt(this,mn,Is).call(this,Ft)};this.addCommands({cmd:xt,undo:Tt,mustExec:!0})}commitOrRemove(){var dt;(dt=at(this,_t))==null||dt.commitOrRemove()}hasSomethingToControl(){return at(this,_t)||this.hasSelection}selectAll(){for(const dt of at(this,bt))dt.commit();Nt(this,ln,Ns).call(this,at(this,kt).values())}unselectAll(){if(at(this,_t)){at(this,_t).commitOrRemove();return}if(this.hasSelection){for(const dt of at(this,bt))dt.unselect();at(this,bt).clear(),Nt(this,jt,Gn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(dt,xt,Tt=!1){if(Tt||this.commitOrRemove(),!this.hasSelection)return;at(this,xn)[0]+=dt,at(this,xn)[1]+=xt;const[Ft,Bt]=at(this,xn),Kt=[...at(this,bt)],on=1e3;at(this,sn)&&clearTimeout(at(this,sn)),Xt(this,sn,setTimeout(()=>{Xt(this,sn,null),at(this,xn)[0]=at(this,xn)[1]=0,this.addCommands({cmd:()=>{for(const vn of Kt)at(this,kt).has(vn.id)&&vn.translateInPage(Ft,Bt)},undo:()=>{for(const vn of Kt)at(this,kt).has(vn.id)&&vn.translateInPage(-Ft,-Bt)},mustExec:!1})},on));for(const vn of Kt)vn.translateInPage(dt,xt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Xt(this,Lt,new Map);for(const dt of at(this,bt))at(this,Lt).set(dt,{savedX:dt.x,savedY:dt.y,savedPageIndex:dt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!at(this,Lt))return!1;this.disableUserSelect(!1);const dt=at(this,Lt);Xt(this,Lt,null);let xt=!1;for(const[{x:Ft,y:Bt,pageIndex:Kt},on]of dt)on.newX=Ft,on.newY=Bt,on.newPageIndex=Kt,xt||(xt=Ft!==on.savedX||Bt!==on.savedY||Kt!==on.savedPageIndex);if(!xt)return!1;const Tt=(Ft,Bt,Kt,on)=>{if(at(this,kt).has(Ft.id)){const vn=at(this,Ot).get(on);vn?Ft._setParentAndPosition(vn,Bt,Kt):(Ft.pageIndex=on,Ft.x=Bt,Ft.y=Kt)}};return this.addCommands({cmd:()=>{for(const[Ft,{newX:Bt,newY:Kt,newPageIndex:on}]of dt)Tt(Ft,Bt,Kt,on)},undo:()=>{for(const[Ft,{savedX:Bt,savedY:Kt,savedPageIndex:on}]of dt)Tt(Ft,Bt,Kt,on)},mustExec:!0}),!0}dragSelectedEditors(dt,xt){if(at(this,Lt))for(const Tt of at(this,Lt).keys())Tt.drag(dt,xt)}rebuild(dt){if(dt.parent===null){const xt=this.getLayer(dt.pageIndex);xt?(xt.changeParent(dt),xt.addOrRebuild(dt)):(this.addEditor(dt),this.addToAnnotationStorage(dt),dt.rebuild())}else dt.parent.addOrRebuild(dt)}isActive(dt){return at(this,_t)===dt}getActive(){return at(this,_t)}getMode(){return at(this,vt)}get imageManager(){return(0,o.shadow)(this,"imageManager",new g)}};_t=new WeakMap,kt=new WeakMap,Ot=new WeakMap,St=new WeakMap,Dt=new WeakMap,It=new WeakMap,zt=new WeakMap,wt=new WeakMap,Lt=new WeakMap,Yt=new WeakMap,tn=new WeakMap,rn=new WeakMap,At=new WeakMap,ut=new WeakMap,pt=new WeakMap,ht=new WeakMap,vt=new WeakMap,bt=new WeakMap,Et=new WeakMap,Pt=new WeakMap,Rt=new WeakMap,Gt=new WeakMap,Ht=new WeakMap,qt=new WeakMap,Jt=new WeakMap,nn=new WeakMap,Qt=new WeakMap,gn=new WeakMap,Sn=new WeakMap,un=new WeakMap,xn=new WeakMap,sn=new WeakMap,Vt=new WeakMap,Wt=new WeakMap,en=new WeakSet,hr=function(){window.addEventListener("focus",at(this,Rt)),window.addEventListener("blur",at(this,Pt))},pn=new WeakSet,Os=function(){window.removeEventListener("focus",at(this,Rt)),window.removeEventListener("blur",at(this,Pt))},On=new WeakSet,Ds=function(){window.addEventListener("keydown",at(this,Jt),{capture:!0})},Dn=new WeakSet,hs=function(){window.removeEventListener("keydown",at(this,Jt),{capture:!0})},Tn=new WeakSet,Fs=function(){document.addEventListener("copy",at(this,Gt)),document.addEventListener("cut",at(this,Ht)),document.addEventListener("paste",at(this,qt))},Zt=new WeakSet,Ls=function(){document.removeEventListener("copy",at(this,Gt)),document.removeEventListener("cut",at(this,Ht)),document.removeEventListener("paste",at(this,qt))},jt=new WeakSet,Gn=function(dt){Object.entries(dt).some(([Tt,Ft])=>at(this,un)[Tt]!==Ft)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(at(this,un),dt)})},cn=new WeakSet,is=function(dt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:dt})},$n=new WeakSet,fr=function(){if(!at(this,ut)){Xt(this,ut,!0);for(const dt of at(this,Ot).values())dt.enable()}},hn=new WeakSet,pr=function(){if(this.unselectAll(),at(this,ut)){Xt(this,ut,!1);for(const dt of at(this,Ot).values())dt.disable()}},mn=new WeakSet,Is=function(dt){const xt=at(this,Ot).get(dt.pageIndex);xt?xt.addOrRebuild(dt):this.addEditor(dt)},kn=new WeakSet,ss=function(){if(at(this,kt).size===0)return!0;if(at(this,kt).size===1)for(const dt of at(this,kt).values())return dt.isEmpty();return!1},ln=new WeakSet,Ns=function(dt){at(this,bt).clear();for(const xt of dt)xt.isEmpty()||(at(this,bt).add(xt),xt.select());Nt(this,jt,Gn).call(this,{hasSelectedEditor:!0})},dn(En,"TRANSLATE_SMALL",1),dn(En,"TRANSLATE_BIG",10);let $=En;e.AnnotationEditorUIManager=$},(i,e,s)=>{var zt,wt,Lt,Yt,tn,rn,At,ut,pt,ht,vt,bt,Zn,Pt,_i,Gt,js,qt,fs,nn,ps,gn,rs,un,os;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=mt,e.getColorValues=kt,e.getCurrentTransform=Ot,e.getCurrentTransformInverse=St,e.getFilenameFromUrl=tt,e.getPdfFilenameFromUrl=it,e.getRGB=_t,e.getXfaPageViewport=yt,e.isDataScheme=nt,e.isPdfFile=st,e.isValidFetchUrl=ct,e.loadScript=lt,e.noContextMenu=rt,e.setLayerDimensions=Dt;var o=s(7),a=s(1);const c="http://www.w3.org/2000/svg",It=class It{};dn(It,"CSS",96),dn(It,"PDF",72),dn(It,"PDF_TO_CSS_UNITS",It.CSS/It.PDF);let d=It;e.PixelsPerInch=d;class h extends o.BaseFilterFactory{constructor({docId:Wt,ownerDocument:en=globalThis.document}={}){super();Mt(this,bt);Mt(this,Pt);Mt(this,Gt);Mt(this,qt);Mt(this,nn);Mt(this,gn);Mt(this,un);Mt(this,zt,void 0);Mt(this,wt,void 0);Mt(this,Lt,void 0);Mt(this,Yt,void 0);Mt(this,tn,void 0);Mt(this,rn,void 0);Mt(this,At,void 0);Mt(this,ut,void 0);Mt(this,pt,void 0);Mt(this,ht,void 0);Mt(this,vt,0);Xt(this,Lt,Wt),Xt(this,Yt,en)}addFilter(Wt){if(!Wt)return"none";let en=at(this,bt,Zn).get(Wt);if(en)return en;let fn,pn,Pn,On;if(Wt.length===1){const Tn=Wt[0],Fn=new Array(256);for(let Zt=0;Zt<256;Zt++)Fn[Zt]=Tn[Zt]/255;On=fn=pn=Pn=Fn.join(",")}else{const[Tn,Fn,Zt]=Wt,Ut=new Array(256),jt=new Array(256),an=new Array(256);for(let cn=0;cn<256;cn++)Ut[cn]=Tn[cn]/255,jt[cn]=Fn[cn]/255,an[cn]=Zt[cn]/255;fn=Ut.join(","),pn=jt.join(","),Pn=an.join(","),On=`${fn}${pn}${Pn}`}if(en=at(this,bt,Zn).get(On),en)return at(this,bt,Zn).set(Wt,en),en;const Cn=`g_${at(this,Lt)}_transfer_map_${ns(this,vt)._++}`,Dn=`url(#${Cn})`;at(this,bt,Zn).set(Wt,Dn),at(this,bt,Zn).set(On,Dn);const Mn=Nt(this,qt,fs).call(this,Cn);return Nt(this,gn,rs).call(this,fn,pn,Pn,Mn),Dn}addHCMFilter(Wt,en){var Fn;const fn=`${Wt}-${en}`;if(at(this,rn)===fn)return at(this,At);if(Xt(this,rn,fn),Xt(this,At,"none"),(Fn=at(this,tn))==null||Fn.remove(),!Wt||!en)return at(this,At);const pn=Nt(this,un,os).call(this,Wt);Wt=a.Util.makeHexColor(...pn);const Pn=Nt(this,un,os).call(this,en);if(en=a.Util.makeHexColor(...Pn),at(this,Pt,_i).style.color="",Wt==="#000000"&&en==="#ffffff"||Wt===en)return at(this,At);const On=new Array(256);for(let Zt=0;Zt<=255;Zt++){const Ut=Zt/255;On[Zt]=Ut<=.03928?Ut/12.92:((Ut+.055)/1.055)**2.4}const Cn=On.join(","),Dn=`g_${at(this,Lt)}_hcm_filter`,Mn=Xt(this,ut,Nt(this,qt,fs).call(this,Dn));Nt(this,gn,rs).call(this,Cn,Cn,Cn,Mn),Nt(this,Gt,js).call(this,Mn);const Tn=(Zt,Ut)=>{const jt=pn[Zt]/255,an=Pn[Zt]/255,cn=new Array(Ut+1);for(let Un=0;Un<=Ut;Un++)cn[Un]=jt+Un/Ut*(an-jt);return cn.join(",")};return Nt(this,gn,rs).call(this,Tn(0,5),Tn(1,5),Tn(2,5),Mn),Xt(this,At,`url(#${Dn})`),at(this,At)}addHighlightHCMFilter(Wt,en,fn,pn){var an;const Pn=`${Wt}-${en}-${fn}-${pn}`;if(at(this,pt)===Pn)return at(this,ht);if(Xt(this,pt,Pn),Xt(this,ht,"none"),(an=at(this,ut))==null||an.remove(),!Wt||!en)return at(this,ht);const[On,Cn]=[Wt,en].map(Nt(this,un,os).bind(this));let Dn=Math.round(.2126*On[0]+.7152*On[1]+.0722*On[2]),Mn=Math.round(.2126*Cn[0]+.7152*Cn[1]+.0722*Cn[2]),[Tn,Fn]=[fn,pn].map(Nt(this,un,os).bind(this));Mn<Dn&&([Dn,Mn,Tn,Fn]=[Mn,Dn,Fn,Tn]),at(this,Pt,_i).style.color="";const Zt=(cn,Un,$n)=>{const $t=new Array(256),hn=(Mn-Dn)/$n,An=cn/255,mn=(Un-cn)/(255*$n);let wn=0;for(let kn=0;kn<=$n;kn++){const Bn=Math.round(Dn+kn*hn),ln=An+kn*mn;for(let Nn=wn;Nn<=Bn;Nn++)$t[Nn]=ln;wn=Bn+1}for(let kn=wn;kn<256;kn++)$t[kn]=$t[wn-1];return $t.join(",")},Ut=`g_${at(this,Lt)}_hcm_highlight_filter`,jt=Xt(this,ut,Nt(this,qt,fs).call(this,Ut));return Nt(this,Gt,js).call(this,jt),Nt(this,gn,rs).call(this,Zt(Tn[0],Fn[0],5),Zt(Tn[1],Fn[1],5),Zt(Tn[2],Fn[2],5),jt),Xt(this,ht,`url(#${Ut})`),at(this,ht)}destroy(Wt=!1){Wt&&(at(this,At)||at(this,ht))||(at(this,wt)&&(at(this,wt).parentNode.parentNode.remove(),Xt(this,wt,null)),at(this,zt)&&(at(this,zt).clear(),Xt(this,zt,null)),Xt(this,vt,0))}}zt=new WeakMap,wt=new WeakMap,Lt=new WeakMap,Yt=new WeakMap,tn=new WeakMap,rn=new WeakMap,At=new WeakMap,ut=new WeakMap,pt=new WeakMap,ht=new WeakMap,vt=new WeakMap,bt=new WeakSet,Zn=function(){return at(this,zt)||Xt(this,zt,new Map)},Pt=new WeakSet,_i=function(){if(!at(this,wt)){const Wt=at(this,Yt).createElement("div"),{style:en}=Wt;en.visibility="hidden",en.contain="strict",en.width=en.height=0,en.position="absolute",en.top=en.left=0,en.zIndex=-1;const fn=at(this,Yt).createElementNS(c,"svg");fn.setAttribute("width",0),fn.setAttribute("height",0),Xt(this,wt,at(this,Yt).createElementNS(c,"defs")),Wt.append(fn),fn.append(at(this,wt)),at(this,Yt).body.append(Wt)}return at(this,wt)},Gt=new WeakSet,js=function(Wt){const en=at(this,Yt).createElementNS(c,"feColorMatrix");en.setAttribute("type","matrix"),en.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Wt.append(en)},qt=new WeakSet,fs=function(Wt){const en=at(this,Yt).createElementNS(c,"filter");return en.setAttribute("color-interpolation-filters","sRGB"),en.setAttribute("id",Wt),at(this,Pt,_i).append(en),en},nn=new WeakSet,ps=function(Wt,en,fn){const pn=at(this,Yt).createElementNS(c,en);pn.setAttribute("type","discrete"),pn.setAttribute("tableValues",fn),Wt.append(pn)},gn=new WeakSet,rs=function(Wt,en,fn,pn){const Pn=at(this,Yt).createElementNS(c,"feComponentTransfer");pn.append(Pn),Nt(this,nn,ps).call(this,Pn,"feFuncR",Wt),Nt(this,nn,ps).call(this,Pn,"feFuncG",en),Nt(this,nn,ps).call(this,Pn,"feFuncB",fn)},un=new WeakSet,os=function(Wt){return at(this,Pt,_i).style.color=Wt,_t(getComputedStyle(at(this,Pt,_i)).getPropertyValue("color"))},e.DOMFilterFactory=h;class g extends o.BaseCanvasFactory{constructor({ownerDocument:Vt=globalThis.document}={}){super(),this._document=Vt}_createCanvas(Vt,Wt){const en=this._document.createElement("canvas");return en.width=Vt,en.height=Wt,en}}e.DOMCanvasFactory=g;async function _(sn,Vt=!1){if(ct(sn,document.baseURI)){const Wt=await fetch(sn);if(!Wt.ok)throw new Error(Wt.statusText);return Vt?new Uint8Array(await Wt.arrayBuffer()):(0,a.stringToBytes)(await Wt.text())}return new Promise((Wt,en)=>{const fn=new XMLHttpRequest;fn.open("GET",sn,!0),Vt&&(fn.responseType="arraybuffer"),fn.onreadystatechange=()=>{if(fn.readyState===XMLHttpRequest.DONE){if(fn.status===200||fn.status===0){let pn;if(Vt&&fn.response?pn=new Uint8Array(fn.response):!Vt&&fn.responseText&&(pn=(0,a.stringToBytes)(fn.responseText)),pn){Wt(pn);return}}en(new Error(fn.statusText))}},fn.send(null)})}class b extends o.BaseCMapReaderFactory{_fetchData(Vt,Wt){return _(Vt,this.isCompressed).then(en=>({cMapData:en,compressionType:Wt}))}}e.DOMCMapReaderFactory=b;class j extends o.BaseStandardFontDataFactory{_fetchData(Vt){return _(Vt,!0)}}e.DOMStandardFontDataFactory=j;class $ extends o.BaseSVGFactory{_createSVG(Vt){return document.createElementNS(c,Vt)}}e.DOMSVGFactory=$;class et{constructor({viewBox:Vt,scale:Wt,rotation:en,offsetX:fn=0,offsetY:pn=0,dontFlip:Pn=!1}){this.viewBox=Vt,this.scale=Wt,this.rotation=en,this.offsetX=fn,this.offsetY=pn;const On=(Vt[2]+Vt[0])/2,Cn=(Vt[3]+Vt[1])/2;let Dn,Mn,Tn,Fn;switch(en%=360,en<0&&(en+=360),en){case 180:Dn=-1,Mn=0,Tn=0,Fn=1;break;case 90:Dn=0,Mn=1,Tn=1,Fn=0;break;case 270:Dn=0,Mn=-1,Tn=-1,Fn=0;break;case 0:Dn=1,Mn=0,Tn=0,Fn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Pn&&(Tn=-Tn,Fn=-Fn);let Zt,Ut,jt,an;Dn===0?(Zt=Math.abs(Cn-Vt[1])*Wt+fn,Ut=Math.abs(On-Vt[0])*Wt+pn,jt=(Vt[3]-Vt[1])*Wt,an=(Vt[2]-Vt[0])*Wt):(Zt=Math.abs(On-Vt[0])*Wt+fn,Ut=Math.abs(Cn-Vt[1])*Wt+pn,jt=(Vt[2]-Vt[0])*Wt,an=(Vt[3]-Vt[1])*Wt),this.transform=[Dn*Wt,Mn*Wt,Tn*Wt,Fn*Wt,Zt-Dn*Wt*On-Tn*Wt*Cn,Ut-Mn*Wt*On-Fn*Wt*Cn],this.width=jt,this.height=an}get rawDims(){const{viewBox:Vt}=this;return(0,a.shadow)(this,"rawDims",{pageWidth:Vt[2]-Vt[0],pageHeight:Vt[3]-Vt[1],pageX:Vt[0],pageY:Vt[1]})}clone({scale:Vt=this.scale,rotation:Wt=this.rotation,offsetX:en=this.offsetX,offsetY:fn=this.offsetY,dontFlip:pn=!1}={}){return new et({viewBox:this.viewBox.slice(),scale:Vt,rotation:Wt,offsetX:en,offsetY:fn,dontFlip:pn})}convertToViewportPoint(Vt,Wt){return a.Util.applyTransform([Vt,Wt],this.transform)}convertToViewportRectangle(Vt){const Wt=a.Util.applyTransform([Vt[0],Vt[1]],this.transform),en=a.Util.applyTransform([Vt[2],Vt[3]],this.transform);return[Wt[0],Wt[1],en[0],en[1]]}convertToPdfPoint(Vt,Wt){return a.Util.applyInverseTransform([Vt,Wt],this.transform)}}e.PageViewport=et;class _e extends a.BaseException{constructor(Vt,Wt=0){super(Vt,"RenderingCancelledException"),this.extraDelay=Wt}}e.RenderingCancelledException=_e;function nt(sn){const Vt=sn.length;let Wt=0;for(;Wt<Vt&&sn[Wt].trim()==="";)Wt++;return sn.substring(Wt,Wt+5).toLowerCase()==="data:"}function st(sn){return typeof sn=="string"&&/\.pdf$/i.test(sn)}function tt(sn,Vt=!1){return Vt||([sn]=sn.split(/[#?]/,1)),sn.substring(sn.lastIndexOf("/")+1)}function it(sn,Vt="document.pdf"){if(typeof sn!="string")return Vt;if(nt(sn))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Vt;const Wt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,en=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,fn=Wt.exec(sn);let pn=en.exec(fn[1])||en.exec(fn[2])||en.exec(fn[3]);if(pn&&(pn=pn[0],pn.includes("%")))try{pn=en.exec(decodeURIComponent(pn))[0]}catch{}return pn||Vt}class ot{constructor(){dn(this,"started",Object.create(null));dn(this,"times",[])}time(Vt){Vt in this.started&&(0,a.warn)(`Timer is already running for ${Vt}`),this.started[Vt]=Date.now()}timeEnd(Vt){Vt in this.started||(0,a.warn)(`Timer has not been started for ${Vt}`),this.times.push({name:Vt,start:this.started[Vt],end:Date.now()}),delete this.started[Vt]}toString(){const Vt=[];let Wt=0;for(const{name:en}of this.times)Wt=Math.max(en.length,Wt);for(const{name:en,start:fn,end:pn}of this.times)Vt.push(`${en.padEnd(Wt)} ${pn-fn}ms
`);return Vt.join("")}}e.StatTimer=ot;function ct(sn,Vt){try{const{protocol:Wt}=Vt?new URL(sn,Vt):new URL(sn);return Wt==="http:"||Wt==="https:"}catch{return!1}}function rt(sn){sn.preventDefault()}function lt(sn,Vt=!1){return new Promise((Wt,en)=>{const fn=document.createElement("script");fn.src=sn,fn.onload=function(pn){Vt&&fn.remove(),Wt(pn)},fn.onerror=function(){en(new Error(`Cannot load script at: ${fn.src}`))},(document.head||document.documentElement).append(fn)})}function mt(sn){console.log("Deprecated API usage: "+sn)}let gt;class ft{static toDateObject(Vt){if(!Vt||typeof Vt!="string")return null;gt||(gt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Wt=gt.exec(Vt);if(!Wt)return null;const en=parseInt(Wt[1],10);let fn=parseInt(Wt[2],10);fn=fn>=1&&fn<=12?fn-1:0;let pn=parseInt(Wt[3],10);pn=pn>=1&&pn<=31?pn:1;let Pn=parseInt(Wt[4],10);Pn=Pn>=0&&Pn<=23?Pn:0;let On=parseInt(Wt[5],10);On=On>=0&&On<=59?On:0;let Cn=parseInt(Wt[6],10);Cn=Cn>=0&&Cn<=59?Cn:0;const Dn=Wt[7]||"Z";let Mn=parseInt(Wt[8],10);Mn=Mn>=0&&Mn<=23?Mn:0;let Tn=parseInt(Wt[9],10)||0;return Tn=Tn>=0&&Tn<=59?Tn:0,Dn==="-"?(Pn+=Mn,On+=Tn):Dn==="+"&&(Pn-=Mn,On-=Tn),new Date(Date.UTC(en,fn,pn,Pn,On,Cn))}}e.PDFDateString=ft;function yt(sn,{scale:Vt=1,rotation:Wt=0}){const{width:en,height:fn}=sn.attributes.style,pn=[0,0,parseInt(en),parseInt(fn)];return new et({viewBox:pn,scale:Vt,rotation:Wt})}function _t(sn){if(sn.startsWith("#")){const Vt=parseInt(sn.slice(1),16);return[(Vt&16711680)>>16,(Vt&65280)>>8,Vt&255]}return sn.startsWith("rgb(")?sn.slice(4,-1).split(",").map(Vt=>parseInt(Vt)):sn.startsWith("rgba(")?sn.slice(5,-1).split(",").map(Vt=>parseInt(Vt)).slice(0,3):((0,a.warn)(`Not a valid color format: "${sn}"`),[0,0,0])}function kt(sn){const Vt=document.createElement("span");Vt.style.visibility="hidden",document.body.append(Vt);for(const Wt of sn.keys()){Vt.style.color=Wt;const en=window.getComputedStyle(Vt).color;sn.set(Wt,_t(en))}Vt.remove()}function Ot(sn){const{a:Vt,b:Wt,c:en,d:fn,e:pn,f:Pn}=sn.getTransform();return[Vt,Wt,en,fn,pn,Pn]}function St(sn){const{a:Vt,b:Wt,c:en,d:fn,e:pn,f:Pn}=sn.getTransform().invertSelf();return[Vt,Wt,en,fn,pn,Pn]}function Dt(sn,Vt,Wt=!1,en=!0){if(Vt instanceof et){const{pageWidth:fn,pageHeight:pn}=Vt.rawDims,{style:Pn}=sn,On=a.FeatureTest.isCSSRoundSupported,Cn=`var(--scale-factor) * ${fn}px`,Dn=`var(--scale-factor) * ${pn}px`,Mn=On?`round(${Cn}, 1px)`:`calc(${Cn})`,Tn=On?`round(${Dn}, 1px)`:`calc(${Dn})`;!Wt||Vt.rotation%180===0?(Pn.width=Mn,Pn.height=Tn):(Pn.width=Tn,Pn.height=Mn)}en&&sn.setAttribute("data-main-rotation",Vt.rotation)}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var o=s(1);class a{constructor(){this.constructor===a&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(b){return"none"}addHCMFilter(b,j){return"none"}addHighlightHCMFilter(b,j,$,et){return"none"}destroy(b=!1){}}e.BaseFilterFactory=a;class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(b,j){if(b<=0||j<=0)throw new Error("Invalid canvas size");const $=this._createCanvas(b,j);return{canvas:$,context:$.getContext("2d")}}reset(b,j,$){if(!b.canvas)throw new Error("Canvas is not specified");if(j<=0||$<=0)throw new Error("Invalid canvas size");b.canvas.width=j,b.canvas.height=$}destroy(b){if(!b.canvas)throw new Error("Canvas is not specified");b.canvas.width=0,b.canvas.height=0,b.canvas=null,b.context=null}_createCanvas(b,j){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=c;class d{constructor({baseUrl:b=null,isCompressed:j=!0}){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=b,this.isCompressed=j}async fetch({name:b}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!b)throw new Error("CMap name must be specified.");const j=this.baseUrl+b+(this.isCompressed?".bcmap":""),$=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(j,$).catch(et=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${j}`)})}_fetchData(b,j){(0,o.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=d;class h{constructor({baseUrl:b=null}){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=b}async fetch({filename:b}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!b)throw new Error("Font filename must be specified.");const j=`${this.baseUrl}${b}`;return this._fetchData(j).catch($=>{throw new Error(`Unable to load font data at: ${j}`)})}_fetchData(b){(0,o.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=h;class g{constructor(){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(b,j,$=!1){if(b<=0||j<=0)throw new Error("Invalid SVG dimensions");const et=this._createSVG("svg:svg");return et.setAttribute("version","1.1"),$||(et.setAttribute("width",`${b}px`),et.setAttribute("height",`${j}px`)),et.setAttribute("preserveAspectRatio","none"),et.setAttribute("viewBox",`0 0 ${b} ${j}`),et}createElement(b){if(typeof b!="string")throw new Error("Invalid SVG element type");return this._createSVG(b)}_createSVG(b){(0,o.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=g},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var o=s(1);const a=3285377520,c=4294901760,d=65535;class h{constructor(_){this.h1=_?_&4294967295:a,this.h2=_?_&4294967295:a}update(_){let b,j;if(typeof _=="string"){b=new Uint8Array(_.length*2),j=0;for(let mt=0,gt=_.length;mt<gt;mt++){const ft=_.charCodeAt(mt);ft<=255?b[j++]=ft:(b[j++]=ft>>>8,b[j++]=ft&255)}}else if((0,o.isArrayBuffer)(_))b=_.slice(),j=b.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const $=j>>2,et=j-$*4,_e=new Uint32Array(b.buffer,0,$);let nt=0,st=0,tt=this.h1,it=this.h2;const ot=3432918353,ct=461845907,rt=ot&d,lt=ct&d;for(let mt=0;mt<$;mt++)mt&1?(nt=_e[mt],nt=nt*ot&c|nt*rt&d,nt=nt<<15|nt>>>17,nt=nt*ct&c|nt*lt&d,tt^=nt,tt=tt<<13|tt>>>19,tt=tt*5+3864292196):(st=_e[mt],st=st*ot&c|st*rt&d,st=st<<15|st>>>17,st=st*ct&c|st*lt&d,it^=st,it=it<<13|it>>>19,it=it*5+3864292196);switch(nt=0,et){case 3:nt^=b[$*4+2]<<16;case 2:nt^=b[$*4+1]<<8;case 1:nt^=b[$*4],nt=nt*ot&c|nt*rt&d,nt=nt<<15|nt>>>17,nt=nt*ct&c|nt*lt&d,$&1?tt^=nt:it^=nt}this.h1=tt,this.h2=it}hexdigest(){let _=this.h1,b=this.h2;return _^=b>>>1,_=_*3981806797&c|_*36045&d,b=b*4283543511&c|((b<<16|_>>>16)*2950163797&c)>>>16,_^=b>>>1,_=_*444984403&c|_*60499&d,b=b*3301882366&c|((b<<16|_>>>16)*3120437893&c)>>>16,_^=b>>>1,(_>>>0).toString(16).padStart(8,"0")+(b>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=h},(i,e,s)=>{var d;Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var o=s(1);class a{constructor({ownerDocument:g=globalThis.document,styleElement:_=null}){Mt(this,d,new Set);this._document=g,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(g){this.nativeFontFaces.add(g),this._document.fonts.add(g)}removeNativeFontFace(g){this.nativeFontFaces.delete(g),this._document.fonts.delete(g)}insertRule(g){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const _=this.styleElement.sheet;_.insertRule(g,_.cssRules.length)}clear(){for(const g of this.nativeFontFaces)this._document.fonts.delete(g);this.nativeFontFaces.clear(),at(this,d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(g){if(!(!g||at(this,d).has(g.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:_,src:b,style:j}=g,$=new FontFace(_,b,j);this.addNativeFontFace($);try{await $.load(),at(this,d).add(_)}catch{(0,o.warn)(`Cannot load system font: ${g.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace($)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(g){if(g.attached||g.missingFile&&!g.systemFontInfo)return;if(g.attached=!0,g.systemFontInfo){await this.loadSystemFont(g.systemFontInfo);return}if(this.isFontLoadingAPISupported){const b=g.createNativeFontFace();if(b){this.addNativeFontFace(b);try{await b.loaded}catch(j){throw(0,o.warn)(`Failed to load font '${b.family}': '${j}'.`),g.disableFontFace=!0,j}}return}const _=g.createFontFaceRule();if(_){if(this.insertRule(_),this.isSyncFontLoadingSupported)return;await new Promise(b=>{const j=this._queueLoadingCallback(b);this._prepareFontLoadEvent(g,j)})}}get isFontLoadingAPISupported(){var _;const g=!!((_=this._document)!=null&&_.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",g)}get isSyncFontLoadingSupported(){let g=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(g=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",g)}_queueLoadingCallback(g){function _(){for((0,o.assert)(!j.done,"completeRequest() cannot be called twice."),j.done=!0;b.length>0&&b[0].done;){const $=b.shift();setTimeout($.callback,0)}}const{loadingRequests:b}=this,j={done:!1,complete:_,callback:g};return b.push(j),j}get _loadTestFont(){const g=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",g)}_prepareFontLoadEvent(g,_){function b(_t,kt){return _t.charCodeAt(kt)<<24|_t.charCodeAt(kt+1)<<16|_t.charCodeAt(kt+2)<<8|_t.charCodeAt(kt+3)&255}function j(_t,kt,Ot,St){const Dt=_t.substring(0,kt),It=_t.substring(kt+Ot);return Dt+St+It}let $,et;const _e=this._document.createElement("canvas");_e.width=1,_e.height=1;const nt=_e.getContext("2d");let st=0;function tt(_t,kt){if(++st>30){(0,o.warn)("Load test font never loaded."),kt();return}if(nt.font="30px "+_t,nt.fillText(".",0,20),nt.getImageData(0,0,1,1).data[3]>0){kt();return}setTimeout(tt.bind(null,_t,kt))}const it=`lt${Date.now()}${this.loadTestFontId++}`;let ot=this._loadTestFont;ot=j(ot,976,it.length,it);const rt=16,lt=1482184792;let mt=b(ot,rt);for($=0,et=it.length-3;$<et;$+=4)mt=mt-lt+b(it,$)|0;$<it.length&&(mt=mt-lt+b(it+"XXX",$)|0),ot=j(ot,rt,4,(0,o.string32)(mt));const gt=`url(data:font/opentype;base64,${btoa(ot)});`,ft=`@font-face {font-family:"${it}";src:${gt}}`;this.insertRule(ft);const yt=this._document.createElement("div");yt.style.visibility="hidden",yt.style.width=yt.style.height="10px",yt.style.position="absolute",yt.style.top=yt.style.left="0px";for(const _t of[g.loadedName,it]){const kt=this._document.createElement("span");kt.textContent="Hi",kt.style.fontFamily=_t,yt.append(kt)}this._document.body.append(yt),tt(it,()=>{yt.remove(),_.complete()})}}d=new WeakMap,e.FontLoader=a;class c{constructor(g,{isEvalSupported:_=!0,disableFontFace:b=!1,ignoreErrors:j=!1,inspectFont:$=null}){this.compiledGlyphs=Object.create(null);for(const et in g)this[et]=g[et];this.isEvalSupported=_!==!1,this.disableFontFace=b===!0,this.ignoreErrors=j===!0,this._inspectFont=$}createNativeFontFace(){var _;if(!this.data||this.disableFontFace)return null;let g;if(!this.cssFontInfo)g=new FontFace(this.loadedName,this.data,{});else{const b={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(b.style=`oblique ${this.cssFontInfo.italicAngle}deg`),g=new FontFace(this.cssFontInfo.fontFamily,this.data,b)}return(_=this._inspectFont)==null||_.call(this,this),g}createFontFaceRule(){var j;if(!this.data||this.disableFontFace)return null;const g=(0,o.bytesToString)(this.data),_=`url(data:${this.mimetype};base64,${btoa(g)});`;let b;if(!this.cssFontInfo)b=`@font-face {font-family:"${this.loadedName}";src:${_}}`;else{let $=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&($+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),b=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${$}src:${_}}`}return(j=this._inspectFont)==null||j.call(this,this,_),b}getPathGenerator(g,_){if(this.compiledGlyphs[_]!==void 0)return this.compiledGlyphs[_];let b;try{b=g.get(this.loadedName+"_path_"+_)}catch(j){if(!this.ignoreErrors)throw j;return(0,o.warn)(`getPathGenerator - ignoring character: "${j}".`),this.compiledGlyphs[_]=function($,et){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const j=[];for(const $ of b){const et=$.args!==void 0?$.args.join(","):"";j.push("c.",$.cmd,"(",et,`);
`)}return this.compiledGlyphs[_]=new Function("c","size",j.join(""))}return this.compiledGlyphs[_]=function(j,$){for(const et of b)et.cmd==="scale"&&(et.args=[$,-$]),j[et.cmd].apply(j,et.args)}}}e.FontFaceObject=c},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var o=s(7);s(1);const a=function(_){return new Promise((b,j)=>{require$$5.readFile(_,(et,_e)=>{if(et||!_e){j(new Error(et));return}b(new Uint8Array(_e))})})};class c extends o.BaseFilterFactory{}e.NodeFilterFactory=c;class d extends o.BaseCanvasFactory{_createCanvas(b,j){return require$$5.createCanvas(b,j)}}e.NodeCanvasFactory=d;class h extends o.BaseCMapReaderFactory{_fetchData(b,j){return a(b).then($=>({cMapData:$,compressionType:j}))}}e.NodeCMapReaderFactory=h;class g extends o.BaseStandardFontDataFactory{_fetchData(b){return a(b)}}e.NodeStandardFontDataFactory=g},(i,e,s)=>{var wt,Bs,Yt,zs;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var o=s(1),a=s(6),c=s(12),d=s(13);const h=16,g=100,_=4096,b=15,j=10,$=1e3,et=16;function _e(At,ut){if(At._removeMirroring)throw new Error("Context is already forwarding operations.");At.__originalSave=At.save,At.__originalRestore=At.restore,At.__originalRotate=At.rotate,At.__originalScale=At.scale,At.__originalTranslate=At.translate,At.__originalTransform=At.transform,At.__originalSetTransform=At.setTransform,At.__originalResetTransform=At.resetTransform,At.__originalClip=At.clip,At.__originalMoveTo=At.moveTo,At.__originalLineTo=At.lineTo,At.__originalBezierCurveTo=At.bezierCurveTo,At.__originalRect=At.rect,At.__originalClosePath=At.closePath,At.__originalBeginPath=At.beginPath,At._removeMirroring=()=>{At.save=At.__originalSave,At.restore=At.__originalRestore,At.rotate=At.__originalRotate,At.scale=At.__originalScale,At.translate=At.__originalTranslate,At.transform=At.__originalTransform,At.setTransform=At.__originalSetTransform,At.resetTransform=At.__originalResetTransform,At.clip=At.__originalClip,At.moveTo=At.__originalMoveTo,At.lineTo=At.__originalLineTo,At.bezierCurveTo=At.__originalBezierCurveTo,At.rect=At.__originalRect,At.closePath=At.__originalClosePath,At.beginPath=At.__originalBeginPath,delete At._removeMirroring},At.save=function(){ut.save(),this.__originalSave()},At.restore=function(){ut.restore(),this.__originalRestore()},At.translate=function(ht,vt){ut.translate(ht,vt),this.__originalTranslate(ht,vt)},At.scale=function(ht,vt){ut.scale(ht,vt),this.__originalScale(ht,vt)},At.transform=function(ht,vt,bt,Et,Pt,Rt){ut.transform(ht,vt,bt,Et,Pt,Rt),this.__originalTransform(ht,vt,bt,Et,Pt,Rt)},At.setTransform=function(ht,vt,bt,Et,Pt,Rt){ut.setTransform(ht,vt,bt,Et,Pt,Rt),this.__originalSetTransform(ht,vt,bt,Et,Pt,Rt)},At.resetTransform=function(){ut.resetTransform(),this.__originalResetTransform()},At.rotate=function(ht){ut.rotate(ht),this.__originalRotate(ht)},At.clip=function(ht){ut.clip(ht),this.__originalClip(ht)},At.moveTo=function(pt,ht){ut.moveTo(pt,ht),this.__originalMoveTo(pt,ht)},At.lineTo=function(pt,ht){ut.lineTo(pt,ht),this.__originalLineTo(pt,ht)},At.bezierCurveTo=function(pt,ht,vt,bt,Et,Pt){ut.bezierCurveTo(pt,ht,vt,bt,Et,Pt),this.__originalBezierCurveTo(pt,ht,vt,bt,Et,Pt)},At.rect=function(pt,ht,vt,bt){ut.rect(pt,ht,vt,bt),this.__originalRect(pt,ht,vt,bt)},At.closePath=function(){ut.closePath(),this.__originalClosePath()},At.beginPath=function(){ut.beginPath(),this.__originalBeginPath()}}class nt{constructor(ut){this.canvasFactory=ut,this.cache=Object.create(null)}getCanvas(ut,pt,ht){let vt;return this.cache[ut]!==void 0?(vt=this.cache[ut],this.canvasFactory.reset(vt,pt,ht)):(vt=this.canvasFactory.create(pt,ht),this.cache[ut]=vt),vt}delete(ut){delete this.cache[ut]}clear(){for(const ut in this.cache){const pt=this.cache[ut];this.canvasFactory.destroy(pt),delete this.cache[ut]}}}function st(At,ut,pt,ht,vt,bt,Et,Pt,Rt,Gt){const[Ht,qt,Jt,nn,Qt,gn]=(0,a.getCurrentTransform)(At);if(qt===0&&Jt===0){const xn=Et*Ht+Qt,sn=Math.round(xn),Vt=Pt*nn+gn,Wt=Math.round(Vt),en=(Et+Rt)*Ht+Qt,fn=Math.abs(Math.round(en)-sn)||1,pn=(Pt+Gt)*nn+gn,Pn=Math.abs(Math.round(pn)-Wt)||1;return At.setTransform(Math.sign(Ht),0,0,Math.sign(nn),sn,Wt),At.drawImage(ut,pt,ht,vt,bt,0,0,fn,Pn),At.setTransform(Ht,qt,Jt,nn,Qt,gn),[fn,Pn]}if(Ht===0&&nn===0){const xn=Pt*Jt+Qt,sn=Math.round(xn),Vt=Et*qt+gn,Wt=Math.round(Vt),en=(Pt+Gt)*Jt+Qt,fn=Math.abs(Math.round(en)-sn)||1,pn=(Et+Rt)*qt+gn,Pn=Math.abs(Math.round(pn)-Wt)||1;return At.setTransform(0,Math.sign(qt),Math.sign(Jt),0,sn,Wt),At.drawImage(ut,pt,ht,vt,bt,0,0,Pn,fn),At.setTransform(Ht,qt,Jt,nn,Qt,gn),[Pn,fn]}At.drawImage(ut,pt,ht,vt,bt,Et,Pt,Rt,Gt);const Sn=Math.hypot(Ht,qt),un=Math.hypot(Jt,nn);return[Sn*Rt,un*Gt]}function tt(At){const{width:ut,height:pt}=At;if(ut>$||pt>$)return null;const ht=1e3,vt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),bt=ut+1;let Et=new Uint8Array(bt*(pt+1)),Pt,Rt,Gt;const Ht=ut+7&-8;let qt=new Uint8Array(Ht*pt),Jt=0;for(const un of At.data){let xn=128;for(;xn>0;)qt[Jt++]=un&xn?0:255,xn>>=1}let nn=0;for(Jt=0,qt[Jt]!==0&&(Et[0]=1,++nn),Rt=1;Rt<ut;Rt++)qt[Jt]!==qt[Jt+1]&&(Et[Rt]=qt[Jt]?2:1,++nn),Jt++;for(qt[Jt]!==0&&(Et[Rt]=2,++nn),Pt=1;Pt<pt;Pt++){Jt=Pt*Ht,Gt=Pt*bt,qt[Jt-Ht]!==qt[Jt]&&(Et[Gt]=qt[Jt]?1:8,++nn);let un=(qt[Jt]?4:0)+(qt[Jt-Ht]?8:0);for(Rt=1;Rt<ut;Rt++)un=(un>>2)+(qt[Jt+1]?4:0)+(qt[Jt-Ht+1]?8:0),vt[un]&&(Et[Gt+Rt]=vt[un],++nn),Jt++;if(qt[Jt-Ht]!==qt[Jt]&&(Et[Gt+Rt]=qt[Jt]?2:4,++nn),nn>ht)return null}for(Jt=Ht*(pt-1),Gt=Pt*bt,qt[Jt]!==0&&(Et[Gt]=8,++nn),Rt=1;Rt<ut;Rt++)qt[Jt]!==qt[Jt+1]&&(Et[Gt+Rt]=qt[Jt]?4:8,++nn),Jt++;if(qt[Jt]!==0&&(Et[Gt+Rt]=4,++nn),nn>ht)return null;const Qt=new Int32Array([0,bt,-1,0,-bt,0,0,0,1]),gn=new Path2D;for(Pt=0;nn&&Pt<=pt;Pt++){let un=Pt*bt;const xn=un+ut;for(;un<xn&&!Et[un];)un++;if(un===xn)continue;gn.moveTo(un%bt,Pt);const sn=un;let Vt=Et[un];do{const Wt=Qt[Vt];do un+=Wt;while(!Et[un]);const en=Et[un];en!==5&&en!==10?(Vt=en,Et[un]=0):(Vt=en&51*Vt>>4,Et[un]&=Vt>>2|Vt<<2),gn.lineTo(un%bt,un/bt|0),Et[un]||--nn}while(sn!==un);--Pt}return qt=null,Et=null,function(un){un.save(),un.scale(1/ut,-1/pt),un.translate(0,-pt),un.fill(gn),un.beginPath(),un.restore()}}class it{constructor(ut,pt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,ut,pt])}clone(){const ut=Object.create(this);return ut.clipBox=this.clipBox.slice(),ut}setCurrentPoint(ut,pt){this.x=ut,this.y=pt}updatePathMinMax(ut,pt,ht){[pt,ht]=o.Util.applyTransform([pt,ht],ut),this.minX=Math.min(this.minX,pt),this.minY=Math.min(this.minY,ht),this.maxX=Math.max(this.maxX,pt),this.maxY=Math.max(this.maxY,ht)}updateRectMinMax(ut,pt){const ht=o.Util.applyTransform(pt,ut),vt=o.Util.applyTransform(pt.slice(2),ut);this.minX=Math.min(this.minX,ht[0],vt[0]),this.minY=Math.min(this.minY,ht[1],vt[1]),this.maxX=Math.max(this.maxX,ht[0],vt[0]),this.maxY=Math.max(this.maxY,ht[1],vt[1])}updateScalingPathMinMax(ut,pt){o.Util.scaleMinMax(ut,pt),this.minX=Math.min(this.minX,pt[0]),this.maxX=Math.max(this.maxX,pt[1]),this.minY=Math.min(this.minY,pt[2]),this.maxY=Math.max(this.maxY,pt[3])}updateCurvePathMinMax(ut,pt,ht,vt,bt,Et,Pt,Rt,Gt,Ht){const qt=o.Util.bezierBoundingBox(pt,ht,vt,bt,Et,Pt,Rt,Gt);if(Ht){Ht[0]=Math.min(Ht[0],qt[0],qt[2]),Ht[1]=Math.max(Ht[1],qt[0],qt[2]),Ht[2]=Math.min(Ht[2],qt[1],qt[3]),Ht[3]=Math.max(Ht[3],qt[1],qt[3]);return}this.updateRectMinMax(ut,qt)}getPathBoundingBox(ut=c.PathType.FILL,pt=null){const ht=[this.minX,this.minY,this.maxX,this.maxY];if(ut===c.PathType.STROKE){pt||(0,o.unreachable)("Stroke bounding box must include transform.");const vt=o.Util.singularValueDecompose2dScale(pt),bt=vt[0]*this.lineWidth/2,Et=vt[1]*this.lineWidth/2;ht[0]-=bt,ht[1]-=Et,ht[2]+=bt,ht[3]+=Et}return ht}updateClipFromPath(){const ut=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ut||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ut){this.clipBox=ut,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ut=c.PathType.FILL,pt=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(ut,pt))}}function ot(At,ut){if(typeof ImageData<"u"&&ut instanceof ImageData){At.putImageData(ut,0,0);return}const pt=ut.height,ht=ut.width,vt=pt%et,bt=(pt-vt)/et,Et=vt===0?bt:bt+1,Pt=At.createImageData(ht,et);let Rt=0,Gt;const Ht=ut.data,qt=Pt.data;let Jt,nn,Qt,gn;if(ut.kind===o.ImageKind.GRAYSCALE_1BPP){const Sn=Ht.byteLength,un=new Uint32Array(qt.buffer,0,qt.byteLength>>2),xn=un.length,sn=ht+7>>3,Vt=4294967295,Wt=o.FeatureTest.isLittleEndian?4278190080:255;for(Jt=0;Jt<Et;Jt++){for(Qt=Jt<bt?et:vt,Gt=0,nn=0;nn<Qt;nn++){const en=Sn-Rt;let fn=0;const pn=en>sn?ht:en*8-7,Pn=pn&-8;let On=0,Cn=0;for(;fn<Pn;fn+=8)Cn=Ht[Rt++],un[Gt++]=Cn&128?Vt:Wt,un[Gt++]=Cn&64?Vt:Wt,un[Gt++]=Cn&32?Vt:Wt,un[Gt++]=Cn&16?Vt:Wt,un[Gt++]=Cn&8?Vt:Wt,un[Gt++]=Cn&4?Vt:Wt,un[Gt++]=Cn&2?Vt:Wt,un[Gt++]=Cn&1?Vt:Wt;for(;fn<pn;fn++)On===0&&(Cn=Ht[Rt++],On=128),un[Gt++]=Cn&On?Vt:Wt,On>>=1}for(;Gt<xn;)un[Gt++]=0;At.putImageData(Pt,0,Jt*et)}}else if(ut.kind===o.ImageKind.RGBA_32BPP){for(nn=0,gn=ht*et*4,Jt=0;Jt<bt;Jt++)qt.set(Ht.subarray(Rt,Rt+gn)),Rt+=gn,At.putImageData(Pt,0,nn),nn+=et;Jt<Et&&(gn=ht*vt*4,qt.set(Ht.subarray(Rt,Rt+gn)),At.putImageData(Pt,0,nn))}else if(ut.kind===o.ImageKind.RGB_24BPP)for(Qt=et,gn=ht*Qt,Jt=0;Jt<Et;Jt++){for(Jt>=bt&&(Qt=vt,gn=ht*Qt),Gt=0,nn=gn;nn--;)qt[Gt++]=Ht[Rt++],qt[Gt++]=Ht[Rt++],qt[Gt++]=Ht[Rt++],qt[Gt++]=255;At.putImageData(Pt,0,Jt*et)}else throw new Error(`bad image kind: ${ut.kind}`)}function ct(At,ut){if(ut.bitmap){At.drawImage(ut.bitmap,0,0);return}const pt=ut.height,ht=ut.width,vt=pt%et,bt=(pt-vt)/et,Et=vt===0?bt:bt+1,Pt=At.createImageData(ht,et);let Rt=0;const Gt=ut.data,Ht=Pt.data;for(let qt=0;qt<Et;qt++){const Jt=qt<bt?et:vt;({srcPos:Rt}=(0,d.convertBlackAndWhiteToRGBA)({src:Gt,srcPos:Rt,dest:Ht,width:ht,height:Jt,nonBlackColor:0})),At.putImageData(Pt,0,qt*et)}}function rt(At,ut){const pt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const ht of pt)At[ht]!==void 0&&(ut[ht]=At[ht]);At.setLineDash!==void 0&&(ut.setLineDash(At.getLineDash()),ut.lineDashOffset=At.lineDashOffset)}function lt(At){if(At.strokeStyle=At.fillStyle="#000000",At.fillRule="nonzero",At.globalAlpha=1,At.lineWidth=1,At.lineCap="butt",At.lineJoin="miter",At.miterLimit=10,At.globalCompositeOperation="source-over",At.font="10px sans-serif",At.setLineDash!==void 0&&(At.setLineDash([]),At.lineDashOffset=0),!o.isNodeJS){const{filter:ut}=At;ut!=="none"&&ut!==""&&(At.filter="none")}}function mt(At,ut,pt,ht){const vt=At.length;for(let bt=3;bt<vt;bt+=4){const Et=At[bt];if(Et===0)At[bt-3]=ut,At[bt-2]=pt,At[bt-1]=ht;else if(Et<255){const Pt=255-Et;At[bt-3]=At[bt-3]*Et+ut*Pt>>8,At[bt-2]=At[bt-2]*Et+pt*Pt>>8,At[bt-1]=At[bt-1]*Et+ht*Pt>>8}}}function gt(At,ut,pt){const ht=At.length,vt=1/255;for(let bt=3;bt<ht;bt+=4){const Et=pt?pt[At[bt]]:At[bt];ut[bt]=ut[bt]*Et*vt|0}}function ft(At,ut,pt){const ht=At.length;for(let vt=3;vt<ht;vt+=4){const bt=At[vt-3]*77+At[vt-2]*152+At[vt-1]*28;ut[vt]=pt?ut[vt]*pt[bt>>8]>>8:ut[vt]*bt>>16}}function yt(At,ut,pt,ht,vt,bt,Et,Pt,Rt,Gt,Ht){const qt=!!bt,Jt=qt?bt[0]:0,nn=qt?bt[1]:0,Qt=qt?bt[2]:0,gn=vt==="Luminosity"?ft:gt,un=Math.min(ht,Math.ceil(1048576/pt));for(let xn=0;xn<ht;xn+=un){const sn=Math.min(un,ht-xn),Vt=At.getImageData(Pt-Gt,xn+(Rt-Ht),pt,sn),Wt=ut.getImageData(Pt,xn+Rt,pt,sn);qt&&mt(Vt.data,Jt,nn,Qt),gn(Vt.data,Wt.data,Et),ut.putImageData(Wt,Pt,xn+Rt)}}function _t(At,ut,pt,ht){const vt=ht[0],bt=ht[1],Et=ht[2]-vt,Pt=ht[3]-bt;Et===0||Pt===0||(yt(ut.context,pt,Et,Pt,ut.subtype,ut.backdrop,ut.transferMap,vt,bt,ut.offsetX,ut.offsetY),At.save(),At.globalAlpha=1,At.globalCompositeOperation="source-over",At.setTransform(1,0,0,1,0,0),At.drawImage(pt.canvas,0,0),At.restore())}function kt(At,ut){const pt=o.Util.singularValueDecompose2dScale(At);pt[0]=Math.fround(pt[0]),pt[1]=Math.fround(pt[1]);const ht=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return ut!==void 0?ut:pt[0]<=ht||pt[1]<=ht}const Ot=["butt","round","square"],St=["miter","round","bevel"],Dt={},It={},rn=class rn{constructor(ut,pt,ht,vt,bt,{optionalContentConfig:Et,markedContentStack:Pt=null},Rt,Gt){Mt(this,wt);Mt(this,Yt);this.ctx=ut,this.current=new it(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=pt,this.objs=ht,this.canvasFactory=vt,this.filterFactory=bt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Pt||[],this.optionalContentConfig=Et,this.cachedCanvases=new nt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Rt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Gt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ut,pt=null){return typeof ut=="string"?ut.startsWith("g_")?this.commonObjs.get(ut):this.objs.get(ut):pt}beginDrawing({transform:ut,viewport:pt,transparency:ht=!1,background:vt=null}){const bt=this.ctx.canvas.width,Et=this.ctx.canvas.height,Pt=this.ctx.fillStyle;if(this.ctx.fillStyle=vt||"#ffffff",this.ctx.fillRect(0,0,bt,Et),this.ctx.fillStyle=Pt,ht){const Rt=this.cachedCanvases.getCanvas("transparent",bt,Et);this.compositeCtx=this.ctx,this.transparentCanvas=Rt.canvas,this.ctx=Rt.context,this.ctx.save(),this.ctx.transform(...(0,a.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),lt(this.ctx),ut&&(this.ctx.transform(...ut),this.outputScaleX=ut[0],this.outputScaleY=ut[0]),this.ctx.transform(...pt.transform),this.viewportScale=pt.scale,this.baseTransform=(0,a.getCurrentTransform)(this.ctx)}executeOperatorList(ut,pt,ht,vt){const bt=ut.argsArray,Et=ut.fnArray;let Pt=pt||0;const Rt=bt.length;if(Rt===Pt)return Pt;const Gt=Rt-Pt>j&&typeof ht=="function",Ht=Gt?Date.now()+b:0;let qt=0;const Jt=this.commonObjs,nn=this.objs;let Qt;for(;;){if(vt!==void 0&&Pt===vt.nextBreakPoint)return vt.breakIt(Pt,ht),Pt;if(Qt=Et[Pt],Qt!==o.OPS.dependency)this[Qt].apply(this,bt[Pt]);else for(const gn of bt[Pt]){const Sn=gn.startsWith("g_")?Jt:nn;if(!Sn.has(gn))return Sn.get(gn,ht),Pt}if(Pt++,Pt===Rt)return Pt;if(Gt&&++qt>j){if(Date.now()>Ht)return ht(),Pt;qt=0}}}endDrawing(){Nt(this,wt,Bs).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ut of this._cachedBitmapsMap.values()){for(const pt of ut.values())typeof HTMLCanvasElement<"u"&&pt instanceof HTMLCanvasElement&&(pt.width=pt.height=0);ut.clear()}this._cachedBitmapsMap.clear(),Nt(this,Yt,zs).call(this)}_scaleImage(ut,pt){const ht=ut.width,vt=ut.height;let bt=Math.max(Math.hypot(pt[0],pt[1]),1),Et=Math.max(Math.hypot(pt[2],pt[3]),1),Pt=ht,Rt=vt,Gt="prescale1",Ht,qt;for(;bt>2&&Pt>1||Et>2&&Rt>1;){let Jt=Pt,nn=Rt;bt>2&&Pt>1&&(Jt=Pt>=16384?Math.floor(Pt/2)-1||1:Math.ceil(Pt/2),bt/=Pt/Jt),Et>2&&Rt>1&&(nn=Rt>=16384?Math.floor(Rt/2)-1||1:Math.ceil(Rt)/2,Et/=Rt/nn),Ht=this.cachedCanvases.getCanvas(Gt,Jt,nn),qt=Ht.context,qt.clearRect(0,0,Jt,nn),qt.drawImage(ut,0,0,Pt,Rt,0,0,Jt,nn),ut=Ht.canvas,Pt=Jt,Rt=nn,Gt=Gt==="prescale1"?"prescale2":"prescale1"}return{img:ut,paintWidth:Pt,paintHeight:Rt}}_createMaskCanvas(ut){const pt=this.ctx,{width:ht,height:vt}=ut,bt=this.current.fillColor,Et=this.current.patternFill,Pt=(0,a.getCurrentTransform)(pt);let Rt,Gt,Ht,qt;if((ut.bitmap||ut.data)&&ut.count>1){const fn=ut.bitmap||ut.data.buffer;Gt=JSON.stringify(Et?Pt:[Pt.slice(0,4),bt]),Rt=this._cachedBitmapsMap.get(fn),Rt||(Rt=new Map,this._cachedBitmapsMap.set(fn,Rt));const pn=Rt.get(Gt);if(pn&&!Et){const Pn=Math.round(Math.min(Pt[0],Pt[2])+Pt[4]),On=Math.round(Math.min(Pt[1],Pt[3])+Pt[5]);return{canvas:pn,offsetX:Pn,offsetY:On}}Ht=pn}Ht||(qt=this.cachedCanvases.getCanvas("maskCanvas",ht,vt),ct(qt.context,ut));let Jt=o.Util.transform(Pt,[1/ht,0,0,-1/vt,0,0]);Jt=o.Util.transform(Jt,[1,0,0,1,0,-vt]);const nn=o.Util.applyTransform([0,0],Jt),Qt=o.Util.applyTransform([ht,vt],Jt),gn=o.Util.normalizeRect([nn[0],nn[1],Qt[0],Qt[1]]),Sn=Math.round(gn[2]-gn[0])||1,un=Math.round(gn[3]-gn[1])||1,xn=this.cachedCanvases.getCanvas("fillCanvas",Sn,un),sn=xn.context,Vt=Math.min(nn[0],Qt[0]),Wt=Math.min(nn[1],Qt[1]);sn.translate(-Vt,-Wt),sn.transform(...Jt),Ht||(Ht=this._scaleImage(qt.canvas,(0,a.getCurrentTransformInverse)(sn)),Ht=Ht.img,Rt&&Et&&Rt.set(Gt,Ht)),sn.imageSmoothingEnabled=kt((0,a.getCurrentTransform)(sn),ut.interpolate),st(sn,Ht,0,0,Ht.width,Ht.height,0,0,ht,vt),sn.globalCompositeOperation="source-in";const en=o.Util.transform((0,a.getCurrentTransformInverse)(sn),[1,0,0,1,-Vt,-Wt]);return sn.fillStyle=Et?bt.getPattern(pt,this,en,c.PathType.FILL):bt,sn.fillRect(0,0,ht,vt),Rt&&!Et&&(this.cachedCanvases.delete("fillCanvas"),Rt.set(Gt,xn.canvas)),{canvas:xn.canvas,offsetX:Math.round(Vt),offsetY:Math.round(Wt)}}setLineWidth(ut){ut!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=ut,this.ctx.lineWidth=ut}setLineCap(ut){this.ctx.lineCap=Ot[ut]}setLineJoin(ut){this.ctx.lineJoin=St[ut]}setMiterLimit(ut){this.ctx.miterLimit=ut}setDash(ut,pt){const ht=this.ctx;ht.setLineDash!==void 0&&(ht.setLineDash(ut),ht.lineDashOffset=pt)}setRenderingIntent(ut){}setFlatness(ut){}setGState(ut){for(const[pt,ht]of ut)switch(pt){case"LW":this.setLineWidth(ht);break;case"LC":this.setLineCap(ht);break;case"LJ":this.setLineJoin(ht);break;case"ML":this.setMiterLimit(ht);break;case"D":this.setDash(ht[0],ht[1]);break;case"RI":this.setRenderingIntent(ht);break;case"FL":this.setFlatness(ht);break;case"Font":this.setFont(ht[0],ht[1]);break;case"CA":this.current.strokeAlpha=ht;break;case"ca":this.current.fillAlpha=ht,this.ctx.globalAlpha=ht;break;case"BM":this.ctx.globalCompositeOperation=ht;break;case"SMask":this.current.activeSMask=ht?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(ht);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ut=this.inSMaskMode;this.current.activeSMask&&!ut?this.beginSMaskMode():!this.current.activeSMask&&ut&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ut=this.ctx.canvas.width,pt=this.ctx.canvas.height,ht="smaskGroupAt"+this.groupLevel,vt=this.cachedCanvases.getCanvas(ht,ut,pt);this.suspendedCtx=this.ctx,this.ctx=vt.context;const bt=this.ctx;bt.setTransform(...(0,a.getCurrentTransform)(this.suspendedCtx)),rt(this.suspendedCtx,bt),_e(bt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),rt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ut){if(!this.current.activeSMask)return;ut?(ut[0]=Math.floor(ut[0]),ut[1]=Math.floor(ut[1]),ut[2]=Math.ceil(ut[2]),ut[3]=Math.ceil(ut[3])):ut=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const pt=this.current.activeSMask,ht=this.suspendedCtx;_t(ht,pt,this.ctx,ut),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(rt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ut=this.current;this.stateStack.push(ut),this.current=ut.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),rt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(ut,pt,ht,vt,bt,Et){this.ctx.transform(ut,pt,ht,vt,bt,Et),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(ut,pt,ht){const vt=this.ctx,bt=this.current;let Et=bt.x,Pt=bt.y,Rt,Gt;const Ht=(0,a.getCurrentTransform)(vt),qt=Ht[0]===0&&Ht[3]===0||Ht[1]===0&&Ht[2]===0,Jt=qt?ht.slice(0):null;for(let nn=0,Qt=0,gn=ut.length;nn<gn;nn++)switch(ut[nn]|0){case o.OPS.rectangle:Et=pt[Qt++],Pt=pt[Qt++];const Sn=pt[Qt++],un=pt[Qt++],xn=Et+Sn,sn=Pt+un;vt.moveTo(Et,Pt),Sn===0||un===0?vt.lineTo(xn,sn):(vt.lineTo(xn,Pt),vt.lineTo(xn,sn),vt.lineTo(Et,sn)),qt||bt.updateRectMinMax(Ht,[Et,Pt,xn,sn]),vt.closePath();break;case o.OPS.moveTo:Et=pt[Qt++],Pt=pt[Qt++],vt.moveTo(Et,Pt),qt||bt.updatePathMinMax(Ht,Et,Pt);break;case o.OPS.lineTo:Et=pt[Qt++],Pt=pt[Qt++],vt.lineTo(Et,Pt),qt||bt.updatePathMinMax(Ht,Et,Pt);break;case o.OPS.curveTo:Rt=Et,Gt=Pt,Et=pt[Qt+4],Pt=pt[Qt+5],vt.bezierCurveTo(pt[Qt],pt[Qt+1],pt[Qt+2],pt[Qt+3],Et,Pt),bt.updateCurvePathMinMax(Ht,Rt,Gt,pt[Qt],pt[Qt+1],pt[Qt+2],pt[Qt+3],Et,Pt,Jt),Qt+=6;break;case o.OPS.curveTo2:Rt=Et,Gt=Pt,vt.bezierCurveTo(Et,Pt,pt[Qt],pt[Qt+1],pt[Qt+2],pt[Qt+3]),bt.updateCurvePathMinMax(Ht,Rt,Gt,Et,Pt,pt[Qt],pt[Qt+1],pt[Qt+2],pt[Qt+3],Jt),Et=pt[Qt+2],Pt=pt[Qt+3],Qt+=4;break;case o.OPS.curveTo3:Rt=Et,Gt=Pt,Et=pt[Qt+2],Pt=pt[Qt+3],vt.bezierCurveTo(pt[Qt],pt[Qt+1],Et,Pt,Et,Pt),bt.updateCurvePathMinMax(Ht,Rt,Gt,pt[Qt],pt[Qt+1],Et,Pt,Et,Pt,Jt),Qt+=4;break;case o.OPS.closePath:vt.closePath();break}qt&&bt.updateScalingPathMinMax(Ht,Jt),bt.setCurrentPoint(Et,Pt)}closePath(){this.ctx.closePath()}stroke(ut=!0){const pt=this.ctx,ht=this.current.strokeColor;pt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof ht=="object"&&(ht!=null&&ht.getPattern)?(pt.save(),pt.strokeStyle=ht.getPattern(pt,this,(0,a.getCurrentTransformInverse)(pt),c.PathType.STROKE),this.rescaleAndStroke(!1),pt.restore()):this.rescaleAndStroke(!0)),ut&&this.consumePath(this.current.getClippedPathBoundingBox()),pt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ut=!0){const pt=this.ctx,ht=this.current.fillColor,vt=this.current.patternFill;let bt=!1;vt&&(pt.save(),pt.fillStyle=ht.getPattern(pt,this,(0,a.getCurrentTransformInverse)(pt),c.PathType.FILL),bt=!0);const Et=this.current.getClippedPathBoundingBox();this.contentVisible&&Et!==null&&(this.pendingEOFill?(pt.fill("evenodd"),this.pendingEOFill=!1):pt.fill()),bt&&pt.restore(),ut&&this.consumePath(Et)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Dt}eoClip(){this.pendingClip=It}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ut=this.pendingTextPaths,pt=this.ctx;if(ut===void 0){pt.beginPath();return}pt.save(),pt.beginPath();for(const ht of ut)pt.setTransform(...ht.transform),pt.translate(ht.x,ht.y),ht.addToPath(pt,ht.fontSize);pt.restore(),pt.clip(),pt.beginPath(),delete this.pendingTextPaths}setCharSpacing(ut){this.current.charSpacing=ut}setWordSpacing(ut){this.current.wordSpacing=ut}setHScale(ut){this.current.textHScale=ut/100}setLeading(ut){this.current.leading=-ut}setFont(ut,pt){var Ht;const ht=this.commonObjs.get(ut),vt=this.current;if(!ht)throw new Error(`Can't find font for ${ut}`);if(vt.fontMatrix=ht.fontMatrix||o.FONT_IDENTITY_MATRIX,(vt.fontMatrix[0]===0||vt.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+ut),pt<0?(pt=-pt,vt.fontDirection=-1):vt.fontDirection=1,this.current.font=ht,this.current.fontSize=pt,ht.isType3Font)return;const bt=ht.loadedName||"sans-serif",Et=((Ht=ht.systemFontInfo)==null?void 0:Ht.css)||`"${bt}", ${ht.fallbackName}`;let Pt="normal";ht.black?Pt="900":ht.bold&&(Pt="bold");const Rt=ht.italic?"italic":"normal";let Gt=pt;pt<h?Gt=h:pt>g&&(Gt=g),this.current.fontSizeScale=pt/Gt,this.ctx.font=`${Rt} ${Pt} ${Gt}px ${Et}`}setTextRenderingMode(ut){this.current.textRenderingMode=ut}setTextRise(ut){this.current.textRise=ut}moveText(ut,pt){this.current.x=this.current.lineX+=ut,this.current.y=this.current.lineY+=pt}setLeadingMoveText(ut,pt){this.setLeading(-pt),this.moveText(ut,pt)}setTextMatrix(ut,pt,ht,vt,bt,Et){this.current.textMatrix=[ut,pt,ht,vt,bt,Et],this.current.textMatrixScale=Math.hypot(ut,pt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ut,pt,ht,vt){const bt=this.ctx,Et=this.current,Pt=Et.font,Rt=Et.textRenderingMode,Gt=Et.fontSize/Et.fontSizeScale,Ht=Rt&o.TextRenderingMode.FILL_STROKE_MASK,qt=!!(Rt&o.TextRenderingMode.ADD_TO_PATH_FLAG),Jt=Et.patternFill&&!Pt.missingFile;let nn;(Pt.disableFontFace||qt||Jt)&&(nn=Pt.getPathGenerator(this.commonObjs,ut)),Pt.disableFontFace||Jt?(bt.save(),bt.translate(pt,ht),bt.beginPath(),nn(bt,Gt),vt&&bt.setTransform(...vt),(Ht===o.TextRenderingMode.FILL||Ht===o.TextRenderingMode.FILL_STROKE)&&bt.fill(),(Ht===o.TextRenderingMode.STROKE||Ht===o.TextRenderingMode.FILL_STROKE)&&bt.stroke(),bt.restore()):((Ht===o.TextRenderingMode.FILL||Ht===o.TextRenderingMode.FILL_STROKE)&&bt.fillText(ut,pt,ht),(Ht===o.TextRenderingMode.STROKE||Ht===o.TextRenderingMode.FILL_STROKE)&&bt.strokeText(ut,pt,ht)),qt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,a.getCurrentTransform)(bt),x:pt,y:ht,fontSize:Gt,addToPath:nn})}get isFontSubpixelAAEnabled(){const{context:ut}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ut.scale(1.5,1),ut.fillText("I",0,10);const pt=ut.getImageData(0,0,10,10).data;let ht=!1;for(let vt=3;vt<pt.length;vt+=4)if(pt[vt]>0&&pt[vt]<255){ht=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",ht)}showText(ut){const pt=this.current,ht=pt.font;if(ht.isType3Font)return this.showType3Text(ut);const vt=pt.fontSize;if(vt===0)return;const bt=this.ctx,Et=pt.fontSizeScale,Pt=pt.charSpacing,Rt=pt.wordSpacing,Gt=pt.fontDirection,Ht=pt.textHScale*Gt,qt=ut.length,Jt=ht.vertical,nn=Jt?1:-1,Qt=ht.defaultVMetrics,gn=vt*pt.fontMatrix[0],Sn=pt.textRenderingMode===o.TextRenderingMode.FILL&&!ht.disableFontFace&&!pt.patternFill;bt.save(),bt.transform(...pt.textMatrix),bt.translate(pt.x,pt.y+pt.textRise),Gt>0?bt.scale(Ht,-1):bt.scale(Ht,1);let un;if(pt.patternFill){bt.save();const en=pt.fillColor.getPattern(bt,this,(0,a.getCurrentTransformInverse)(bt),c.PathType.FILL);un=(0,a.getCurrentTransform)(bt),bt.restore(),bt.fillStyle=en}let xn=pt.lineWidth;const sn=pt.textMatrixScale;if(sn===0||xn===0){const en=pt.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(en===o.TextRenderingMode.STROKE||en===o.TextRenderingMode.FILL_STROKE)&&(xn=this.getSinglePixelWidth())}else xn/=sn;if(Et!==1&&(bt.scale(Et,Et),xn/=Et),bt.lineWidth=xn,ht.isInvalidPDFjsFont){const en=[];let fn=0;for(const pn of ut)en.push(pn.unicode),fn+=pn.width;bt.fillText(en.join(""),0,0),pt.x+=fn*gn*Ht,bt.restore(),this.compose();return}let Vt=0,Wt;for(Wt=0;Wt<qt;++Wt){const en=ut[Wt];if(typeof en=="number"){Vt+=nn*en*vt/1e3;continue}let fn=!1;const pn=(en.isSpace?Rt:0)+Pt,Pn=en.fontChar,On=en.accent;let Cn,Dn,Mn=en.width;if(Jt){const Fn=en.vmetric||Qt,Zt=-(en.vmetric?Fn[1]:Mn*.5)*gn,Ut=Fn[2]*gn;Mn=Fn?-Fn[0]:Mn,Cn=Zt/Et,Dn=(Vt+Ut)/Et}else Cn=Vt/Et,Dn=0;if(ht.remeasure&&Mn>0){const Fn=bt.measureText(Pn).width*1e3/vt*Et;if(Mn<Fn&&this.isFontSubpixelAAEnabled){const Zt=Mn/Fn;fn=!0,bt.save(),bt.scale(Zt,1),Cn/=Zt}else Mn!==Fn&&(Cn+=(Mn-Fn)/2e3*vt/Et)}if(this.contentVisible&&(en.isInFont||ht.missingFile)){if(Sn&&!On)bt.fillText(Pn,Cn,Dn);else if(this.paintChar(Pn,Cn,Dn,un),On){const Fn=Cn+vt*On.offset.x/Et,Zt=Dn-vt*On.offset.y/Et;this.paintChar(On.fontChar,Fn,Zt,un)}}const Tn=Jt?Mn*gn-pn*Gt:Mn*gn+pn*Gt;Vt+=Tn,fn&&bt.restore()}Jt?pt.y-=Vt:pt.x+=Vt*Ht,bt.restore(),this.compose()}showType3Text(ut){const pt=this.ctx,ht=this.current,vt=ht.font,bt=ht.fontSize,Et=ht.fontDirection,Pt=vt.vertical?1:-1,Rt=ht.charSpacing,Gt=ht.wordSpacing,Ht=ht.textHScale*Et,qt=ht.fontMatrix||o.FONT_IDENTITY_MATRIX,Jt=ut.length,nn=ht.textRenderingMode===o.TextRenderingMode.INVISIBLE;let Qt,gn,Sn,un;if(!(nn||bt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,pt.save(),pt.transform(...ht.textMatrix),pt.translate(ht.x,ht.y),pt.scale(Ht,Et),Qt=0;Qt<Jt;++Qt){if(gn=ut[Qt],typeof gn=="number"){un=Pt*gn*bt/1e3,this.ctx.translate(un,0),ht.x+=un*Ht;continue}const xn=(gn.isSpace?Gt:0)+Rt,sn=vt.charProcOperatorList[gn.operatorListId];if(!sn){(0,o.warn)(`Type3 character "${gn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=gn,this.save(),pt.scale(bt,bt),pt.transform(...qt),this.executeOperatorList(sn),this.restore()),Sn=o.Util.applyTransform([gn.width,0],qt)[0]*bt+xn,pt.translate(Sn,0),ht.x+=Sn*Ht}pt.restore(),this.processingType3=null}}setCharWidth(ut,pt){}setCharWidthAndBounds(ut,pt,ht,vt,bt,Et){this.ctx.rect(ht,vt,bt-ht,Et-vt),this.ctx.clip(),this.endPath()}getColorN_Pattern(ut){let pt;if(ut[0]==="TilingPattern"){const ht=ut[1],vt=this.baseTransform||(0,a.getCurrentTransform)(this.ctx),bt={createCanvasGraphics:Et=>new rn(Et,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};pt=new c.TilingPattern(ut,ht,this.ctx,bt,vt)}else pt=this._getPattern(ut[1],ut[2]);return pt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ut,pt,ht){const vt=o.Util.makeHexColor(ut,pt,ht);this.ctx.strokeStyle=vt,this.current.strokeColor=vt}setFillRGBColor(ut,pt,ht){const vt=o.Util.makeHexColor(ut,pt,ht);this.ctx.fillStyle=vt,this.current.fillColor=vt,this.current.patternFill=!1}_getPattern(ut,pt=null){let ht;return this.cachedPatterns.has(ut)?ht=this.cachedPatterns.get(ut):(ht=(0,c.getShadingPattern)(this.getObject(ut)),this.cachedPatterns.set(ut,ht)),pt&&(ht.matrix=pt),ht}shadingFill(ut){if(!this.contentVisible)return;const pt=this.ctx;this.save();const ht=this._getPattern(ut);pt.fillStyle=ht.getPattern(pt,this,(0,a.getCurrentTransformInverse)(pt),c.PathType.SHADING);const vt=(0,a.getCurrentTransformInverse)(pt);if(vt){const{width:bt,height:Et}=pt.canvas,[Pt,Rt,Gt,Ht]=o.Util.getAxialAlignedBoundingBox([0,0,bt,Et],vt);this.ctx.fillRect(Pt,Rt,Gt-Pt,Ht-Rt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ut,pt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ut)&&ut.length===6&&this.transform(...ut),this.baseTransform=(0,a.getCurrentTransform)(this.ctx),pt)){const ht=pt[2]-pt[0],vt=pt[3]-pt[1];this.ctx.rect(pt[0],pt[1],ht,vt),this.current.updateRectMinMax((0,a.getCurrentTransform)(this.ctx),pt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ut){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const pt=this.ctx;ut.isolated||(0,o.info)("TODO: Support non-isolated groups."),ut.knockout&&(0,o.warn)("Knockout groups not supported.");const ht=(0,a.getCurrentTransform)(pt);if(ut.matrix&&pt.transform(...ut.matrix),!ut.bbox)throw new Error("Bounding box is required.");let vt=o.Util.getAxialAlignedBoundingBox(ut.bbox,(0,a.getCurrentTransform)(pt));const bt=[0,0,pt.canvas.width,pt.canvas.height];vt=o.Util.intersect(vt,bt)||[0,0,0,0];const Et=Math.floor(vt[0]),Pt=Math.floor(vt[1]);let Rt=Math.max(Math.ceil(vt[2])-Et,1),Gt=Math.max(Math.ceil(vt[3])-Pt,1),Ht=1,qt=1;Rt>_&&(Ht=Rt/_,Rt=_),Gt>_&&(qt=Gt/_,Gt=_),this.current.startNewPathAndClipBox([0,0,Rt,Gt]);let Jt="groupAt"+this.groupLevel;ut.smask&&(Jt+="_smask_"+this.smaskCounter++%2);const nn=this.cachedCanvases.getCanvas(Jt,Rt,Gt),Qt=nn.context;Qt.scale(1/Ht,1/qt),Qt.translate(-Et,-Pt),Qt.transform(...ht),ut.smask?this.smaskStack.push({canvas:nn.canvas,context:Qt,offsetX:Et,offsetY:Pt,scaleX:Ht,scaleY:qt,subtype:ut.smask.subtype,backdrop:ut.smask.backdrop,transferMap:ut.smask.transferMap||null,startTransformInverse:null}):(pt.setTransform(1,0,0,1,0,0),pt.translate(Et,Pt),pt.scale(Ht,qt),pt.save()),rt(pt,Qt),this.ctx=Qt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(pt),this.groupLevel++}endGroup(ut){if(!this.contentVisible)return;this.groupLevel--;const pt=this.ctx,ht=this.groupStack.pop();if(this.ctx=ht,this.ctx.imageSmoothingEnabled=!1,ut.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const vt=(0,a.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...vt);const bt=o.Util.getAxialAlignedBoundingBox([0,0,pt.canvas.width,pt.canvas.height],vt);this.ctx.drawImage(pt.canvas,0,0),this.ctx.restore(),this.compose(bt)}}beginAnnotation(ut,pt,ht,vt,bt){if(Nt(this,wt,Bs).call(this),lt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(pt)&&pt.length===4){const Et=pt[2]-pt[0],Pt=pt[3]-pt[1];if(bt&&this.annotationCanvasMap){ht=ht.slice(),ht[4]-=pt[0],ht[5]-=pt[1],pt=pt.slice(),pt[0]=pt[1]=0,pt[2]=Et,pt[3]=Pt;const[Rt,Gt]=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(this.ctx)),{viewportScale:Ht}=this,qt=Math.ceil(Et*this.outputScaleX*Ht),Jt=Math.ceil(Pt*this.outputScaleY*Ht);this.annotationCanvas=this.canvasFactory.create(qt,Jt);const{canvas:nn,context:Qt}=this.annotationCanvas;this.annotationCanvasMap.set(ut,nn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Qt,this.ctx.save(),this.ctx.setTransform(Rt,0,0,-Gt,0,Pt*Gt),lt(this.ctx)}else lt(this.ctx),this.ctx.rect(pt[0],pt[1],Et,Pt),this.ctx.clip(),this.endPath()}this.current=new it(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...ht),this.transform(...vt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Nt(this,Yt,zs).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ut){if(!this.contentVisible)return;const pt=ut.count;ut=this.getObject(ut.data,ut),ut.count=pt;const ht=this.ctx,vt=this.processingType3;if(vt&&(vt.compiled===void 0&&(vt.compiled=tt(ut)),vt.compiled)){vt.compiled(ht);return}const bt=this._createMaskCanvas(ut),Et=bt.canvas;ht.save(),ht.setTransform(1,0,0,1,0,0),ht.drawImage(Et,bt.offsetX,bt.offsetY),ht.restore(),this.compose()}paintImageMaskXObjectRepeat(ut,pt,ht=0,vt=0,bt,Et){if(!this.contentVisible)return;ut=this.getObject(ut.data,ut);const Pt=this.ctx;Pt.save();const Rt=(0,a.getCurrentTransform)(Pt);Pt.transform(pt,ht,vt,bt,0,0);const Gt=this._createMaskCanvas(ut);Pt.setTransform(1,0,0,1,Gt.offsetX-Rt[4],Gt.offsetY-Rt[5]);for(let Ht=0,qt=Et.length;Ht<qt;Ht+=2){const Jt=o.Util.transform(Rt,[pt,ht,vt,bt,Et[Ht],Et[Ht+1]]),[nn,Qt]=o.Util.applyTransform([0,0],Jt);Pt.drawImage(Gt.canvas,nn,Qt)}Pt.restore(),this.compose()}paintImageMaskXObjectGroup(ut){if(!this.contentVisible)return;const pt=this.ctx,ht=this.current.fillColor,vt=this.current.patternFill;for(const bt of ut){const{data:Et,width:Pt,height:Rt,transform:Gt}=bt,Ht=this.cachedCanvases.getCanvas("maskCanvas",Pt,Rt),qt=Ht.context;qt.save();const Jt=this.getObject(Et,bt);ct(qt,Jt),qt.globalCompositeOperation="source-in",qt.fillStyle=vt?ht.getPattern(qt,this,(0,a.getCurrentTransformInverse)(pt),c.PathType.FILL):ht,qt.fillRect(0,0,Pt,Rt),qt.restore(),pt.save(),pt.transform(...Gt),pt.scale(1,-1),st(pt,Ht.canvas,0,0,Pt,Rt,0,-1,1,1),pt.restore()}this.compose()}paintImageXObject(ut){if(!this.contentVisible)return;const pt=this.getObject(ut);if(!pt){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(pt)}paintImageXObjectRepeat(ut,pt,ht,vt){if(!this.contentVisible)return;const bt=this.getObject(ut);if(!bt){(0,o.warn)("Dependent image isn't ready yet");return}const Et=bt.width,Pt=bt.height,Rt=[];for(let Gt=0,Ht=vt.length;Gt<Ht;Gt+=2)Rt.push({transform:[pt,0,0,ht,vt[Gt],vt[Gt+1]],x:0,y:0,w:Et,h:Pt});this.paintInlineImageXObjectGroup(bt,Rt)}applyTransferMapsToCanvas(ut){return this.current.transferMaps!=="none"&&(ut.filter=this.current.transferMaps,ut.drawImage(ut.canvas,0,0),ut.filter="none"),ut.canvas}applyTransferMapsToBitmap(ut){if(this.current.transferMaps==="none")return ut.bitmap;const{bitmap:pt,width:ht,height:vt}=ut,bt=this.cachedCanvases.getCanvas("inlineImage",ht,vt),Et=bt.context;return Et.filter=this.current.transferMaps,Et.drawImage(pt,0,0),Et.filter="none",bt.canvas}paintInlineImageXObject(ut){if(!this.contentVisible)return;const pt=ut.width,ht=ut.height,vt=this.ctx;if(this.save(),!o.isNodeJS){const{filter:Pt}=vt;Pt!=="none"&&Pt!==""&&(vt.filter="none")}vt.scale(1/pt,-1/ht);let bt;if(ut.bitmap)bt=this.applyTransferMapsToBitmap(ut);else if(typeof HTMLElement=="function"&&ut instanceof HTMLElement||!ut.data)bt=ut;else{const Rt=this.cachedCanvases.getCanvas("inlineImage",pt,ht).context;ot(Rt,ut),bt=this.applyTransferMapsToCanvas(Rt)}const Et=this._scaleImage(bt,(0,a.getCurrentTransformInverse)(vt));vt.imageSmoothingEnabled=kt((0,a.getCurrentTransform)(vt),ut.interpolate),st(vt,Et.img,0,0,Et.paintWidth,Et.paintHeight,0,-ht,pt,ht),this.compose(),this.restore()}paintInlineImageXObjectGroup(ut,pt){if(!this.contentVisible)return;const ht=this.ctx;let vt;if(ut.bitmap)vt=ut.bitmap;else{const bt=ut.width,Et=ut.height,Rt=this.cachedCanvases.getCanvas("inlineImage",bt,Et).context;ot(Rt,ut),vt=this.applyTransferMapsToCanvas(Rt)}for(const bt of pt)ht.save(),ht.transform(...bt.transform),ht.scale(1,-1),st(ht,vt,bt.x,bt.y,bt.w,bt.h,0,-1,1,1),ht.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ut){}markPointProps(ut,pt){}beginMarkedContent(ut){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ut,pt){ut==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(pt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ut){const pt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ut);const ht=this.ctx;this.pendingClip&&(pt||(this.pendingClip===It?ht.clip("evenodd"):ht.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ht.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ut=(0,a.getCurrentTransform)(this.ctx);if(ut[1]===0&&ut[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ut[0]),Math.abs(ut[3]));else{const pt=Math.abs(ut[0]*ut[3]-ut[2]*ut[1]),ht=Math.hypot(ut[0],ut[2]),vt=Math.hypot(ut[1],ut[3]);this._cachedGetSinglePixelWidth=Math.max(ht,vt)/pt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:ut}=this.current,{a:pt,b:ht,c:vt,d:bt}=this.ctx.getTransform();let Et,Pt;if(ht===0&&vt===0){const Rt=Math.abs(pt),Gt=Math.abs(bt);if(Rt===Gt)if(ut===0)Et=Pt=1/Rt;else{const Ht=Rt*ut;Et=Pt=Ht<1?1/Ht:1}else if(ut===0)Et=1/Rt,Pt=1/Gt;else{const Ht=Rt*ut,qt=Gt*ut;Et=Ht<1?1/Ht:1,Pt=qt<1?1/qt:1}}else{const Rt=Math.abs(pt*bt-ht*vt),Gt=Math.hypot(pt,ht),Ht=Math.hypot(vt,bt);if(ut===0)Et=Ht/Rt,Pt=Gt/Rt;else{const qt=ut*Rt;Et=Ht>qt?Ht/qt:1,Pt=Gt>qt?Gt/qt:1}}this._cachedScaleForStroking[0]=Et,this._cachedScaleForStroking[1]=Pt}return this._cachedScaleForStroking}rescaleAndStroke(ut){const{ctx:pt}=this,{lineWidth:ht}=this.current,[vt,bt]=this.getScaleForStroking();if(pt.lineWidth=ht||1,vt===1&&bt===1){pt.stroke();return}const Et=pt.getLineDash();if(ut&&pt.save(),pt.scale(vt,bt),Et.length>0){const Pt=Math.max(vt,bt);pt.setLineDash(Et.map(Rt=>Rt/Pt)),pt.lineDashOffset/=Pt}pt.stroke(),ut&&pt.restore()}isContentVisible(){for(let ut=this.markedContentStack.length-1;ut>=0;ut--)if(!this.markedContentStack[ut].visible)return!1;return!0}};wt=new WeakSet,Bs=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Yt=new WeakSet,zs=function(){if(this.pageColors){const ut=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(ut!=="none"){const pt=this.ctx.filter;this.ctx.filter=ut,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=pt}}};let zt=rn;e.CanvasGraphics=zt;for(const At in o.OPS)zt.prototype[At]!==void 0&&(zt.prototype[o.OPS[At]]=zt.prototype[At])},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=et;var o=s(1),a=s(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=c;function d(tt,it){if(!it)return;const ot=it[2]-it[0],ct=it[3]-it[1],rt=new Path2D;rt.rect(it[0],it[1],ot,ct),tt.clip(rt)}class h{constructor(){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class g extends h{constructor(it){super(),this._type=it[1],this._bbox=it[2],this._colorStops=it[3],this._p0=it[4],this._p1=it[5],this._r0=it[6],this._r1=it[7],this.matrix=null}_createGradient(it){let ot;this._type==="axial"?ot=it.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ot=it.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ct of this._colorStops)ot.addColorStop(ct[0],ct[1]);return ot}getPattern(it,ot,ct,rt){let lt;if(rt===c.STROKE||rt===c.FILL){const mt=ot.current.getClippedPathBoundingBox(rt,(0,a.getCurrentTransform)(it))||[0,0,0,0],gt=Math.ceil(mt[2]-mt[0])||1,ft=Math.ceil(mt[3]-mt[1])||1,yt=ot.cachedCanvases.getCanvas("pattern",gt,ft,!0),_t=yt.context;_t.clearRect(0,0,_t.canvas.width,_t.canvas.height),_t.beginPath(),_t.rect(0,0,_t.canvas.width,_t.canvas.height),_t.translate(-mt[0],-mt[1]),ct=o.Util.transform(ct,[1,0,0,1,mt[0],mt[1]]),_t.transform(...ot.baseTransform),this.matrix&&_t.transform(...this.matrix),d(_t,this._bbox),_t.fillStyle=this._createGradient(_t),_t.fill(),lt=it.createPattern(yt.canvas,"no-repeat");const kt=new DOMMatrix(ct);lt.setTransform(kt)}else d(it,this._bbox),lt=this._createGradient(it);return lt}}function _(tt,it,ot,ct,rt,lt,mt,gt){const ft=it.coords,yt=it.colors,_t=tt.data,kt=tt.width*4;let Ot;ft[ot+1]>ft[ct+1]&&(Ot=ot,ot=ct,ct=Ot,Ot=lt,lt=mt,mt=Ot),ft[ct+1]>ft[rt+1]&&(Ot=ct,ct=rt,rt=Ot,Ot=mt,mt=gt,gt=Ot),ft[ot+1]>ft[ct+1]&&(Ot=ot,ot=ct,ct=Ot,Ot=lt,lt=mt,mt=Ot);const St=(ft[ot]+it.offsetX)*it.scaleX,Dt=(ft[ot+1]+it.offsetY)*it.scaleY,It=(ft[ct]+it.offsetX)*it.scaleX,zt=(ft[ct+1]+it.offsetY)*it.scaleY,wt=(ft[rt]+it.offsetX)*it.scaleX,Lt=(ft[rt+1]+it.offsetY)*it.scaleY;if(Dt>=Lt)return;const Yt=yt[lt],tn=yt[lt+1],rn=yt[lt+2],At=yt[mt],ut=yt[mt+1],pt=yt[mt+2],ht=yt[gt],vt=yt[gt+1],bt=yt[gt+2],Et=Math.round(Dt),Pt=Math.round(Lt);let Rt,Gt,Ht,qt,Jt,nn,Qt,gn;for(let Sn=Et;Sn<=Pt;Sn++){if(Sn<zt){const Wt=Sn<Dt?0:(Dt-Sn)/(Dt-zt);Rt=St-(St-It)*Wt,Gt=Yt-(Yt-At)*Wt,Ht=tn-(tn-ut)*Wt,qt=rn-(rn-pt)*Wt}else{let Wt;Sn>Lt?Wt=1:zt===Lt?Wt=0:Wt=(zt-Sn)/(zt-Lt),Rt=It-(It-wt)*Wt,Gt=At-(At-ht)*Wt,Ht=ut-(ut-vt)*Wt,qt=pt-(pt-bt)*Wt}let un;Sn<Dt?un=0:Sn>Lt?un=1:un=(Dt-Sn)/(Dt-Lt),Jt=St-(St-wt)*un,nn=Yt-(Yt-ht)*un,Qt=tn-(tn-vt)*un,gn=rn-(rn-bt)*un;const xn=Math.round(Math.min(Rt,Jt)),sn=Math.round(Math.max(Rt,Jt));let Vt=kt*Sn+xn*4;for(let Wt=xn;Wt<=sn;Wt++)un=(Rt-Wt)/(Rt-Jt),un<0?un=0:un>1&&(un=1),_t[Vt++]=Gt-(Gt-nn)*un|0,_t[Vt++]=Ht-(Ht-Qt)*un|0,_t[Vt++]=qt-(qt-gn)*un|0,_t[Vt++]=255}}function b(tt,it,ot){const ct=it.coords,rt=it.colors;let lt,mt;switch(it.type){case"lattice":const gt=it.verticesPerRow,ft=Math.floor(ct.length/gt)-1,yt=gt-1;for(lt=0;lt<ft;lt++){let _t=lt*gt;for(let kt=0;kt<yt;kt++,_t++)_(tt,ot,ct[_t],ct[_t+1],ct[_t+gt],rt[_t],rt[_t+1],rt[_t+gt]),_(tt,ot,ct[_t+gt+1],ct[_t+1],ct[_t+gt],rt[_t+gt+1],rt[_t+1],rt[_t+gt])}break;case"triangles":for(lt=0,mt=ct.length;lt<mt;lt+=3)_(tt,ot,ct[lt],ct[lt+1],ct[lt+2],rt[lt],rt[lt+1],rt[lt+2]);break;default:throw new Error("illegal figure")}}class j extends h{constructor(it){super(),this._coords=it[2],this._colors=it[3],this._figures=it[4],this._bounds=it[5],this._bbox=it[7],this._background=it[8],this.matrix=null}_createMeshCanvas(it,ot,ct){const gt=Math.floor(this._bounds[0]),ft=Math.floor(this._bounds[1]),yt=Math.ceil(this._bounds[2])-gt,_t=Math.ceil(this._bounds[3])-ft,kt=Math.min(Math.ceil(Math.abs(yt*it[0]*1.1)),3e3),Ot=Math.min(Math.ceil(Math.abs(_t*it[1]*1.1)),3e3),St=yt/kt,Dt=_t/Ot,It={coords:this._coords,colors:this._colors,offsetX:-gt,offsetY:-ft,scaleX:1/St,scaleY:1/Dt},zt=kt+2*2,wt=Ot+2*2,Lt=ct.getCanvas("mesh",zt,wt,!1),Yt=Lt.context,tn=Yt.createImageData(kt,Ot);if(ot){const At=tn.data;for(let ut=0,pt=At.length;ut<pt;ut+=4)At[ut]=ot[0],At[ut+1]=ot[1],At[ut+2]=ot[2],At[ut+3]=255}for(const At of this._figures)b(tn,At,It);return Yt.putImageData(tn,2,2),{canvas:Lt.canvas,offsetX:gt-2*St,offsetY:ft-2*Dt,scaleX:St,scaleY:Dt}}getPattern(it,ot,ct,rt){d(it,this._bbox);let lt;if(rt===c.SHADING)lt=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(it));else if(lt=o.Util.singularValueDecompose2dScale(ot.baseTransform),this.matrix){const gt=o.Util.singularValueDecompose2dScale(this.matrix);lt=[lt[0]*gt[0],lt[1]*gt[1]]}const mt=this._createMeshCanvas(lt,rt===c.SHADING?null:this._background,ot.cachedCanvases);return rt!==c.SHADING&&(it.setTransform(...ot.baseTransform),this.matrix&&it.transform(...this.matrix)),it.translate(mt.offsetX,mt.offsetY),it.scale(mt.scaleX,mt.scaleY),it.createPattern(mt.canvas,"no-repeat")}}class $ extends h{getPattern(){return"hotpink"}}function et(tt){switch(tt[0]){case"RadialAxial":return new g(tt);case"Mesh":return new j(tt);case"Dummy":return new $}throw new Error(`Unknown IR type: ${tt[0]}`)}const _e={COLORED:1,UNCOLORED:2},st=class st{constructor(it,ot,ct,rt,lt){this.operatorList=it[2],this.matrix=it[3]||[1,0,0,1,0,0],this.bbox=it[4],this.xstep=it[5],this.ystep=it[6],this.paintType=it[7],this.tilingType=it[8],this.color=ot,this.ctx=ct,this.canvasGraphicsFactory=rt,this.baseTransform=lt}createPatternCanvas(it){const ot=this.operatorList,ct=this.bbox,rt=this.xstep,lt=this.ystep,mt=this.paintType,gt=this.tilingType,ft=this.color,yt=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+gt);const _t=ct[0],kt=ct[1],Ot=ct[2],St=ct[3],Dt=o.Util.singularValueDecompose2dScale(this.matrix),It=o.Util.singularValueDecompose2dScale(this.baseTransform),zt=[Dt[0]*It[0],Dt[1]*It[1]],wt=this.getSizeAndScale(rt,this.ctx.canvas.width,zt[0]),Lt=this.getSizeAndScale(lt,this.ctx.canvas.height,zt[1]),Yt=it.cachedCanvases.getCanvas("pattern",wt.size,Lt.size,!0),tn=Yt.context,rn=yt.createCanvasGraphics(tn);rn.groupLevel=it.groupLevel,this.setFillAndStrokeStyleToContext(rn,mt,ft);let At=_t,ut=kt,pt=Ot,ht=St;return _t<0&&(At=0,pt+=Math.abs(_t)),kt<0&&(ut=0,ht+=Math.abs(kt)),tn.translate(-(wt.scale*At),-(Lt.scale*ut)),rn.transform(wt.scale,0,0,Lt.scale,0,0),tn.save(),this.clipBbox(rn,At,ut,pt,ht),rn.baseTransform=(0,a.getCurrentTransform)(rn.ctx),rn.executeOperatorList(ot),rn.endDrawing(),{canvas:Yt.canvas,scaleX:wt.scale,scaleY:Lt.scale,offsetX:At,offsetY:ut}}getSizeAndScale(it,ot,ct){it=Math.abs(it);const rt=Math.max(st.MAX_PATTERN_SIZE,ot);let lt=Math.ceil(it*ct);return lt>=rt?lt=rt:ct=lt/it,{scale:ct,size:lt}}clipBbox(it,ot,ct,rt,lt){const mt=rt-ot,gt=lt-ct;it.ctx.rect(ot,ct,mt,gt),it.current.updateRectMinMax((0,a.getCurrentTransform)(it.ctx),[ot,ct,rt,lt]),it.clip(),it.endPath()}setFillAndStrokeStyleToContext(it,ot,ct){const rt=it.ctx,lt=it.current;switch(ot){case _e.COLORED:const mt=this.ctx;rt.fillStyle=mt.fillStyle,rt.strokeStyle=mt.strokeStyle,lt.fillColor=mt.fillStyle,lt.strokeColor=mt.strokeStyle;break;case _e.UNCOLORED:const gt=o.Util.makeHexColor(ct[0],ct[1],ct[2]);rt.fillStyle=gt,rt.strokeStyle=gt,lt.fillColor=gt,lt.strokeColor=gt;break;default:throw new o.FormatError(`Unsupported paint type: ${ot}`)}}getPattern(it,ot,ct,rt){let lt=ct;rt!==c.SHADING&&(lt=o.Util.transform(lt,ot.baseTransform),this.matrix&&(lt=o.Util.transform(lt,this.matrix)));const mt=this.createPatternCanvas(ot);let gt=new DOMMatrix(lt);gt=gt.translate(mt.offsetX,mt.offsetY),gt=gt.scale(1/mt.scaleX,1/mt.scaleY);const ft=it.createPattern(mt.canvas,"repeat");return ft.setTransform(gt),ft}};dn(st,"MAX_PATTERN_SIZE",3e3);let nt=st;e.TilingPattern=nt},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=c,e.convertToRGBA=a,e.grayToRGBA=h;var o=s(1);function a(g){switch(g.kind){case o.ImageKind.GRAYSCALE_1BPP:return c(g);case o.ImageKind.RGB_24BPP:return d(g)}return null}function c({src:g,srcPos:_=0,dest:b,width:j,height:$,nonBlackColor:et=4294967295,inverseDecode:_e=!1}){const nt=o.FeatureTest.isLittleEndian?4278190080:255,[st,tt]=_e?[et,nt]:[nt,et],it=j>>3,ot=j&7,ct=g.length;b=new Uint32Array(b.buffer);let rt=0;for(let lt=0;lt<$;lt++){for(const gt=_+it;_<gt;_++){const ft=_<ct?g[_]:255;b[rt++]=ft&128?tt:st,b[rt++]=ft&64?tt:st,b[rt++]=ft&32?tt:st,b[rt++]=ft&16?tt:st,b[rt++]=ft&8?tt:st,b[rt++]=ft&4?tt:st,b[rt++]=ft&2?tt:st,b[rt++]=ft&1?tt:st}if(ot===0)continue;const mt=_<ct?g[_++]:255;for(let gt=0;gt<ot;gt++)b[rt++]=mt&1<<7-gt?tt:st}return{srcPos:_,destPos:rt}}function d({src:g,srcPos:_=0,dest:b,destPos:j=0,width:$,height:et}){let _e=0;const nt=g.length>>2,st=new Uint32Array(g.buffer,_,nt);if(o.FeatureTest.isLittleEndian){for(;_e<nt-2;_e+=3,j+=4){const tt=st[_e],it=st[_e+1],ot=st[_e+2];b[j]=tt|4278190080,b[j+1]=tt>>>24|it<<8|4278190080,b[j+2]=it>>>16|ot<<16|4278190080,b[j+3]=ot>>>8|4278190080}for(let tt=_e*4,it=g.length;tt<it;tt+=3)b[j++]=g[tt]|g[tt+1]<<8|g[tt+2]<<16|4278190080}else{for(;_e<nt-2;_e+=3,j+=4){const tt=st[_e],it=st[_e+1],ot=st[_e+2];b[j]=tt|255,b[j+1]=tt<<24|it>>>8|255,b[j+2]=it<<16|ot>>>16|255,b[j+3]=ot<<8|255}for(let tt=_e*4,it=g.length;tt<it;tt+=3)b[j++]=g[tt]<<24|g[tt+1]<<16|g[tt+2]<<8|255}return{srcPos:_,destPos:j}}function h(g,_){if(o.FeatureTest.isLittleEndian)for(let b=0,j=g.length;b<j;b++)_[b]=g[b]*65793|4278190080;else for(let b=0,j=g.length;b<j;b++)_[b]=g[b]*16843008|255}},(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const s=Object.create(null);e.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(i,e,s)=>{var g,gr,b,mr,$,gs;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var o=s(1);const a={UNKNOWN:0,DATA:1,ERROR:2},c={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(_e){switch(_e instanceof Error||typeof _e=="object"&&_e!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_e.name){case"AbortException":return new o.AbortException(_e.message);case"MissingPDFException":return new o.MissingPDFException(_e.message);case"PasswordException":return new o.PasswordException(_e.message,_e.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(_e.message,_e.status);case"UnknownErrorException":return new o.UnknownErrorException(_e.message,_e.details);default:return new o.UnknownErrorException(_e.message,_e.toString())}}class h{constructor(nt,st,tt){Mt(this,g);Mt(this,b);Mt(this,$);this.sourceName=nt,this.targetName=st,this.comObj=tt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=it=>{const ot=it.data;if(ot.targetName!==this.sourceName)return;if(ot.stream){Nt(this,b,mr).call(this,ot);return}if(ot.callback){const rt=ot.callbackId,lt=this.callbackCapabilities[rt];if(!lt)throw new Error(`Cannot resolve callback ${rt}`);if(delete this.callbackCapabilities[rt],ot.callback===a.DATA)lt.resolve(ot.data);else if(ot.callback===a.ERROR)lt.reject(d(ot.reason));else throw new Error("Unexpected callback case");return}const ct=this.actionHandler[ot.action];if(!ct)throw new Error(`Unknown action from worker: ${ot.action}`);if(ot.callbackId){const rt=this.sourceName,lt=ot.sourceName;new Promise(function(mt){mt(ct(ot.data))}).then(function(mt){tt.postMessage({sourceName:rt,targetName:lt,callback:a.DATA,callbackId:ot.callbackId,data:mt})},function(mt){tt.postMessage({sourceName:rt,targetName:lt,callback:a.ERROR,callbackId:ot.callbackId,reason:d(mt)})});return}if(ot.streamId){Nt(this,g,gr).call(this,ot);return}ct(ot.data)},tt.addEventListener("message",this._onComObjOnMessage)}on(nt,st){const tt=this.actionHandler;if(tt[nt])throw new Error(`There is already an actionName called "${nt}"`);tt[nt]=st}send(nt,st,tt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:nt,data:st},tt)}sendWithPromise(nt,st,tt){const it=this.callbackId++,ot=new o.PromiseCapability;this.callbackCapabilities[it]=ot;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:nt,callbackId:it,data:st},tt)}catch(ct){ot.reject(ct)}return ot.promise}sendWithStream(nt,st,tt,it){const ot=this.streamId++,ct=this.sourceName,rt=this.targetName,lt=this.comObj;return new ReadableStream({start:mt=>{const gt=new o.PromiseCapability;return this.streamControllers[ot]={controller:mt,startCall:gt,pullCall:null,cancelCall:null,isClosed:!1},lt.postMessage({sourceName:ct,targetName:rt,action:nt,streamId:ot,data:st,desiredSize:mt.desiredSize},it),gt.promise},pull:mt=>{const gt=new o.PromiseCapability;return this.streamControllers[ot].pullCall=gt,lt.postMessage({sourceName:ct,targetName:rt,stream:c.PULL,streamId:ot,desiredSize:mt.desiredSize}),gt.promise},cancel:mt=>{(0,o.assert)(mt instanceof Error,"cancel must have a valid reason");const gt=new o.PromiseCapability;return this.streamControllers[ot].cancelCall=gt,this.streamControllers[ot].isClosed=!0,lt.postMessage({sourceName:ct,targetName:rt,stream:c.CANCEL,streamId:ot,reason:d(mt)}),gt.promise}},tt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}g=new WeakSet,gr=function(nt){const st=nt.streamId,tt=this.sourceName,it=nt.sourceName,ot=this.comObj,ct=this,rt=this.actionHandler[nt.action],lt={enqueue(mt,gt=1,ft){if(this.isCancelled)return;const yt=this.desiredSize;this.desiredSize-=gt,yt>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),ot.postMessage({sourceName:tt,targetName:it,stream:c.ENQUEUE,streamId:st,chunk:mt},ft)},close(){this.isCancelled||(this.isCancelled=!0,ot.postMessage({sourceName:tt,targetName:it,stream:c.CLOSE,streamId:st}),delete ct.streamSinks[st])},error(mt){(0,o.assert)(mt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ot.postMessage({sourceName:tt,targetName:it,stream:c.ERROR,streamId:st,reason:d(mt)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:nt.desiredSize,ready:null};lt.sinkCapability.resolve(),lt.ready=lt.sinkCapability.promise,this.streamSinks[st]=lt,new Promise(function(mt){mt(rt(nt.data,lt))}).then(function(){ot.postMessage({sourceName:tt,targetName:it,stream:c.START_COMPLETE,streamId:st,success:!0})},function(mt){ot.postMessage({sourceName:tt,targetName:it,stream:c.START_COMPLETE,streamId:st,reason:d(mt)})})},b=new WeakSet,mr=function(nt){const st=nt.streamId,tt=this.sourceName,it=nt.sourceName,ot=this.comObj,ct=this.streamControllers[st],rt=this.streamSinks[st];switch(nt.stream){case c.START_COMPLETE:nt.success?ct.startCall.resolve():ct.startCall.reject(d(nt.reason));break;case c.PULL_COMPLETE:nt.success?ct.pullCall.resolve():ct.pullCall.reject(d(nt.reason));break;case c.PULL:if(!rt){ot.postMessage({sourceName:tt,targetName:it,stream:c.PULL_COMPLETE,streamId:st,success:!0});break}rt.desiredSize<=0&&nt.desiredSize>0&&rt.sinkCapability.resolve(),rt.desiredSize=nt.desiredSize,new Promise(function(lt){var mt;lt((mt=rt.onPull)==null?void 0:mt.call(rt))}).then(function(){ot.postMessage({sourceName:tt,targetName:it,stream:c.PULL_COMPLETE,streamId:st,success:!0})},function(lt){ot.postMessage({sourceName:tt,targetName:it,stream:c.PULL_COMPLETE,streamId:st,reason:d(lt)})});break;case c.ENQUEUE:if((0,o.assert)(ct,"enqueue should have stream controller"),ct.isClosed)break;ct.controller.enqueue(nt.chunk);break;case c.CLOSE:if((0,o.assert)(ct,"close should have stream controller"),ct.isClosed)break;ct.isClosed=!0,ct.controller.close(),Nt(this,$,gs).call(this,ct,st);break;case c.ERROR:(0,o.assert)(ct,"error should have stream controller"),ct.controller.error(d(nt.reason)),Nt(this,$,gs).call(this,ct,st);break;case c.CANCEL_COMPLETE:nt.success?ct.cancelCall.resolve():ct.cancelCall.reject(d(nt.reason)),Nt(this,$,gs).call(this,ct,st);break;case c.CANCEL:if(!rt)break;new Promise(function(lt){var mt;lt((mt=rt.onCancel)==null?void 0:mt.call(rt,d(nt.reason)))}).then(function(){ot.postMessage({sourceName:tt,targetName:it,stream:c.CANCEL_COMPLETE,streamId:st,success:!0})},function(lt){ot.postMessage({sourceName:tt,targetName:it,stream:c.CANCEL_COMPLETE,streamId:st,reason:d(lt)})}),rt.sinkCapability.reject(d(nt.reason)),rt.isCancelled=!0,delete this.streamSinks[st];break;default:throw new Error("Unexpected stream case")}},$=new WeakSet,gs=async function(nt,st){var tt,it,ot;await Promise.allSettled([(tt=nt.startCall)==null?void 0:tt.promise,(it=nt.pullCall)==null?void 0:it.promise,(ot=nt.cancelCall)==null?void 0:ot.promise]),delete this.streamControllers[st]},e.MessageHandler=h},(i,e,s)=>{var c,d;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var o=s(1);class a{constructor({parsedData:g,rawData:_}){Mt(this,c,void 0);Mt(this,d,void 0);Xt(this,c,g),Xt(this,d,_)}getRaw(){return at(this,d)}get(g){return at(this,c).get(g)??null}getAll(){return(0,o.objectFromMap)(at(this,c))}has(g){return at(this,c).has(g)}}c=new WeakMap,d=new WeakMap,e.Metadata=a},(i,e,s)=>{var g,_,b,j,$,et,$s;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var o=s(1),a=s(8);const c=Symbol("INTERNAL");class d{constructor(st,tt){Mt(this,g,!0);this.name=st,this.intent=tt}get visible(){return at(this,g)}_setVisible(st,tt){st!==c&&(0,o.unreachable)("Internal method `_setVisible` called."),Xt(this,g,tt)}}g=new WeakMap;class h{constructor(st){Mt(this,et);Mt(this,_,null);Mt(this,b,new Map);Mt(this,j,null);Mt(this,$,null);if(this.name=null,this.creator=null,st!==null){this.name=st.name,this.creator=st.creator,Xt(this,$,st.order);for(const tt of st.groups)at(this,b).set(tt.id,new d(tt.name,tt.intent));if(st.baseState==="OFF")for(const tt of at(this,b).values())tt._setVisible(c,!1);for(const tt of st.on)at(this,b).get(tt)._setVisible(c,!0);for(const tt of st.off)at(this,b).get(tt)._setVisible(c,!1);Xt(this,j,this.getHash())}}isVisible(st){if(at(this,b).size===0)return!0;if(!st)return(0,o.warn)("Optional content group not defined."),!0;if(st.type==="OCG")return at(this,b).has(st.id)?at(this,b).get(st.id).visible:((0,o.warn)(`Optional content group not found: ${st.id}`),!0);if(st.type==="OCMD"){if(st.expression)return Nt(this,et,$s).call(this,st.expression);if(!st.policy||st.policy==="AnyOn"){for(const tt of st.ids){if(!at(this,b).has(tt))return(0,o.warn)(`Optional content group not found: ${tt}`),!0;if(at(this,b).get(tt).visible)return!0}return!1}else if(st.policy==="AllOn"){for(const tt of st.ids){if(!at(this,b).has(tt))return(0,o.warn)(`Optional content group not found: ${tt}`),!0;if(!at(this,b).get(tt).visible)return!1}return!0}else if(st.policy==="AnyOff"){for(const tt of st.ids){if(!at(this,b).has(tt))return(0,o.warn)(`Optional content group not found: ${tt}`),!0;if(!at(this,b).get(tt).visible)return!0}return!1}else if(st.policy==="AllOff"){for(const tt of st.ids){if(!at(this,b).has(tt))return(0,o.warn)(`Optional content group not found: ${tt}`),!0;if(at(this,b).get(tt).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${st.policy}.`),!0}return(0,o.warn)(`Unknown group type ${st.type}.`),!0}setVisibility(st,tt=!0){if(!at(this,b).has(st)){(0,o.warn)(`Optional content group not found: ${st}`);return}at(this,b).get(st)._setVisible(c,!!tt),Xt(this,_,null)}get hasInitialVisibility(){return at(this,j)===null||this.getHash()===at(this,j)}getOrder(){return at(this,b).size?at(this,$)?at(this,$).slice():[...at(this,b).keys()]:null}getGroups(){return at(this,b).size>0?(0,o.objectFromMap)(at(this,b)):null}getGroup(st){return at(this,b).get(st)||null}getHash(){if(at(this,_)!==null)return at(this,_);const st=new a.MurmurHash3_64;for(const[tt,it]of at(this,b))st.update(`${tt}:${it.visible}`);return Xt(this,_,st.hexdigest())}}_=new WeakMap,b=new WeakMap,j=new WeakMap,$=new WeakMap,et=new WeakSet,$s=function(st){const tt=st.length;if(tt<2)return!0;const it=st[0];for(let ot=1;ot<tt;ot++){const ct=st[ot];let rt;if(Array.isArray(ct))rt=Nt(this,et,$s).call(this,ct);else if(at(this,b).has(ct))rt=at(this,b).get(ct).visible;else return(0,o.warn)(`Optional content group not found: ${ct}`),!0;switch(it){case"And":if(!rt)return!1;break;case"Or":if(rt)return!0;break;case"Not":return!rt;default:return!0}}return it==="And"},e.OptionalContentConfig=h},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var o=s(1),a=s(6);class c{constructor({length:_,initialData:b,progressiveDone:j=!1,contentDispositionFilename:$=null,disableRange:et=!1,disableStream:_e=!1},nt){if((0,o.assert)(nt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=j,this._contentDispositionFilename=$,(b==null?void 0:b.length)>0){const st=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;this._queuedChunks.push(st)}this._pdfDataRangeTransport=nt,this._isStreamingSupported=!_e,this._isRangeSupported=!et,this._contentLength=_,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((st,tt)=>{this._onReceiveData({begin:st,chunk:tt})}),this._pdfDataRangeTransport.addProgressListener((st,tt)=>{this._onProgress({loaded:st,total:tt})}),this._pdfDataRangeTransport.addProgressiveReadListener(st=>{this._onReceiveData({chunk:st})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:_,chunk:b}){const j=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;if(_===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(j):this._queuedChunks.push(j);else{const $=this._rangeReaders.some(function(et){return et._begin!==_?!1:(et._enqueue(j),!0)});(0,o.assert)($,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var _;return((_=this._fullRequestReader)==null?void 0:_._loaded)??0}_onProgress(_){var b,j,$,et;_.total===void 0?(j=(b=this._rangeReaders[0])==null?void 0:b.onProgress)==null||j.call(b,{loaded:_.loaded}):(et=($=this._fullRequestReader)==null?void 0:$.onProgress)==null||et.call($,{loaded:_.loaded,total:_.total})}_onProgressiveDone(){var _;(_=this._fullRequestReader)==null||_.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(_){const b=this._rangeReaders.indexOf(_);b>=0&&this._rangeReaders.splice(b,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const _=this._queuedChunks;return this._queuedChunks=null,new d(this,_,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(_,b){if(b<=this._progressiveDataLength)return null;const j=new h(this,_,b);return this._pdfDataRangeTransport.requestDataRange(_,b),this._rangeReaders.push(j),j}cancelAllRequests(_){var b;(b=this._fullRequestReader)==null||b.cancel(_);for(const j of this._rangeReaders.slice(0))j.cancel(_);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=c;class d{constructor(_,b,j=!1,$=null){this._stream=_,this._done=j||!1,this._filename=(0,a.isPdfFile)($)?$:null,this._queuedChunks=b||[],this._loaded=0;for(const et of this._queuedChunks)this._loaded+=et.byteLength;this._requests=[],this._headersReady=Promise.resolve(),_._fullRequestReader=this,this.onProgress=null}_enqueue(_){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunks.push(_),this._loaded+=_.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _=new o.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class h{constructor(_,b,j){this._stream=_,this._begin=b,this._end=j,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(_){if(!this._done){if(this._requests.length===0)this._queuedChunk=_;else{this._requests.shift().resolve({value:_,done:!1});for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const b=this._queuedChunk;return this._queuedChunk=null,{value:b,done:!1}}if(this._done)return{value:void 0,done:!0};const _=new o.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var o=s(1),a=s(20);function c(j,$,et){return{method:"GET",headers:j,signal:et.signal,mode:"cors",credentials:$?"include":"same-origin",redirect:"follow"}}function d(j){const $=new Headers;for(const et in j){const _e=j[et];_e!==void 0&&$.append(et,_e)}return $}function h(j){return j instanceof Uint8Array?j.buffer:j instanceof ArrayBuffer?j:((0,o.warn)(`getArrayBuffer - unexpected data format: ${j}`),new Uint8Array(j).buffer)}class g{constructor($){this.source=$,this.isHttp=/^https?:/i.test($.url),this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new _(this),this._fullRequestReader}getRangeReader($,et){if(et<=this._progressiveDataLength)return null;const _e=new b(this,$,et);return this._rangeRequestReaders.push(_e),_e}cancelAllRequests($){var et;(et=this._fullRequestReader)==null||et.cancel($);for(const _e of this._rangeRequestReaders.slice(0))_e.cancel($)}}e.PDFFetchStream=g;class _{constructor($){this._stream=$,this._reader=null,this._loaded=0,this._filename=null;const et=$.source;this._withCredentials=et.withCredentials||!1,this._contentLength=et.length,this._headersCapability=new o.PromiseCapability,this._disableRange=et.disableRange||!1,this._rangeChunkSize=et.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!et.disableStream,this._isRangeSupported=!et.disableRange,this._headers=d(this._stream.httpHeaders);const _e=et.url;fetch(_e,c(this._headers,this._withCredentials,this._abortController)).then(nt=>{if(!(0,a.validateResponseStatus)(nt.status))throw(0,a.createResponseStatusError)(nt.status,_e);this._reader=nt.body.getReader(),this._headersCapability.resolve();const st=ot=>nt.headers.get(ot),{allowRangeRequests:tt,suggestedLength:it}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:st,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=tt,this._contentLength=it||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(st),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _e;await this._headersCapability.promise;const{value:$,done:et}=await this._reader.read();return et?{value:$,done:et}:(this._loaded+=$.byteLength,(_e=this.onProgress)==null||_e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:h($),done:!1})}cancel($){var et;(et=this._reader)==null||et.cancel($),this._abortController.abort()}}class b{constructor($,et,_e){this._stream=$,this._reader=null,this._loaded=0;const nt=$.source;this._withCredentials=nt.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!nt.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${et}-${_e-1}`);const st=nt.url;fetch(st,c(this._headers,this._withCredentials,this._abortController)).then(tt=>{if(!(0,a.validateResponseStatus)(tt.status))throw(0,a.createResponseStatusError)(tt.status,st);this._readCapability.resolve(),this._reader=tt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _e;await this._readCapability.promise;const{value:$,done:et}=await this._reader.read();return et?{value:$,done:et}:(this._loaded+=$.byteLength,(_e=this.onProgress)==null||_e.call(this,{loaded:this._loaded}),{value:h($),done:!1})}cancel($){var et;(et=this._reader)==null||et.cancel($),this._abortController.abort()}}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=g,e.extractFilenameFromHeader=h,e.validateRangeRequestCapabilities=d,e.validateResponseStatus=_;var o=s(1),a=s(21),c=s(6);function d({getResponseHeader:b,isHttp:j,rangeChunkSize:$,disableRange:et}){const _e={allowRangeRequests:!1,suggestedLength:void 0},nt=parseInt(b("Content-Length"),10);return!Number.isInteger(nt)||(_e.suggestedLength=nt,nt<=2*$)||et||!j||b("Accept-Ranges")!=="bytes"||(b("Content-Encoding")||"identity")!=="identity"||(_e.allowRangeRequests=!0),_e}function h(b){const j=b("Content-Disposition");if(j){let $=(0,a.getFilenameFromContentDispositionHeader)(j);if($.includes("%"))try{$=decodeURIComponent($)}catch{}if((0,c.isPdfFile)($))return $}return null}function g(b,j){return b===404||b===0&&j.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+j+'".'):new o.UnexpectedResponseException(`Unexpected server response (${b}) while retrieving PDF "${j}".`,b)}function _(b){return b===200||b===206}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=a;var o=s(1);function a(c){let d=!0,h=g("filename\\*","i").exec(c);if(h){h=h[1];let nt=$(h);return nt=unescape(nt),nt=et(nt),nt=_e(nt),b(nt)}if(h=j(c),h){const nt=_e(h);return b(nt)}if(h=g("filename","i").exec(c),h){h=h[1];let nt=$(h);return nt=_e(nt),b(nt)}function g(nt,st){return new RegExp("(?:^|;)\\s*"+nt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',st)}function _(nt,st){if(nt){if(!/^[\x00-\xFF]+$/.test(st))return st;try{const tt=new TextDecoder(nt,{fatal:!0}),it=(0,o.stringToBytes)(st);st=tt.decode(it),d=!1}catch{}}return st}function b(nt){return d&&/[\x80-\xff]/.test(nt)&&(nt=_("utf-8",nt),d&&(nt=_("iso-8859-1",nt))),nt}function j(nt){const st=[];let tt;const it=g("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(tt=it.exec(nt))!==null;){let[,ct,rt,lt]=tt;if(ct=parseInt(ct,10),ct in st){if(ct===0)break;continue}st[ct]=[rt,lt]}const ot=[];for(let ct=0;ct<st.length&&ct in st;++ct){let[rt,lt]=st[ct];lt=$(lt),rt&&(lt=unescape(lt),ct===0&&(lt=et(lt))),ot.push(lt)}return ot.join("")}function $(nt){if(nt.startsWith('"')){const st=nt.slice(1).split('\\"');for(let tt=0;tt<st.length;++tt){const it=st[tt].indexOf('"');it!==-1&&(st[tt]=st[tt].slice(0,it),st.length=tt+1),st[tt]=st[tt].replaceAll(/\\(.)/g,"$1")}nt=st.join('"')}return nt}function et(nt){const st=nt.indexOf("'");if(st===-1)return nt;const tt=nt.slice(0,st),ot=nt.slice(st+1).replace(/^[^']*'/,"");return _(tt,ot)}function _e(nt){return!nt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(nt)?nt:nt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(st,tt,it,ot){if(it==="q"||it==="Q")return ot=ot.replaceAll("_"," "),ot=ot.replaceAll(/=([0-9a-fA-F]{2})/g,function(ct,rt){return String.fromCharCode(parseInt(rt,16))}),_(tt,ot);try{ot=atob(ot)}catch{}return _(tt,ot)})}return""}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var o=s(1),a=s(20);const c=200,d=206;function h($){const et=$.response;return typeof et!="string"?et:(0,o.stringToBytes)(et).buffer}class g{constructor(et,_e={}){this.url=et,this.isHttp=/^https?:/i.test(et),this.httpHeaders=this.isHttp&&_e.httpHeaders||Object.create(null),this.withCredentials=_e.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(et,_e,nt){const st={begin:et,end:_e};for(const tt in nt)st[tt]=nt[tt];return this.request(st)}requestFull(et){return this.request(et)}request(et){const _e=new XMLHttpRequest,nt=this.currXhrId++,st=this.pendingRequests[nt]={xhr:_e};_e.open("GET",this.url),_e.withCredentials=this.withCredentials;for(const tt in this.httpHeaders){const it=this.httpHeaders[tt];it!==void 0&&_e.setRequestHeader(tt,it)}return this.isHttp&&"begin"in et&&"end"in et?(_e.setRequestHeader("Range",`bytes=${et.begin}-${et.end-1}`),st.expectedStatus=d):st.expectedStatus=c,_e.responseType="arraybuffer",et.onError&&(_e.onerror=function(tt){et.onError(_e.status)}),_e.onreadystatechange=this.onStateChange.bind(this,nt),_e.onprogress=this.onProgress.bind(this,nt),st.onHeadersReceived=et.onHeadersReceived,st.onDone=et.onDone,st.onError=et.onError,st.onProgress=et.onProgress,_e.send(null),nt}onProgress(et,_e){var st;const nt=this.pendingRequests[et];nt&&((st=nt.onProgress)==null||st.call(nt,_e))}onStateChange(et,_e){var ct,rt,lt;const nt=this.pendingRequests[et];if(!nt)return;const st=nt.xhr;if(st.readyState>=2&&nt.onHeadersReceived&&(nt.onHeadersReceived(),delete nt.onHeadersReceived),st.readyState!==4||!(et in this.pendingRequests))return;if(delete this.pendingRequests[et],st.status===0&&this.isHttp){(ct=nt.onError)==null||ct.call(nt,st.status);return}const tt=st.status||c;if(!(tt===c&&nt.expectedStatus===d)&&tt!==nt.expectedStatus){(rt=nt.onError)==null||rt.call(nt,st.status);return}const ot=h(st);if(tt===d){const mt=st.getResponseHeader("Content-Range"),gt=/bytes (\d+)-(\d+)\/(\d+)/.exec(mt);nt.onDone({begin:parseInt(gt[1],10),chunk:ot})}else ot?nt.onDone({begin:0,chunk:ot}):(lt=nt.onError)==null||lt.call(nt,st.status)}getRequestXhr(et){return this.pendingRequests[et].xhr}isPendingRequest(et){return et in this.pendingRequests}abortRequest(et){const _e=this.pendingRequests[et].xhr;delete this.pendingRequests[et],_e.abort()}}class _{constructor(et){this._source=et,this._manager=new g(et.url,{httpHeaders:et.httpHeaders,withCredentials:et.withCredentials}),this._rangeChunkSize=et.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(et){const _e=this._rangeRequestReaders.indexOf(et);_e>=0&&this._rangeRequestReaders.splice(_e,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new b(this._manager,this._source),this._fullRequestReader}getRangeReader(et,_e){const nt=new j(this._manager,et,_e);return nt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(nt),nt}cancelAllRequests(et){var _e;(_e=this._fullRequestReader)==null||_e.cancel(et);for(const nt of this._rangeRequestReaders.slice(0))nt.cancel(et)}}e.PDFNetworkStream=_;class b{constructor(et,_e){this._manager=et;const nt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_e.url,this._fullRequestId=et.requestFull(nt),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=_e.disableRange||!1,this._contentLength=_e.length,this._rangeChunkSize=_e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const et=this._fullRequestId,_e=this._manager.getRequestXhr(et),nt=it=>_e.getResponseHeader(it),{allowRangeRequests:st,suggestedLength:tt}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:nt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});st&&(this._isRangeSupported=!0),this._contentLength=tt||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(nt),this._isRangeSupported&&this._manager.abortRequest(et),this._headersReceivedCapability.resolve()}_onDone(et){if(et&&(this._requests.length>0?this._requests.shift().resolve({value:et.chunk,done:!1}):this._cachedChunks.push(et.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(et){this._storedError=(0,a.createResponseStatusError)(et,this._url),this._headersReceivedCapability.reject(this._storedError);for(const _e of this._requests)_e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(et){var _e;(_e=this.onProgress)==null||_e.call(this,{loaded:et.loaded,total:et.lengthComputable?et.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const et=new o.PromiseCapability;return this._requests.push(et),et.promise}cancel(et){this._done=!0,this._headersReceivedCapability.reject(et);for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class j{constructor(et,_e,nt){this._manager=et;const st={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=et.url,this._requestId=et.requestRange(_e,nt,st),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var et;(et=this.onClosed)==null||et.call(this,this)}_onDone(et){const _e=et.chunk;this._requests.length>0?this._requests.shift().resolve({value:_e,done:!1}):this._queuedChunk=_e,this._done=!0;for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(et){this._storedError=(0,a.createResponseStatusError)(et,this._url);for(const _e of this._requests)_e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(et){var _e;this.isStreamingSupported||(_e=this.onProgress)==null||_e.call(this,{loaded:et.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const _e=this._queuedChunk;return this._queuedChunk=null,{value:_e,done:!1}}if(this._done)return{value:void 0,done:!0};const et=new o.PromiseCapability;return this._requests.push(et),et.promise}cancel(et){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var o=s(1),a=s(20);const c=/^file:\/\/\/[a-zA-Z]:\//;function d(nt){const st=require$$5,tt=st.parse(nt);return tt.protocol==="file:"||tt.host?tt:/^[a-z]:[/\\]/i.test(nt)?st.parse(`file:///${nt}`):(tt.host||(tt.protocol="file:"),tt)}class h{constructor(st){this.source=st,this.url=d(st.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&st.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var st;return((st=this._fullRequestReader)==null?void 0:st._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new et(this):new j(this),this._fullRequestReader}getRangeReader(st,tt){if(tt<=this._progressiveDataLength)return null;const it=this.isFsUrl?new _e(this,st,tt):new $(this,st,tt);return this._rangeRequestReaders.push(it),it}cancelAllRequests(st){var tt;(tt=this._fullRequestReader)==null||tt.cancel(st);for(const it of this._rangeRequestReaders.slice(0))it.cancel(st)}}e.PDFNodeStream=h;class g{constructor(st){this._url=st.url,this._done=!1,this._storedError=null,this.onProgress=null;const tt=st.source;this._contentLength=tt.length,this._loaded=0,this._filename=null,this._disableRange=tt.disableRange||!1,this._rangeChunkSize=tt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!tt.disableStream,this._isRangeSupported=!tt.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var it;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const st=this._readableStream.read();return st===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=st.length,(it=this.onProgress)==null||it.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){if(!this._readableStream){this._error(st);return}this._readableStream.destroy(st)}_error(st){this._storedError=st,this._readCapability.resolve()}_setReadableStream(st){this._readableStream=st,st.on("readable",()=>{this._readCapability.resolve()}),st.on("end",()=>{st.destroy(),this._done=!0,this._readCapability.resolve()}),st.on("error",tt=>{this._error(tt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _{constructor(st){this._url=st.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const tt=st.source;this._isStreamingSupported=!tt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var it;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const st=this._readableStream.read();return st===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=st.length,(it=this.onProgress)==null||it.call(this,{loaded:this._loaded}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){if(!this._readableStream){this._error(st);return}this._readableStream.destroy(st)}_error(st){this._storedError=st,this._readCapability.resolve()}_setReadableStream(st){this._readableStream=st,st.on("readable",()=>{this._readCapability.resolve()}),st.on("end",()=>{st.destroy(),this._done=!0,this._readCapability.resolve()}),st.on("error",tt=>{this._error(tt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function b(nt,st){return{protocol:nt.protocol,auth:nt.auth,host:nt.hostname,port:nt.port,path:nt.path,method:"GET",headers:st}}class j extends g{constructor(st){super(st);const tt=it=>{if(it.statusCode===404){const lt=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=lt,this._headersCapability.reject(lt);return}this._headersCapability.resolve(),this._setReadableStream(it);const ot=lt=>this._readableStream.headers[lt.toLowerCase()],{allowRangeRequests:ct,suggestedLength:rt}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:ot,isHttp:st.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ct,this._contentLength=rt||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(ot)};if(this._request=null,this._url.protocol==="http:"){const it=require$$5;this._request=it.request(b(this._url,st.httpHeaders),tt)}else{const it=require$$5;this._request=it.request(b(this._url,st.httpHeaders),tt)}this._request.on("error",it=>{this._storedError=it,this._headersCapability.reject(it)}),this._request.end()}}class $ extends _{constructor(st,tt,it){super(st),this._httpHeaders={};for(const ct in st.httpHeaders){const rt=st.httpHeaders[ct];rt!==void 0&&(this._httpHeaders[ct]=rt)}this._httpHeaders.Range=`bytes=${tt}-${it-1}`;const ot=ct=>{if(ct.statusCode===404){const rt=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=rt;return}this._setReadableStream(ct)};if(this._request=null,this._url.protocol==="http:"){const ct=require$$5;this._request=ct.request(b(this._url,this._httpHeaders),ot)}else{const ct=require$$5;this._request=ct.request(b(this._url,this._httpHeaders),ot)}this._request.on("error",ct=>{this._storedError=ct}),this._request.end()}}class et extends g{constructor(st){super(st);let tt=decodeURIComponent(this._url.path);c.test(this._url.href)&&(tt=tt.replace(/^\//,""));const it=require$$5;it.lstat(tt,(ot,ct)=>{if(ot){ot.code==="ENOENT"&&(ot=new o.MissingPDFException(`Missing PDF "${tt}".`)),this._storedError=ot,this._headersCapability.reject(ot);return}this._contentLength=ct.size,this._setReadableStream(it.createReadStream(tt)),this._headersCapability.resolve()})}}class _e extends _{constructor(st,tt,it){super(st);let ot=decodeURIComponent(this._url.path);c.test(this._url.href)&&(ot=ot.replace(/^\//,""));const ct=require$$5;this._setReadableStream(ct.createReadStream(ot,{start:tt,end:it-1}))}}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var o=s(6),a=s(1);const c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/1999/xlink",g=["butt","round","square"],_=["miter","round","bevel"],b=function(ct,rt="",lt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!lt)return URL.createObjectURL(new Blob([ct],{type:rt}));const mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let gt=`data:${rt};base64,`;for(let ft=0,yt=ct.length;ft<yt;ft+=3){const _t=ct[ft]&255,kt=ct[ft+1]&255,Ot=ct[ft+2]&255,St=_t>>2,Dt=(_t&3)<<4|kt>>4,It=ft+1<yt?(kt&15)<<2|Ot>>6:64,zt=ft+2<yt?Ot&63:64;gt+=mt[St]+mt[Dt]+mt[It]+mt[zt]}return gt},j=function(){const ct=new Uint8Array([137,80,78,71,13,10,26,10]),rt=12,lt=new Int32Array(256);for(let Ot=0;Ot<256;Ot++){let St=Ot;for(let Dt=0;Dt<8;Dt++)St=St&1?3988292384^St>>1&2147483647:St>>1&2147483647;lt[Ot]=St}function mt(Ot,St,Dt){let It=-1;for(let zt=St;zt<Dt;zt++){const wt=(It^Ot[zt])&255,Lt=lt[wt];It=It>>>8^Lt}return It^-1}function gt(Ot,St,Dt,It){let zt=It;const wt=St.length;Dt[zt]=wt>>24&255,Dt[zt+1]=wt>>16&255,Dt[zt+2]=wt>>8&255,Dt[zt+3]=wt&255,zt+=4,Dt[zt]=Ot.charCodeAt(0)&255,Dt[zt+1]=Ot.charCodeAt(1)&255,Dt[zt+2]=Ot.charCodeAt(2)&255,Dt[zt+3]=Ot.charCodeAt(3)&255,zt+=4,Dt.set(St,zt),zt+=St.length;const Lt=mt(Dt,It+4,zt);Dt[zt]=Lt>>24&255,Dt[zt+1]=Lt>>16&255,Dt[zt+2]=Lt>>8&255,Dt[zt+3]=Lt&255}function ft(Ot,St,Dt){let It=1,zt=0;for(let wt=St;wt<Dt;++wt)It=(It+(Ot[wt]&255))%65521,zt=(zt+It)%65521;return zt<<16|It}function yt(Ot){if(!a.isNodeJS)return _t(Ot);try{const St=parseInt(process.versions.node)>=8?Ot:Buffer.from(Ot),Dt=require$$5.deflateSync(St,{level:9});return Dt instanceof Uint8Array?Dt:new Uint8Array(Dt)}catch(St){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+St)}return _t(Ot)}function _t(Ot){let St=Ot.length;const Dt=65535,It=Math.ceil(St/Dt),zt=new Uint8Array(2+St+It*5+4);let wt=0;zt[wt++]=120,zt[wt++]=156;let Lt=0;for(;St>Dt;)zt[wt++]=0,zt[wt++]=255,zt[wt++]=255,zt[wt++]=0,zt[wt++]=0,zt.set(Ot.subarray(Lt,Lt+Dt),wt),wt+=Dt,Lt+=Dt,St-=Dt;zt[wt++]=1,zt[wt++]=St&255,zt[wt++]=St>>8&255,zt[wt++]=~St&65535&255,zt[wt++]=(~St&65535)>>8&255,zt.set(Ot.subarray(Lt),wt),wt+=Ot.length-Lt;const Yt=ft(Ot,0,Ot.length);return zt[wt++]=Yt>>24&255,zt[wt++]=Yt>>16&255,zt[wt++]=Yt>>8&255,zt[wt++]=Yt&255,zt}function kt(Ot,St,Dt,It){const zt=Ot.width,wt=Ot.height;let Lt,Yt,tn;const rn=Ot.data;switch(St){case a.ImageKind.GRAYSCALE_1BPP:Yt=0,Lt=1,tn=zt+7>>3;break;case a.ImageKind.RGB_24BPP:Yt=2,Lt=8,tn=zt*3;break;case a.ImageKind.RGBA_32BPP:Yt=6,Lt=8,tn=zt*4;break;default:throw new Error("invalid format")}const At=new Uint8Array((1+tn)*wt);let ut=0,pt=0;for(let Rt=0;Rt<wt;++Rt)At[ut++]=0,At.set(rn.subarray(pt,pt+tn),ut),pt+=tn,ut+=tn;if(St===a.ImageKind.GRAYSCALE_1BPP&&It){ut=0;for(let Rt=0;Rt<wt;Rt++){ut++;for(let Gt=0;Gt<tn;Gt++)At[ut++]^=255}}const ht=new Uint8Array([zt>>24&255,zt>>16&255,zt>>8&255,zt&255,wt>>24&255,wt>>16&255,wt>>8&255,wt&255,Lt,Yt,0,0,0]),vt=yt(At),bt=ct.length+rt*3+ht.length+vt.length,Et=new Uint8Array(bt);let Pt=0;return Et.set(ct,Pt),Pt+=ct.length,gt("IHDR",ht,Et,Pt),Pt+=rt+ht.length,gt("IDATA",vt,Et,Pt),Pt+=rt+vt.length,gt("IEND",new Uint8Array(0),Et,Pt),b(Et,"image/png",Dt)}return function(St,Dt,It){const zt=St.kind===void 0?a.ImageKind.GRAYSCALE_1BPP:St.kind;return kt(St,zt,Dt,It)}}();class ${constructor(){this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(rt,lt){this.x=rt,this.y=lt}}function et(ct){let rt=[];const lt=[];for(const mt of ct){if(mt.fn==="save"){rt.push({fnId:92,fn:"group",items:[]}),lt.push(rt),rt=rt.at(-1).items;continue}mt.fn==="restore"?rt=lt.pop():rt.push(mt)}return rt}function _e(ct){if(Number.isInteger(ct))return ct.toString();const rt=ct.toFixed(10);let lt=rt.length-1;if(rt[lt]!=="0")return rt;do lt--;while(rt[lt]==="0");return rt.substring(0,rt[lt]==="."?lt:lt+1)}function nt(ct){if(ct[4]===0&&ct[5]===0){if(ct[1]===0&&ct[2]===0)return ct[0]===1&&ct[3]===1?"":`scale(${_e(ct[0])} ${_e(ct[3])})`;if(ct[0]===ct[3]&&ct[1]===-ct[2]){const rt=Math.acos(ct[0])*180/Math.PI;return`rotate(${_e(rt)})`}}else if(ct[0]===1&&ct[1]===0&&ct[2]===0&&ct[3]===1)return`translate(${_e(ct[4])} ${_e(ct[5])})`;return`matrix(${_e(ct[0])} ${_e(ct[1])} ${_e(ct[2])} ${_e(ct[3])} ${_e(ct[4])} ${_e(ct[5])})`}let st=0,tt=0,it=0;class ot{constructor(rt,lt,mt=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new $,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=rt,this.objs=lt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!mt,this._operatorIdMapping=[];for(const gt in a.OPS)this._operatorIdMapping[a.OPS[gt]]=gt}getObject(rt,lt=null){return typeof rt=="string"?rt.startsWith("g_")?this.commonObjs.get(rt):this.objs.get(rt):lt}save(){this.transformStack.push(this.transformMatrix);const rt=this.current;this.extraStack.push(rt),this.current=rt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(rt){this.save(),this.executeOpTree(rt),this.restore()}loadDependencies(rt){const lt=rt.fnArray,mt=rt.argsArray;for(let gt=0,ft=lt.length;gt<ft;gt++)if(lt[gt]===a.OPS.dependency)for(const yt of mt[gt]){const _t=yt.startsWith("g_")?this.commonObjs:this.objs,kt=new Promise(Ot=>{_t.get(yt,Ot)});this.current.dependencies.push(kt)}return Promise.all(this.current.dependencies)}transform(rt,lt,mt,gt,ft,yt){const _t=[rt,lt,mt,gt,ft,yt];this.transformMatrix=a.Util.transform(this.transformMatrix,_t),this.tgrp=null}getSVG(rt,lt){this.viewport=lt;const mt=this._initialize(lt);return this.loadDependencies(rt).then(()=>(this.transformMatrix=a.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(rt)),mt))}convertOpList(rt){const lt=this._operatorIdMapping,mt=rt.argsArray,gt=rt.fnArray,ft=[];for(let yt=0,_t=gt.length;yt<_t;yt++){const kt=gt[yt];ft.push({fnId:kt,fn:lt[kt],args:mt[yt]})}return et(ft)}executeOpTree(rt){for(const lt of rt){const mt=lt.fn,gt=lt.fnId,ft=lt.args;switch(gt|0){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(ft);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(ft[0],ft[1]);break;case a.OPS.setFont:this.setFont(ft);break;case a.OPS.showText:this.showText(ft[0]);break;case a.OPS.showSpacedText:this.showText(ft[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(ft[0],ft[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(ft[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(ft[0]);break;case a.OPS.setHScale:this.setHScale(ft[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5]);break;case a.OPS.setTextRise:this.setTextRise(ft[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(ft[0]);break;case a.OPS.setLineWidth:this.setLineWidth(ft[0]);break;case a.OPS.setLineJoin:this.setLineJoin(ft[0]);break;case a.OPS.setLineCap:this.setLineCap(ft[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(ft[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(ft[0],ft[1],ft[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ft[0],ft[1],ft[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(ft);break;case a.OPS.setFillColorN:this.setFillColorN(ft);break;case a.OPS.shadingFill:this.shadingFill(ft[0]);break;case a.OPS.setDash:this.setDash(ft[0],ft[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(ft[0]);break;case a.OPS.setFlatness:this.setFlatness(ft[0]);break;case a.OPS.setGState:this.setGState(ft[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(ft[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ft[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ft[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ft[0],ft[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5]);break;case a.OPS.constructPath:this.constructPath(ft[0],ft[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(lt.items);break;default:(0,a.warn)(`Unimplemented operator ${mt}`);break}}}setWordSpacing(rt){this.current.wordSpacing=rt}setCharSpacing(rt){this.current.charSpacing=rt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(rt,lt,mt,gt,ft,yt){const _t=this.current;_t.textMatrix=_t.lineMatrix=[rt,lt,mt,gt,ft,yt],_t.textMatrixScale=Math.hypot(rt,lt),_t.x=_t.lineX=0,_t.y=_t.lineY=0,_t.xcoords=[],_t.ycoords=[],_t.tspan=this.svgFactory.createElement("svg:tspan"),_t.tspan.setAttributeNS(null,"font-family",_t.fontFamily),_t.tspan.setAttributeNS(null,"font-size",`${_e(_t.fontSize)}px`),_t.tspan.setAttributeNS(null,"y",_e(-_t.y)),_t.txtElement=this.svgFactory.createElement("svg:text"),_t.txtElement.append(_t.tspan)}beginText(){const rt=this.current;rt.x=rt.lineX=0,rt.y=rt.lineY=0,rt.textMatrix=a.IDENTITY_MATRIX,rt.lineMatrix=a.IDENTITY_MATRIX,rt.textMatrixScale=1,rt.tspan=this.svgFactory.createElement("svg:tspan"),rt.txtElement=this.svgFactory.createElement("svg:text"),rt.txtgrp=this.svgFactory.createElement("svg:g"),rt.xcoords=[],rt.ycoords=[]}moveText(rt,lt){const mt=this.current;mt.x=mt.lineX+=rt,mt.y=mt.lineY+=lt,mt.xcoords=[],mt.ycoords=[],mt.tspan=this.svgFactory.createElement("svg:tspan"),mt.tspan.setAttributeNS(null,"font-family",mt.fontFamily),mt.tspan.setAttributeNS(null,"font-size",`${_e(mt.fontSize)}px`),mt.tspan.setAttributeNS(null,"y",_e(-mt.y))}showText(rt){const lt=this.current,mt=lt.font,gt=lt.fontSize;if(gt===0)return;const ft=lt.fontSizeScale,yt=lt.charSpacing,_t=lt.wordSpacing,kt=lt.fontDirection,Ot=lt.textHScale*kt,St=mt.vertical,Dt=St?1:-1,It=mt.defaultVMetrics,zt=gt*lt.fontMatrix[0];let wt=0;for(const tn of rt){if(tn===null){wt+=kt*_t;continue}else if(typeof tn=="number"){wt+=Dt*tn*gt/1e3;continue}const rn=(tn.isSpace?_t:0)+yt,At=tn.fontChar;let ut,pt,ht=tn.width;if(St){let bt;const Et=tn.vmetric||It;bt=tn.vmetric?Et[1]:ht*.5,bt=-bt*zt;const Pt=Et[2]*zt;ht=Et?-Et[0]:ht,ut=bt/ft,pt=(wt+Pt)/ft}else ut=wt/ft,pt=0;(tn.isInFont||mt.missingFile)&&(lt.xcoords.push(lt.x+ut),St&&lt.ycoords.push(-lt.y+pt),lt.tspan.textContent+=At);const vt=St?ht*zt-rn*kt:ht*zt+rn*kt;wt+=vt}lt.tspan.setAttributeNS(null,"x",lt.xcoords.map(_e).join(" ")),St?lt.tspan.setAttributeNS(null,"y",lt.ycoords.map(_e).join(" ")):lt.tspan.setAttributeNS(null,"y",_e(-lt.y)),St?lt.y-=wt:lt.x+=wt*Ot,lt.tspan.setAttributeNS(null,"font-family",lt.fontFamily),lt.tspan.setAttributeNS(null,"font-size",`${_e(lt.fontSize)}px`),lt.fontStyle!==c.fontStyle&&lt.tspan.setAttributeNS(null,"font-style",lt.fontStyle),lt.fontWeight!==c.fontWeight&&lt.tspan.setAttributeNS(null,"font-weight",lt.fontWeight);const Lt=lt.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;if(Lt===a.TextRenderingMode.FILL||Lt===a.TextRenderingMode.FILL_STROKE?(lt.fillColor!==c.fillColor&&lt.tspan.setAttributeNS(null,"fill",lt.fillColor),lt.fillAlpha<1&&lt.tspan.setAttributeNS(null,"fill-opacity",lt.fillAlpha)):lt.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?lt.tspan.setAttributeNS(null,"fill","transparent"):lt.tspan.setAttributeNS(null,"fill","none"),Lt===a.TextRenderingMode.STROKE||Lt===a.TextRenderingMode.FILL_STROKE){const tn=1/(lt.textMatrixScale||1);this._setStrokeAttributes(lt.tspan,tn)}let Yt=lt.textMatrix;lt.textRise!==0&&(Yt=Yt.slice(),Yt[5]+=lt.textRise),lt.txtElement.setAttributeNS(null,"transform",`${nt(Yt)} scale(${_e(Ot)}, -1)`),lt.txtElement.setAttributeNS(d,"xml:space","preserve"),lt.txtElement.append(lt.tspan),lt.txtgrp.append(lt.txtElement),this._ensureTransformGroup().append(lt.txtElement)}setLeadingMoveText(rt,lt){this.setLeading(-lt),this.moveText(rt,lt)}addFontStyle(rt){if(!rt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const lt=b(rt.data,rt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${rt.loadedName}"; src: url(${lt}); }
`}setFont(rt){const lt=this.current,mt=this.commonObjs.get(rt[0]);let gt=rt[1];lt.font=mt,this.embedFonts&&!mt.missingFile&&!this.embeddedFonts[mt.loadedName]&&(this.addFontStyle(mt),this.embeddedFonts[mt.loadedName]=mt),lt.fontMatrix=mt.fontMatrix||a.FONT_IDENTITY_MATRIX;let ft="normal";mt.black?ft="900":mt.bold&&(ft="bold");const yt=mt.italic?"italic":"normal";gt<0?(gt=-gt,lt.fontDirection=-1):lt.fontDirection=1,lt.fontSize=gt,lt.fontFamily=mt.loadedName,lt.fontWeight=ft,lt.fontStyle=yt,lt.tspan=this.svgFactory.createElement("svg:tspan"),lt.tspan.setAttributeNS(null,"y",_e(-lt.y)),lt.xcoords=[],lt.ycoords=[]}endText(){var lt;const rt=this.current;rt.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&((lt=rt.txtElement)!=null&&lt.hasChildNodes())&&(rt.element=rt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(rt){rt>0&&(this.current.lineWidth=rt)}setLineCap(rt){this.current.lineCap=g[rt]}setLineJoin(rt){this.current.lineJoin=_[rt]}setMiterLimit(rt){this.current.miterLimit=rt}setStrokeAlpha(rt){this.current.strokeAlpha=rt}setStrokeRGBColor(rt,lt,mt){this.current.strokeColor=a.Util.makeHexColor(rt,lt,mt)}setFillAlpha(rt){this.current.fillAlpha=rt}setFillRGBColor(rt,lt,mt){this.current.fillColor=a.Util.makeHexColor(rt,lt,mt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(rt){this.current.strokeColor=this._makeColorN_Pattern(rt)}setFillColorN(rt){this.current.fillColor=this._makeColorN_Pattern(rt)}shadingFill(rt){const{width:lt,height:mt}=this.viewport,gt=a.Util.inverseTransform(this.transformMatrix),[ft,yt,_t,kt]=a.Util.getAxialAlignedBoundingBox([0,0,lt,mt],gt),Ot=this.svgFactory.createElement("svg:rect");Ot.setAttributeNS(null,"x",ft),Ot.setAttributeNS(null,"y",yt),Ot.setAttributeNS(null,"width",_t-ft),Ot.setAttributeNS(null,"height",kt-yt),Ot.setAttributeNS(null,"fill",this._makeShadingPattern(rt)),this.current.fillAlpha<1&&Ot.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ot)}_makeColorN_Pattern(rt){return rt[0]==="TilingPattern"?this._makeTilingPattern(rt):this._makeShadingPattern(rt)}_makeTilingPattern(rt){const lt=rt[1],mt=rt[2],gt=rt[3]||a.IDENTITY_MATRIX,[ft,yt,_t,kt]=rt[4],Ot=rt[5],St=rt[6],Dt=rt[7],It=`shading${it++}`,[zt,wt,Lt,Yt]=a.Util.normalizeRect([...a.Util.applyTransform([ft,yt],gt),...a.Util.applyTransform([_t,kt],gt)]),[tn,rn]=a.Util.singularValueDecompose2dScale(gt),At=Ot*tn,ut=St*rn,pt=this.svgFactory.createElement("svg:pattern");pt.setAttributeNS(null,"id",It),pt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),pt.setAttributeNS(null,"width",At),pt.setAttributeNS(null,"height",ut),pt.setAttributeNS(null,"x",`${zt}`),pt.setAttributeNS(null,"y",`${wt}`);const ht=this.svg,vt=this.transformMatrix,bt=this.current.fillColor,Et=this.current.strokeColor,Pt=this.svgFactory.create(Lt-zt,Yt-wt);if(this.svg=Pt,this.transformMatrix=gt,Dt===2){const Rt=a.Util.makeHexColor(...lt);this.current.fillColor=Rt,this.current.strokeColor=Rt}return this.executeOpTree(this.convertOpList(mt)),this.svg=ht,this.transformMatrix=vt,this.current.fillColor=bt,this.current.strokeColor=Et,pt.append(Pt.childNodes[0]),this.defs.append(pt),`url(#${It})`}_makeShadingPattern(rt){switch(typeof rt=="string"&&(rt=this.objs.get(rt)),rt[0]){case"RadialAxial":const lt=`shading${it++}`,mt=rt[3];let gt;switch(rt[1]){case"axial":const ft=rt[4],yt=rt[5];gt=this.svgFactory.createElement("svg:linearGradient"),gt.setAttributeNS(null,"id",lt),gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gt.setAttributeNS(null,"x1",ft[0]),gt.setAttributeNS(null,"y1",ft[1]),gt.setAttributeNS(null,"x2",yt[0]),gt.setAttributeNS(null,"y2",yt[1]);break;case"radial":const _t=rt[4],kt=rt[5],Ot=rt[6],St=rt[7];gt=this.svgFactory.createElement("svg:radialGradient"),gt.setAttributeNS(null,"id",lt),gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gt.setAttributeNS(null,"cx",kt[0]),gt.setAttributeNS(null,"cy",kt[1]),gt.setAttributeNS(null,"r",St),gt.setAttributeNS(null,"fx",_t[0]),gt.setAttributeNS(null,"fy",_t[1]),gt.setAttributeNS(null,"fr",Ot);break;default:throw new Error(`Unknown RadialAxial type: ${rt[1]}`)}for(const ft of mt){const yt=this.svgFactory.createElement("svg:stop");yt.setAttributeNS(null,"offset",ft[0]),yt.setAttributeNS(null,"stop-color",ft[1]),gt.append(yt)}return this.defs.append(gt),`url(#${lt})`;case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${rt[0]}`)}}setDash(rt,lt){this.current.dashArray=rt,this.current.dashPhase=lt}constructPath(rt,lt){const mt=this.current;let gt=mt.x,ft=mt.y,yt=[],_t=0;for(const kt of rt)switch(kt|0){case a.OPS.rectangle:gt=lt[_t++],ft=lt[_t++];const Ot=lt[_t++],St=lt[_t++],Dt=gt+Ot,It=ft+St;yt.push("M",_e(gt),_e(ft),"L",_e(Dt),_e(ft),"L",_e(Dt),_e(It),"L",_e(gt),_e(It),"Z");break;case a.OPS.moveTo:gt=lt[_t++],ft=lt[_t++],yt.push("M",_e(gt),_e(ft));break;case a.OPS.lineTo:gt=lt[_t++],ft=lt[_t++],yt.push("L",_e(gt),_e(ft));break;case a.OPS.curveTo:gt=lt[_t+4],ft=lt[_t+5],yt.push("C",_e(lt[_t]),_e(lt[_t+1]),_e(lt[_t+2]),_e(lt[_t+3]),_e(gt),_e(ft)),_t+=6;break;case a.OPS.curveTo2:yt.push("C",_e(gt),_e(ft),_e(lt[_t]),_e(lt[_t+1]),_e(lt[_t+2]),_e(lt[_t+3])),gt=lt[_t+2],ft=lt[_t+3],_t+=4;break;case a.OPS.curveTo3:gt=lt[_t+2],ft=lt[_t+3],yt.push("C",_e(lt[_t]),_e(lt[_t+1]),_e(gt),_e(ft),_e(gt),_e(ft)),_t+=4;break;case a.OPS.closePath:yt.push("Z");break}yt=yt.join(" "),mt.path&&rt.length>0&&rt[0]!==a.OPS.rectangle&&rt[0]!==a.OPS.moveTo?yt=mt.path.getAttributeNS(null,"d")+yt:(mt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(mt.path)),mt.path.setAttributeNS(null,"d",yt),mt.path.setAttributeNS(null,"fill","none"),mt.element=mt.path,mt.setCurrentPoint(gt,ft)}endPath(){const rt=this.current;if(rt.path=null,!this.pendingClip)return;if(!rt.element){this.pendingClip=null;return}const lt=`clippath${st++}`,mt=this.svgFactory.createElement("svg:clipPath");mt.setAttributeNS(null,"id",lt),mt.setAttributeNS(null,"transform",nt(this.transformMatrix));const gt=rt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?gt.setAttributeNS(null,"clip-rule","evenodd"):gt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,mt.append(gt),this.defs.append(mt),rt.activeClipUrl){rt.clipGroup=null;for(const ft of this.extraStack)ft.clipGroup=null;mt.setAttributeNS(null,"clip-path",rt.activeClipUrl)}rt.activeClipUrl=`url(#${lt})`,this.tgrp=null}clip(rt){this.pendingClip=rt}closePath(){const rt=this.current;if(rt.path){const lt=`${rt.path.getAttributeNS(null,"d")}Z`;rt.path.setAttributeNS(null,"d",lt)}}setLeading(rt){this.current.leading=-rt}setTextRise(rt){this.current.textRise=rt}setTextRenderingMode(rt){this.current.textRenderingMode=rt}setHScale(rt){this.current.textHScale=rt/100}setRenderingIntent(rt){}setFlatness(rt){}setGState(rt){for(const[lt,mt]of rt)switch(lt){case"LW":this.setLineWidth(mt);break;case"LC":this.setLineCap(mt);break;case"LJ":this.setLineJoin(mt);break;case"ML":this.setMiterLimit(mt);break;case"D":this.setDash(mt[0],mt[1]);break;case"RI":this.setRenderingIntent(mt);break;case"FL":this.setFlatness(mt);break;case"Font":this.setFont(mt);break;case"CA":this.setStrokeAlpha(mt);break;case"ca":this.setFillAlpha(mt);break;default:(0,a.warn)(`Unimplemented graphic state operator ${lt}`);break}}fill(){const rt=this.current;rt.element&&(rt.element.setAttributeNS(null,"fill",rt.fillColor),rt.element.setAttributeNS(null,"fill-opacity",rt.fillAlpha),this.endPath())}stroke(){const rt=this.current;rt.element&&(this._setStrokeAttributes(rt.element),rt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(rt,lt=1){const mt=this.current;let gt=mt.dashArray;lt!==1&&gt.length>0&&(gt=gt.map(function(ft){return lt*ft})),rt.setAttributeNS(null,"stroke",mt.strokeColor),rt.setAttributeNS(null,"stroke-opacity",mt.strokeAlpha),rt.setAttributeNS(null,"stroke-miterlimit",_e(mt.miterLimit)),rt.setAttributeNS(null,"stroke-linecap",mt.lineCap),rt.setAttributeNS(null,"stroke-linejoin",mt.lineJoin),rt.setAttributeNS(null,"stroke-width",_e(lt*mt.lineWidth)+"px"),rt.setAttributeNS(null,"stroke-dasharray",gt.map(_e).join(" ")),rt.setAttributeNS(null,"stroke-dashoffset",_e(lt*mt.dashPhase)+"px")}eoFill(){var rt;(rt=this.current.element)==null||rt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var rt;(rt=this.current.element)==null||rt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const rt=this.svgFactory.createElement("svg:rect");rt.setAttributeNS(null,"x","0"),rt.setAttributeNS(null,"y","0"),rt.setAttributeNS(null,"width","1px"),rt.setAttributeNS(null,"height","1px"),rt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(rt)}paintImageXObject(rt){const lt=this.getObject(rt);if(!lt){(0,a.warn)(`Dependent image with object ID ${rt} is not ready yet`);return}this.paintInlineImageXObject(lt)}paintInlineImageXObject(rt,lt){const mt=rt.width,gt=rt.height,ft=j(rt,this.forceDataSchema,!!lt),yt=this.svgFactory.createElement("svg:rect");yt.setAttributeNS(null,"x","0"),yt.setAttributeNS(null,"y","0"),yt.setAttributeNS(null,"width",_e(mt)),yt.setAttributeNS(null,"height",_e(gt)),this.current.element=yt,this.clip("nonzero");const _t=this.svgFactory.createElement("svg:image");_t.setAttributeNS(h,"xlink:href",ft),_t.setAttributeNS(null,"x","0"),_t.setAttributeNS(null,"y",_e(-gt)),_t.setAttributeNS(null,"width",_e(mt)+"px"),_t.setAttributeNS(null,"height",_e(gt)+"px"),_t.setAttributeNS(null,"transform",`scale(${_e(1/mt)} ${_e(-1/gt)})`),lt?lt.append(_t):this._ensureTransformGroup().append(_t)}paintImageMaskXObject(rt){const lt=this.getObject(rt.data,rt);if(lt.bitmap){(0,a.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const mt=this.current,gt=lt.width,ft=lt.height,yt=mt.fillColor;mt.maskId=`mask${tt++}`;const _t=this.svgFactory.createElement("svg:mask");_t.setAttributeNS(null,"id",mt.maskId);const kt=this.svgFactory.createElement("svg:rect");kt.setAttributeNS(null,"x","0"),kt.setAttributeNS(null,"y","0"),kt.setAttributeNS(null,"width",_e(gt)),kt.setAttributeNS(null,"height",_e(ft)),kt.setAttributeNS(null,"fill",yt),kt.setAttributeNS(null,"mask",`url(#${mt.maskId})`),this.defs.append(_t),this._ensureTransformGroup().append(kt),this.paintInlineImageXObject(lt,_t)}paintFormXObjectBegin(rt,lt){if(Array.isArray(rt)&&rt.length===6&&this.transform(rt[0],rt[1],rt[2],rt[3],rt[4],rt[5]),lt){const mt=lt[2]-lt[0],gt=lt[3]-lt[1],ft=this.svgFactory.createElement("svg:rect");ft.setAttributeNS(null,"x",lt[0]),ft.setAttributeNS(null,"y",lt[1]),ft.setAttributeNS(null,"width",_e(mt)),ft.setAttributeNS(null,"height",_e(gt)),this.current.element=ft,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(rt){const lt=this.svgFactory.create(rt.width,rt.height),mt=this.svgFactory.createElement("svg:defs");lt.append(mt),this.defs=mt;const gt=this.svgFactory.createElement("svg:g");return gt.setAttributeNS(null,"transform",nt(rt.transform)),lt.append(gt),this.svg=gt,lt}_ensureClipGroup(){if(!this.current.clipGroup){const rt=this.svgFactory.createElement("svg:g");rt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(rt),this.current.clipGroup=rt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",nt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=ot},(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class s{static textContent(a){const c=[],d={items:c,styles:Object.create(null)};function h(g){var j;if(!g)return;let _=null;const b=g.name;if(b==="#text")_=g.value;else if(s.shouldBuildText(b))(j=g==null?void 0:g.attributes)!=null&&j.textContent?_=g.attributes.textContent:g.value&&(_=g.value);else return;if(_!==null&&c.push({str:_}),!!g.children)for(const $ of g.children)h($)}return h(a),d}static shouldBuildText(a){return!(a==="textarea"||a==="input"||a==="option"||a==="select")}}e.XfaText=s},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=nt,e.updateTextLayer=st;var o=s(1),a=s(6);const c=1e5,d=30,h=.8,g=new Map;function _(tt,it){let ot;if(it&&o.FeatureTest.isOffscreenCanvasSupported)ot=new OffscreenCanvas(tt,tt).getContext("2d",{alpha:!1});else{const ct=document.createElement("canvas");ct.width=ct.height=tt,ot=ct.getContext("2d",{alpha:!1})}return ot}function b(tt,it){const ot=g.get(tt);if(ot)return ot;const ct=_(d,it);ct.font=`${d}px ${tt}`;const rt=ct.measureText("");let lt=rt.fontBoundingBoxAscent,mt=Math.abs(rt.fontBoundingBoxDescent);if(lt){const ft=lt/(lt+mt);return g.set(tt,ft),ct.canvas.width=ct.canvas.height=0,ft}ct.strokeStyle="red",ct.clearRect(0,0,d,d),ct.strokeText("g",0,0);let gt=ct.getImageData(0,0,d,d).data;mt=0;for(let ft=gt.length-1-3;ft>=0;ft-=4)if(gt[ft]>0){mt=Math.ceil(ft/4/d);break}ct.clearRect(0,0,d,d),ct.strokeText("A",0,d),gt=ct.getImageData(0,0,d,d).data,lt=0;for(let ft=0,yt=gt.length;ft<yt;ft+=4)if(gt[ft]>0){lt=d-Math.floor(ft/4/d);break}if(ct.canvas.width=ct.canvas.height=0,lt){const ft=lt/(lt+mt);return g.set(tt,ft),ft}return g.set(tt,h),h}function j(tt,it,ot){const ct=document.createElement("span"),rt={angle:0,canvasWidth:0,hasText:it.str!=="",hasEOL:it.hasEOL,fontSize:0};tt._textDivs.push(ct);const lt=o.Util.transform(tt._transform,it.transform);let mt=Math.atan2(lt[1],lt[0]);const gt=ot[it.fontName];gt.vertical&&(mt+=Math.PI/2);const ft=Math.hypot(lt[2],lt[3]),yt=ft*b(gt.fontFamily,tt._isOffscreenCanvasSupported);let _t,kt;mt===0?(_t=lt[4],kt=lt[5]-yt):(_t=lt[4]+yt*Math.sin(mt),kt=lt[5]-yt*Math.cos(mt));const Ot="calc(var(--scale-factor)*",St=ct.style;tt._container===tt._rootContainer?(St.left=`${(100*_t/tt._pageWidth).toFixed(2)}%`,St.top=`${(100*kt/tt._pageHeight).toFixed(2)}%`):(St.left=`${Ot}${_t.toFixed(2)}px)`,St.top=`${Ot}${kt.toFixed(2)}px)`),St.fontSize=`${Ot}${ft.toFixed(2)}px)`,St.fontFamily=gt.fontFamily,rt.fontSize=ft,ct.setAttribute("role","presentation"),ct.textContent=it.str,ct.dir=it.dir,tt._fontInspectorEnabled&&(ct.dataset.fontName=it.fontName),mt!==0&&(rt.angle=mt*(180/Math.PI));let Dt=!1;if(it.str.length>1)Dt=!0;else if(it.str!==" "&&it.transform[0]!==it.transform[3]){const It=Math.abs(it.transform[0]),zt=Math.abs(it.transform[3]);It!==zt&&Math.max(It,zt)/Math.min(It,zt)>1.5&&(Dt=!0)}Dt&&(rt.canvasWidth=gt.vertical?it.height:it.width),tt._textDivProperties.set(ct,rt),tt._isReadableStream&&tt._layoutText(ct)}function $(tt){const{div:it,scale:ot,properties:ct,ctx:rt,prevFontSize:lt,prevFontFamily:mt}=tt,{style:gt}=it;let ft="";if(ct.canvasWidth!==0&&ct.hasText){const{fontFamily:yt}=gt,{canvasWidth:_t,fontSize:kt}=ct;(lt!==kt||mt!==yt)&&(rt.font=`${kt*ot}px ${yt}`,tt.prevFontSize=kt,tt.prevFontFamily=yt);const{width:Ot}=rt.measureText(it.textContent);Ot>0&&(ft=`scaleX(${_t*ot/Ot})`)}ct.angle!==0&&(ft=`rotate(${ct.angle}deg) ${ft}`),ft.length>0&&(gt.transform=ft)}function et(tt){if(tt._canceled)return;const it=tt._textDivs,ot=tt._capability;if(it.length>c){ot.resolve();return}if(!tt._isReadableStream)for(const rt of it)tt._layoutText(rt);ot.resolve()}class _e{constructor({textContentSource:it,container:ot,viewport:ct,textDivs:rt,textDivProperties:lt,textContentItemsStr:mt,isOffscreenCanvasSupported:gt}){var Ot;this._textContentSource=it,this._isReadableStream=it instanceof ReadableStream,this._container=this._rootContainer=ot,this._textDivs=rt||[],this._textContentItemsStr=mt||[],this._isOffscreenCanvasSupported=gt,this._fontInspectorEnabled=!!((Ot=globalThis.FontInspector)!=null&&Ot.enabled),this._reader=null,this._textDivProperties=lt||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ct.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:_(0,gt)};const{pageWidth:ft,pageHeight:yt,pageX:_t,pageY:kt}=ct.rawDims;this._transform=[1,0,0,-1,-_t,kt+yt],this._pageWidth=ft,this._pageHeight=yt,(0,a.setLayerDimensions)(ot,ct),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(it,ot){for(const ct of it){if(ct.str===void 0){if(ct.type==="beginMarkedContentProps"||ct.type==="beginMarkedContent"){const rt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ct.id!==null&&this._container.setAttribute("id",`${ct.id}`),rt.append(this._container)}else ct.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ct.str),j(this,ct,ot)}}_layoutText(it){const ot=this._layoutTextParams.properties=this._textDivProperties.get(it);if(this._layoutTextParams.div=it,$(this._layoutTextParams),ot.hasText&&this._container.append(it),ot.hasEOL){const ct=document.createElement("br");ct.setAttribute("role","presentation"),this._container.append(ct)}}_render(){const it=new o.PromiseCapability;let ot=Object.create(null);if(this._isReadableStream){const ct=()=>{this._reader.read().then(({value:rt,done:lt})=>{if(lt){it.resolve();return}Object.assign(ot,rt.styles),this._processItems(rt.items,ot),ct()},it.reject)};this._reader=this._textContentSource.getReader(),ct()}else if(this._textContentSource){const{items:ct,styles:rt}=this._textContentSource;this._processItems(ct,rt),it.resolve()}else throw new Error('No "textContentSource" parameter specified.');it.promise.then(()=>{ot=null,et(this)},this._capability.reject)}}e.TextLayerRenderTask=_e;function nt(tt){!tt.textContentSource&&(tt.textContent||tt.textContentStream)&&((0,a.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),tt.textContentSource=tt.textContent||tt.textContentStream);const{container:it,viewport:ot}=tt,ct=getComputedStyle(it),rt=ct.getPropertyValue("visibility"),lt=parseFloat(ct.getPropertyValue("--scale-factor"));rt==="visible"&&(!lt||Math.abs(lt-ot.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const mt=new _e(tt);return mt._render(),mt}function st({container:tt,viewport:it,textDivs:ot,textDivProperties:ct,isOffscreenCanvasSupported:rt,mustRotate:lt=!0,mustRescale:mt=!0}){if(lt&&(0,a.setLayerDimensions)(tt,{rotation:it.rotation}),mt){const gt=_(0,rt),yt={prevFontSize:null,prevFontFamily:null,div:null,scale:it.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:gt};for(const _t of ot)yt.properties=ct.get(_t),yt.div=_t,$(yt)}}},(i,e,s)=>{var b,j,$,et,_e,nt,st,tt,it,ot,ct,Us,lt,ms,gt,Hs,yt,Vs;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var o=s(1),a=s(4),c=s(28),d=s(33),h=s(6),g=s(34);const kt=class kt{constructor({uiManager:St,pageIndex:Dt,div:It,accessibilityManager:zt,annotationLayer:wt,viewport:Lt,l10n:Yt}){Mt(this,ct);Mt(this,lt);Mt(this,gt);Mt(this,yt);Mt(this,b,void 0);Mt(this,j,!1);Mt(this,$,null);Mt(this,et,this.pointerup.bind(this));Mt(this,_e,this.pointerdown.bind(this));Mt(this,nt,new Map);Mt(this,st,!1);Mt(this,tt,!1);Mt(this,it,!1);Mt(this,ot,void 0);const tn=[c.FreeTextEditor,d.InkEditor,g.StampEditor];if(!kt._initialized){kt._initialized=!0;for(const rn of tn)rn.initialize(Yt)}St.registerEditorTypes(tn),Xt(this,ot,St),this.pageIndex=Dt,this.div=It,Xt(this,b,zt),Xt(this,$,wt),this.viewport=Lt,at(this,ot).addLayer(this)}get isEmpty(){return at(this,nt).size===0}updateToolbar(St){at(this,ot).updateToolbar(St)}updateMode(St=at(this,ot).getMode()){Nt(this,yt,Vs).call(this),St===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),St!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",St===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",St===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",St===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(St){if(!St&&at(this,ot).getMode()!==o.AnnotationEditorType.INK)return;if(!St){for(const It of at(this,nt).values())if(It.isEmpty()){It.setInBackground();return}}Nt(this,lt,ms).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(St){at(this,ot).setEditingState(St)}addCommands(St){at(this,ot).addCommands(St)}enable(){this.div.style.pointerEvents="auto";const St=new Set;for(const It of at(this,nt).values())It.enableEditing(),It.annotationElementId&&St.add(It.annotationElementId);if(!at(this,$))return;const Dt=at(this,$).getEditableAnnotations();for(const It of Dt){if(It.hide(),at(this,ot).isDeletedAnnotationElement(It.data.id)||St.has(It.data.id))continue;const zt=this.deserialize(It);zt&&(this.addOrRebuild(zt),zt.enableEditing())}}disable(){var Dt;Xt(this,it,!0),this.div.style.pointerEvents="none";const St=new Set;for(const It of at(this,nt).values()){if(It.disableEditing(),!It.annotationElementId||It.serialize()!==null){St.add(It.annotationElementId);continue}(Dt=this.getEditableAnnotation(It.annotationElementId))==null||Dt.show(),It.remove()}if(at(this,$)){const It=at(this,$).getEditableAnnotations();for(const zt of It){const{id:wt}=zt.data;St.has(wt)||at(this,ot).isDeletedAnnotationElement(wt)||zt.show()}}Nt(this,yt,Vs).call(this),this.isEmpty&&(this.div.hidden=!0),Xt(this,it,!1)}getEditableAnnotation(St){var Dt;return((Dt=at(this,$))==null?void 0:Dt.getEditableAnnotation(St))||null}setActiveEditor(St){at(this,ot).getActive()!==St&&at(this,ot).setActiveEditor(St)}enableClick(){this.div.addEventListener("pointerdown",at(this,_e)),this.div.addEventListener("pointerup",at(this,et))}disableClick(){this.div.removeEventListener("pointerdown",at(this,_e)),this.div.removeEventListener("pointerup",at(this,et))}attach(St){at(this,nt).set(St.id,St);const{annotationElementId:Dt}=St;Dt&&at(this,ot).isDeletedAnnotationElement(Dt)&&at(this,ot).removeDeletedAnnotationElement(St)}detach(St){var Dt;at(this,nt).delete(St.id),(Dt=at(this,b))==null||Dt.removePointerInTextLayer(St.contentDiv),!at(this,it)&&St.annotationElementId&&at(this,ot).addDeletedAnnotationElement(St)}remove(St){this.detach(St),at(this,ot).removeEditor(St),St.div.contains(document.activeElement)&&setTimeout(()=>{at(this,ot).focusMainContainer()},0),St.div.remove(),St.isAttachedToDOM=!1,at(this,tt)||this.addInkEditorIfNeeded(!1)}changeParent(St){var Dt;St.parent!==this&&(St.annotationElementId&&(at(this,ot).addDeletedAnnotationElement(St.annotationElementId),a.AnnotationEditor.deleteAnnotationElement(St),St.annotationElementId=null),this.attach(St),(Dt=St.parent)==null||Dt.detach(St),St.setParent(this),St.div&&St.isAttachedToDOM&&(St.div.remove(),this.div.append(St.div)))}add(St){if(this.changeParent(St),at(this,ot).addEditor(St),this.attach(St),!St.isAttachedToDOM){const Dt=St.render();this.div.append(Dt),St.isAttachedToDOM=!0}St.fixAndSetPosition(),St.onceAdded(),at(this,ot).addToAnnotationStorage(St)}moveEditorInDOM(St){var It;if(!St.isAttachedToDOM)return;const{activeElement:Dt}=document;St.div.contains(Dt)&&(St._focusEventsAllowed=!1,setTimeout(()=>{St.div.contains(document.activeElement)?St._focusEventsAllowed=!0:(St.div.addEventListener("focusin",()=>{St._focusEventsAllowed=!0},{once:!0}),Dt.focus())},0)),St._structTreeParentId=(It=at(this,b))==null?void 0:It.moveElementInDOM(this.div,St.div,St.contentDiv,!0)}addOrRebuild(St){St.needsToBeRebuilt()?St.rebuild():this.add(St)}addUndoableEditor(St){const Dt=()=>St._uiManager.rebuild(St),It=()=>{St.remove()};this.addCommands({cmd:Dt,undo:It,mustExec:!1})}getNextId(){return at(this,ot).getId()}pasteEditor(St,Dt){at(this,ot).updateToolbar(St),at(this,ot).updateMode(St);const{offsetX:It,offsetY:zt}=Nt(this,gt,Hs).call(this),wt=this.getNextId(),Lt=Nt(this,ct,Us).call(this,{parent:this,id:wt,x:It,y:zt,uiManager:at(this,ot),isCentered:!0,...Dt});Lt&&this.add(Lt)}deserialize(St){switch(St.annotationType??St.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(St,this,at(this,ot));case o.AnnotationEditorType.INK:return d.InkEditor.deserialize(St,this,at(this,ot));case o.AnnotationEditorType.STAMP:return g.StampEditor.deserialize(St,this,at(this,ot))}return null}addNewEditor(){Nt(this,lt,ms).call(this,Nt(this,gt,Hs).call(this),!0)}setSelected(St){at(this,ot).setSelected(St)}toggleSelected(St){at(this,ot).toggleSelected(St)}isSelected(St){return at(this,ot).isSelected(St)}unselect(St){at(this,ot).unselect(St)}pointerup(St){const{isMac:Dt}=o.FeatureTest.platform;if(!(St.button!==0||St.ctrlKey&&Dt)&&St.target===this.div&&at(this,st)){if(Xt(this,st,!1),!at(this,j)){Xt(this,j,!0);return}if(at(this,ot).getMode()===o.AnnotationEditorType.STAMP){at(this,ot).unselectAll();return}Nt(this,lt,ms).call(this,St,!1)}}pointerdown(St){if(at(this,st)){Xt(this,st,!1);return}const{isMac:Dt}=o.FeatureTest.platform;if(St.button!==0||St.ctrlKey&&Dt||St.target!==this.div)return;Xt(this,st,!0);const It=at(this,ot).getActive();Xt(this,j,!It||It.isEmpty())}findNewParent(St,Dt,It){const zt=at(this,ot).findParent(Dt,It);return zt===null||zt===this?!1:(zt.changeParent(St),!0)}destroy(){var St,Dt;((St=at(this,ot).getActive())==null?void 0:St.parent)===this&&(at(this,ot).commitOrRemove(),at(this,ot).setActiveEditor(null));for(const It of at(this,nt).values())(Dt=at(this,b))==null||Dt.removePointerInTextLayer(It.contentDiv),It.setParent(null),It.isAttachedToDOM=!1,It.div.remove();this.div=null,at(this,nt).clear(),at(this,ot).removeLayer(this)}render({viewport:St}){this.viewport=St,(0,h.setLayerDimensions)(this.div,St);for(const Dt of at(this,ot).getEditors(this.pageIndex))this.add(Dt);this.updateMode()}update({viewport:St}){at(this,ot).commitOrRemove(),this.viewport=St,(0,h.setLayerDimensions)(this.div,{rotation:St.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:St,pageHeight:Dt}=this.viewport.rawDims;return[St,Dt]}};b=new WeakMap,j=new WeakMap,$=new WeakMap,et=new WeakMap,_e=new WeakMap,nt=new WeakMap,st=new WeakMap,tt=new WeakMap,it=new WeakMap,ot=new WeakMap,ct=new WeakSet,Us=function(St){switch(at(this,ot).getMode()){case o.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(St);case o.AnnotationEditorType.INK:return new d.InkEditor(St);case o.AnnotationEditorType.STAMP:return new g.StampEditor(St)}return null},lt=new WeakSet,ms=function(St,Dt){const It=this.getNextId(),zt=Nt(this,ct,Us).call(this,{parent:this,id:It,x:St.offsetX,y:St.offsetY,uiManager:at(this,ot),isCentered:Dt});return zt&&this.add(zt),zt},gt=new WeakSet,Hs=function(){const{x:St,y:Dt,width:It,height:zt}=this.div.getBoundingClientRect(),wt=Math.max(0,St),Lt=Math.max(0,Dt),Yt=Math.min(window.innerWidth,St+It),tn=Math.min(window.innerHeight,Dt+zt),rn=(wt+Yt)/2-St,At=(Lt+tn)/2-Dt,[ut,pt]=this.viewport.rotation%180===0?[rn,At]:[At,rn];return{offsetX:ut,offsetY:pt}},yt=new WeakSet,Vs=function(){Xt(this,tt,!0);for(const St of at(this,nt).values())St.isEmpty()&&St.remove();Xt(this,tt,!1)},dn(kt,"_initialized",!1);let _=kt;e.AnnotationEditorLayer=_},(i,e,s)=>{var g,_,b,j,$,et,_e,nt,st,tt,yr,ot,vr,rt,_r,mt,as,ft,Ws,_t,br,Ot,Gs;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var o=s(1),a=s(5),c=s(4),d=s(29);const Dt=class Dt extends c.AnnotationEditor{constructor(wt){super({...wt,name:"freeTextEditor"});Mt(this,tt);Mt(this,ot);Mt(this,rt);Mt(this,mt);Mt(this,ft);Mt(this,_t);Mt(this,Ot);Mt(this,g,this.editorDivBlur.bind(this));Mt(this,_,this.editorDivFocus.bind(this));Mt(this,b,this.editorDivInput.bind(this));Mt(this,j,this.editorDivKeydown.bind(this));Mt(this,$,void 0);Mt(this,et,"");Mt(this,_e,`${this.id}-editor`);Mt(this,nt,void 0);Mt(this,st,null);Xt(this,$,wt.color||Dt._defaultColor||c.AnnotationEditor._defaultLineColor),Xt(this,nt,wt.fontSize||Dt._defaultFontSize)}static get _keyboardManager(){const wt=Dt.prototype,Lt=rn=>rn.isEmpty(),Yt=a.AnnotationEditorUIManager.TRANSLATE_SMALL,tn=a.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new a.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],wt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],wt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],wt._translateEmpty,{args:[-Yt,0],checker:Lt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],wt._translateEmpty,{args:[-tn,0],checker:Lt}],[["ArrowRight","mac+ArrowRight"],wt._translateEmpty,{args:[Yt,0],checker:Lt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],wt._translateEmpty,{args:[tn,0],checker:Lt}],[["ArrowUp","mac+ArrowUp"],wt._translateEmpty,{args:[0,-Yt],checker:Lt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],wt._translateEmpty,{args:[0,-tn],checker:Lt}],[["ArrowDown","mac+ArrowDown"],wt._translateEmpty,{args:[0,Yt],checker:Lt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],wt._translateEmpty,{args:[0,tn],checker:Lt}]]))}static initialize(wt){c.AnnotationEditor.initialize(wt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Lt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Lt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(wt,Lt){switch(wt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Dt._defaultFontSize=Lt;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Dt._defaultColor=Lt;break}}updateParams(wt,Lt){switch(wt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Nt(this,tt,yr).call(this,Lt);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Nt(this,ot,vr).call(this,Lt);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,Dt._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,Dt._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,at(this,nt)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,at(this,$)]]}_translateEmpty(wt,Lt){this._uiManager.translateSelectedEditors(wt,Lt,!0)}getInitialTranslation(){const wt=this.parentScale;return[-Dt._internalPadding*wt,-(Dt._internalPadding+at(this,nt))*wt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",at(this,j)),this.editorDiv.addEventListener("focus",at(this,_)),this.editorDiv.addEventListener("blur",at(this,g)),this.editorDiv.addEventListener("input",at(this,b)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",at(this,_e)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",at(this,j)),this.editorDiv.removeEventListener("focus",at(this,_)),this.editorDiv.removeEventListener("blur",at(this,g)),this.editorDiv.removeEventListener("input",at(this,b)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(wt){this._focusEventsAllowed&&(super.focusin(wt),wt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var wt;if(this.width){Nt(this,Ot,Gs).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(wt=this._initialOptions)!=null&&wt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const wt=at(this,et),Lt=Xt(this,et,Nt(this,rt,_r).call(this).trimEnd());if(wt===Lt)return;const Yt=tn=>{if(Xt(this,et,tn),!tn){this.remove();return}Nt(this,ft,Ws).call(this),this._uiManager.rebuild(this),Nt(this,mt,as).call(this)};this.addCommands({cmd:()=>{Yt(Lt)},undo:()=>{Yt(wt)},mustExec:!1}),Nt(this,mt,as).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(wt){this.enterInEditMode()}keydown(wt){wt.target===this.div&&wt.key==="Enter"&&(this.enterInEditMode(),wt.preventDefault())}editorDivKeydown(wt){Dt._keyboardManager.exec(this,wt)}editorDivFocus(wt){this.isEditing=!0}editorDivBlur(wt){this.isEditing=!1}editorDivInput(wt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let wt,Lt;this.width&&(wt=this.x,Lt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",at(this,_e)),this.enableEditing(),c.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(tn=>{var rn;return(rn=this.editorDiv)==null?void 0:rn.setAttribute("aria-label",tn)}),c.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(tn=>{var rn;return(rn=this.editorDiv)==null?void 0:rn.setAttribute("default-content",tn)}),this.editorDiv.contentEditable=!0;const{style:Yt}=this.editorDiv;if(Yt.fontSize=`calc(${at(this,nt)}px * var(--scale-factor))`,Yt.color=at(this,$),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,a.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[tn,rn]=this.parentDimensions;if(this.annotationElementId){const{position:At}=at(this,st);let[ut,pt]=this.getInitialTranslation();[ut,pt]=this.pageTranslationToScreen(ut,pt);const[ht,vt]=this.pageDimensions,[bt,Et]=this.pageTranslation;let Pt,Rt;switch(this.rotation){case 0:Pt=wt+(At[0]-bt)/ht,Rt=Lt+this.height-(At[1]-Et)/vt;break;case 90:Pt=wt+(At[0]-bt)/ht,Rt=Lt-(At[1]-Et)/vt,[ut,pt]=[pt,-ut];break;case 180:Pt=wt-this.width+(At[0]-bt)/ht,Rt=Lt-(At[1]-Et)/vt,[ut,pt]=[-ut,-pt];break;case 270:Pt=wt+(At[0]-bt-this.height*vt)/ht,Rt=Lt+(At[1]-Et-this.width*ht)/vt,[ut,pt]=[-pt,ut];break}this.setAt(Pt*tn,Rt*rn,ut,pt)}else this.setAt(wt*tn,Lt*rn,this.width*tn,this.height*rn);Nt(this,ft,Ws).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(wt,Lt,Yt){let tn=null;if(wt instanceof d.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:At,fontColor:ut},rect:pt,rotation:ht,id:vt},textContent:bt,textPosition:Et,parent:{page:{pageNumber:Pt}}}=wt;if(!bt||bt.length===0)return null;tn=wt={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(ut),fontSize:At,value:bt.join(`
`),position:Et,pageIndex:Pt-1,rect:pt,rotation:ht,id:vt,deleted:!1}}const rn=super.deserialize(wt,Lt,Yt);return Xt(rn,nt,wt.fontSize),Xt(rn,$,o.Util.makeHexColor(...wt.color)),Xt(rn,et,wt.value),rn.annotationElementId=wt.id||null,Xt(rn,st,tn),rn}serialize(wt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Lt=Dt._internalPadding*this.parentScale,Yt=this.getRect(Lt,Lt),tn=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:at(this,$)),rn={annotationType:o.AnnotationEditorType.FREETEXT,color:tn,fontSize:at(this,nt),value:at(this,et),pageIndex:this.pageIndex,rect:Yt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return wt?rn:this.annotationElementId&&!Nt(this,_t,br).call(this,rn)?null:(rn.id=this.annotationElementId,rn)}};g=new WeakMap,_=new WeakMap,b=new WeakMap,j=new WeakMap,$=new WeakMap,et=new WeakMap,_e=new WeakMap,nt=new WeakMap,st=new WeakMap,tt=new WeakSet,yr=function(wt){const Lt=tn=>{this.editorDiv.style.fontSize=`calc(${tn}px * var(--scale-factor))`,this.translate(0,-(tn-at(this,nt))*this.parentScale),Xt(this,nt,tn),Nt(this,mt,as).call(this)},Yt=at(this,nt);this.addCommands({cmd:()=>{Lt(wt)},undo:()=>{Lt(Yt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ot=new WeakSet,vr=function(wt){const Lt=at(this,$);this.addCommands({cmd:()=>{Xt(this,$,this.editorDiv.style.color=wt)},undo:()=>{Xt(this,$,this.editorDiv.style.color=Lt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},rt=new WeakSet,_r=function(){const wt=this.editorDiv.getElementsByTagName("div");if(wt.length===0)return this.editorDiv.innerText;const Lt=[];for(const Yt of wt)Lt.push(Yt.innerText.replace(/\r\n?|\n/,""));return Lt.join(`
`)},mt=new WeakSet,as=function(){const[wt,Lt]=this.parentDimensions;let Yt;if(this.isAttachedToDOM)Yt=this.div.getBoundingClientRect();else{const{currentLayer:tn,div:rn}=this,At=rn.style.display;rn.style.display="hidden",tn.div.append(this.div),Yt=rn.getBoundingClientRect(),rn.remove(),rn.style.display=At}this.rotation%180===this.parentRotation%180?(this.width=Yt.width/wt,this.height=Yt.height/Lt):(this.width=Yt.height/wt,this.height=Yt.width/Lt),this.fixAndSetPosition()},ft=new WeakSet,Ws=function(){if(this.editorDiv.replaceChildren(),!!at(this,et))for(const wt of at(this,et).split(`
`)){const Lt=document.createElement("div");Lt.append(wt?document.createTextNode(wt):document.createElement("br")),this.editorDiv.append(Lt)}},_t=new WeakSet,br=function(wt){const{value:Lt,fontSize:Yt,color:tn,rect:rn,pageIndex:At}=at(this,st);return wt.value!==Lt||wt.fontSize!==Yt||wt.rect.some((ut,pt)=>Math.abs(ut-rn[pt])>=1)||wt.color.some((ut,pt)=>ut!==tn[pt])||wt.pageIndex!==At},Ot=new WeakSet,Gs=function(wt=!1){if(!this.annotationElementId)return;if(Nt(this,mt,as).call(this),!wt&&(this.width===0||this.height===0)){setTimeout(()=>Nt(this,Ot,Gs).call(this,!0),0);return}const Lt=Dt._internalPadding*this.parentScale;at(this,st).rect=this.getRect(Lt,Lt)},dn(Dt,"_freeTextDefaultContent",""),dn(Dt,"_internalPadding",0),dn(Dt,"_defaultColor",null),dn(Dt,"_defaultFontSize",10),dn(Dt,"_type","freetext");let h=Dt;e.FreeTextEditor=h},(i,e,s)=>{var pt,vt,Qn,Et,xr,Rt,Gt,Ht,qt,Jt,nn,Qt,gn,Sn,un,xn,sn,Vt,Wt,en,fn,pn,Pn,Sr,Cn,ys,Mn,Xs,Fn,Ys,Ut,jt,an,cn,Un,$n,$t,qs,An,mn,wn,kn,Er,ln,Ks;Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var o=s(1),a=s(6),c=s(3),d=s(30),h=s(31),g=s(32);const _=1e3,b=9,j=new WeakSet;function $(En){return{width:En[2]-En[0],height:En[3]-En[1]}}class et{static create(Ct){switch(Ct.data.annotationType){case o.AnnotationType.LINK:return new nt(Ct);case o.AnnotationType.TEXT:return new st(Ct);case o.AnnotationType.WIDGET:switch(Ct.data.fieldType){case"Tx":return new it(Ct);case"Btn":return Ct.data.radioButton?new rt(Ct):Ct.data.checkBox?new ct(Ct):new lt(Ct);case"Ch":return new mt(Ct);case"Sig":return new ot(Ct)}return new tt(Ct);case o.AnnotationType.POPUP:return new gt(Ct);case o.AnnotationType.FREETEXT:return new yt(Ct);case o.AnnotationType.LINE:return new _t(Ct);case o.AnnotationType.SQUARE:return new kt(Ct);case o.AnnotationType.CIRCLE:return new Ot(Ct);case o.AnnotationType.POLYLINE:return new St(Ct);case o.AnnotationType.CARET:return new It(Ct);case o.AnnotationType.INK:return new zt(Ct);case o.AnnotationType.POLYGON:return new Dt(Ct);case o.AnnotationType.HIGHLIGHT:return new wt(Ct);case o.AnnotationType.UNDERLINE:return new Lt(Ct);case o.AnnotationType.SQUIGGLY:return new Yt(Ct);case o.AnnotationType.STRIKEOUT:return new tn(Ct);case o.AnnotationType.STAMP:return new rn(Ct);case o.AnnotationType.FILEATTACHMENT:return new At(Ct);default:return new _e(Ct)}}}const ht=class ht{constructor(Ct,{isRenderable:dt=!1,ignoreBorder:xt=!1,createQuadrilaterals:Tt=!1}={}){Mt(this,pt,!1);this.isRenderable=dt,this.data=Ct.data,this.layer=Ct.layer,this.linkService=Ct.linkService,this.downloadManager=Ct.downloadManager,this.imageResourcesPath=Ct.imageResourcesPath,this.renderForms=Ct.renderForms,this.svgFactory=Ct.svgFactory,this.annotationStorage=Ct.annotationStorage,this.enableScripting=Ct.enableScripting,this.hasJSActions=Ct.hasJSActions,this._fieldObjects=Ct.fieldObjects,this.parent=Ct.parent,dt&&(this.container=this._createContainer(xt)),Tt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Ct,contentsObj:dt,richText:xt}){return!!(Ct!=null&&Ct.str||dt!=null&&dt.str||xt!=null&&xt.str)}get hasPopupData(){return ht._hasPopupData(this.data)}_createContainer(Ct){const{data:dt,parent:{page:xt,viewport:Tt}}=this,Ft=document.createElement("section");Ft.setAttribute("data-annotation-id",dt.id),this instanceof tt||(Ft.tabIndex=_),Ft.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Ft.setAttribute("aria-haspopup","dialog"),dt.noRotate&&Ft.classList.add("norotate");const{pageWidth:Bt,pageHeight:Kt,pageX:on,pageY:vn}=Tt.rawDims;if(!dt.rect||this instanceof gt){const{rotation:Rn}=dt;return!dt.hasOwnCanvas&&Rn!==0&&this.setRotation(Rn,Ft),Ft}const{width:yn,height:Ln}=$(dt.rect),_n=o.Util.normalizeRect([dt.rect[0],xt.view[3]-dt.rect[1]+xt.view[1],dt.rect[2],xt.view[3]-dt.rect[3]+xt.view[1]]);if(!Ct&&dt.borderStyle.width>0){Ft.style.borderWidth=`${dt.borderStyle.width}px`;const Rn=dt.borderStyle.horizontalCornerRadius,In=dt.borderStyle.verticalCornerRadius;if(Rn>0||In>0){const zn=`calc(${Rn}px * var(--scale-factor)) / calc(${In}px * var(--scale-factor))`;Ft.style.borderRadius=zn}else if(this instanceof rt){const zn=`calc(${yn}px * var(--scale-factor)) / calc(${Ln}px * var(--scale-factor))`;Ft.style.borderRadius=zn}switch(dt.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:Ft.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:Ft.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:Ft.style.borderBottomStyle="solid";break}const jn=dt.borderColor||null;jn?(Xt(this,pt,!0),Ft.style.borderColor=o.Util.makeHexColor(jn[0]|0,jn[1]|0,jn[2]|0)):Ft.style.borderWidth=0}Ft.style.left=`${100*(_n[0]-on)/Bt}%`,Ft.style.top=`${100*(_n[1]-vn)/Kt}%`;const{rotation:bn}=dt;return dt.hasOwnCanvas||bn===0?(Ft.style.width=`${100*yn/Bt}%`,Ft.style.height=`${100*Ln/Kt}%`):this.setRotation(bn,Ft),Ft}setRotation(Ct,dt=this.container){if(!this.data.rect)return;const{pageWidth:xt,pageHeight:Tt}=this.parent.viewport.rawDims,{width:Ft,height:Bt}=$(this.data.rect);let Kt,on;Ct%180===0?(Kt=100*Ft/xt,on=100*Bt/Tt):(Kt=100*Bt/xt,on=100*Ft/Tt),dt.style.width=`${Kt}%`,dt.style.height=`${on}%`,dt.setAttribute("data-main-rotation",(360-Ct)%360)}get _commonActions(){const Ct=(dt,xt,Tt)=>{const Ft=Tt.detail[dt],Bt=Ft[0],Kt=Ft.slice(1);Tt.target.style[xt]=d.ColorConverters[`${Bt}_HTML`](Kt),this.annotationStorage.setValue(this.data.id,{[xt]:d.ColorConverters[`${Bt}_rgb`](Kt)})};return(0,o.shadow)(this,"_commonActions",{display:dt=>{const{display:xt}=dt.detail,Tt=xt%2===1;this.container.style.visibility=Tt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Tt,noPrint:xt===1||xt===2})},print:dt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!dt.detail.print})},hidden:dt=>{const{hidden:xt}=dt.detail;this.container.style.visibility=xt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:xt,noView:xt})},focus:dt=>{setTimeout(()=>dt.target.focus({preventScroll:!1}),0)},userName:dt=>{dt.target.title=dt.detail.userName},readonly:dt=>{dt.target.disabled=dt.detail.readonly},required:dt=>{this._setRequired(dt.target,dt.detail.required)},bgColor:dt=>{Ct("bgColor","backgroundColor",dt)},fillColor:dt=>{Ct("fillColor","backgroundColor",dt)},fgColor:dt=>{Ct("fgColor","color",dt)},textColor:dt=>{Ct("textColor","color",dt)},borderColor:dt=>{Ct("borderColor","borderColor",dt)},strokeColor:dt=>{Ct("strokeColor","borderColor",dt)},rotation:dt=>{const xt=dt.detail.rotation;this.setRotation(xt),this.annotationStorage.setValue(this.data.id,{rotation:xt})}})}_dispatchEventFromSandbox(Ct,dt){const xt=this._commonActions;for(const Tt of Object.keys(dt.detail)){const Ft=Ct[Tt]||xt[Tt];Ft==null||Ft(dt)}}_setDefaultPropertiesFromJS(Ct){if(!this.enableScripting)return;const dt=this.annotationStorage.getRawValue(this.data.id);if(!dt)return;const xt=this._commonActions;for(const[Tt,Ft]of Object.entries(dt)){const Bt=xt[Tt];if(Bt){const Kt={detail:{[Tt]:Ft},target:Ct};Bt(Kt),delete dt[Tt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Ct}=this.data;if(!Ct)return;const[dt,xt,Tt,Ft]=this.data.rect;if(Ct.length===1){const[,{x:In,y:jn},{x:zn,y:Vn}]=Ct[0];if(Tt===In&&Ft===jn&&dt===zn&&xt===Vn)return}const{style:Bt}=this.container;let Kt;if(at(this,pt)){const{borderColor:In,borderWidth:jn}=Bt;Bt.borderWidth=0,Kt=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${In}" stroke-width="${jn}">`],this.container.classList.add("hasBorder")}const on=Tt-dt,vn=Ft-xt,{svgFactory:yn}=this,Ln=yn.createElement("svg");Ln.classList.add("quadrilateralsContainer"),Ln.setAttribute("width",0),Ln.setAttribute("height",0);const _n=yn.createElement("defs");Ln.append(_n);const bn=yn.createElement("clipPath"),Rn=`clippath_${this.data.id}`;bn.setAttribute("id",Rn),bn.setAttribute("clipPathUnits","objectBoundingBox"),_n.append(bn);for(const[,{x:In,y:jn},{x:zn,y:Vn}]of Ct){const Hn=yn.createElement("rect"),Wn=(zn-dt)/on,Yn=(Ft-jn)/vn,qn=(In-zn)/on,rr=(jn-Vn)/vn;Hn.setAttribute("x",Wn),Hn.setAttribute("y",Yn),Hn.setAttribute("width",qn),Hn.setAttribute("height",rr),bn.append(Hn),Kt==null||Kt.push(`<rect vector-effect="non-scaling-stroke" x="${Wn}" y="${Yn}" width="${qn}" height="${rr}"/>`)}at(this,pt)&&(Kt.push("</g></svg>')"),Bt.backgroundImage=Kt.join("")),this.container.append(Ln),this.container.style.clipPath=`url(#${Rn})`}_createPopup(){const{container:Ct,data:dt}=this;Ct.setAttribute("aria-haspopup","dialog");const xt=new gt({data:{color:dt.color,titleObj:dt.titleObj,modificationDate:dt.modificationDate,contentsObj:dt.contentsObj,richText:dt.richText,parentRect:dt.rect,borderStyle:0,id:`popup_${dt.id}`,rotation:dt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(xt.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Ct,dt=null){const xt=[];if(this._fieldObjects){const Tt=this._fieldObjects[Ct];if(Tt)for(const{page:Ft,id:Bt,exportValues:Kt}of Tt){if(Ft===-1||Bt===dt)continue;const on=typeof Kt=="string"?Kt:null,vn=document.querySelector(`[data-element-id="${Bt}"]`);if(vn&&!j.has(vn)){(0,o.warn)(`_getElementsByName - element not allowed: ${Bt}`);continue}xt.push({id:Bt,exportValue:on,domElement:vn})}return xt}for(const Tt of document.getElementsByName(Ct)){const{exportValue:Ft}=Tt,Bt=Tt.getAttribute("data-element-id");Bt!==dt&&j.has(Tt)&&xt.push({id:Bt,exportValue:Ft,domElement:Tt})}return xt}show(){var Ct;this.container&&(this.container.hidden=!1),(Ct=this.popup)==null||Ct.maybeShow()}hide(){var Ct;this.container&&(this.container.hidden=!0),(Ct=this.popup)==null||Ct.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Ct=this.getElementsToTriggerPopup();if(Array.isArray(Ct))for(const dt of Ct)dt.classList.add("highlightArea");else Ct.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Ct,data:{id:dt}}=this;this.container.addEventListener("dblclick",()=>{var xt;(xt=this.linkService.eventBus)==null||xt.dispatch("switchannotationeditormode",{source:this,mode:Ct,editId:dt})})}};pt=new WeakMap;let _e=ht;class nt extends _e{constructor(dt,xt=null){super(dt,{isRenderable:!0,ignoreBorder:!!(xt!=null&&xt.ignoreBorder),createQuadrilaterals:!0});Mt(this,vt);Mt(this,Et);this.isTooltipOnly=dt.data.isTooltipOnly}render(){const{data:dt,linkService:xt}=this,Tt=document.createElement("a");Tt.setAttribute("data-element-id",dt.id);let Ft=!1;return dt.url?(xt.addLinkAttributes(Tt,dt.url,dt.newWindow),Ft=!0):dt.action?(this._bindNamedAction(Tt,dt.action),Ft=!0):dt.attachment?(this._bindAttachment(Tt,dt.attachment),Ft=!0):dt.setOCGState?(Nt(this,Et,xr).call(this,Tt,dt.setOCGState),Ft=!0):dt.dest?(this._bindLink(Tt,dt.dest),Ft=!0):(dt.actions&&(dt.actions.Action||dt.actions["Mouse Up"]||dt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Tt,dt),Ft=!0),dt.resetForm?(this._bindResetFormAction(Tt,dt.resetForm),Ft=!0):this.isTooltipOnly&&!Ft&&(this._bindLink(Tt,""),Ft=!0)),this.container.classList.add("linkAnnotation"),Ft&&this.container.append(Tt),this.container}_bindLink(dt,xt){dt.href=this.linkService.getDestinationHash(xt),dt.onclick=()=>(xt&&this.linkService.goToDestination(xt),!1),(xt||xt==="")&&Nt(this,vt,Qn).call(this)}_bindNamedAction(dt,xt){dt.href=this.linkService.getAnchorUrl(""),dt.onclick=()=>(this.linkService.executeNamedAction(xt),!1),Nt(this,vt,Qn).call(this)}_bindAttachment(dt,xt){dt.href=this.linkService.getAnchorUrl(""),dt.onclick=()=>{var Tt;return(Tt=this.downloadManager)==null||Tt.openOrDownloadData(this.container,xt.content,xt.filename),!1},Nt(this,vt,Qn).call(this)}_bindJSAction(dt,xt){dt.href=this.linkService.getAnchorUrl("");const Tt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Ft of Object.keys(xt.actions)){const Bt=Tt.get(Ft);Bt&&(dt[Bt]=()=>{var Kt;return(Kt=this.linkService.eventBus)==null||Kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xt.id,name:Ft}}),!1})}dt.onclick||(dt.onclick=()=>!1),Nt(this,vt,Qn).call(this)}_bindResetFormAction(dt,xt){const Tt=dt.onclick;if(Tt||(dt.href=this.linkService.getAnchorUrl("")),Nt(this,vt,Qn).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Tt||(dt.onclick=()=>!1);return}dt.onclick=()=>{var Ln;Tt==null||Tt();const{fields:Ft,refs:Bt,include:Kt}=xt,on=[];if(Ft.length!==0||Bt.length!==0){const _n=new Set(Bt);for(const bn of Ft){const Rn=this._fieldObjects[bn]||[];for(const{id:In}of Rn)_n.add(In)}for(const bn of Object.values(this._fieldObjects))for(const Rn of bn)_n.has(Rn.id)===Kt&&on.push(Rn)}else for(const _n of Object.values(this._fieldObjects))on.push(..._n);const vn=this.annotationStorage,yn=[];for(const _n of on){const{id:bn}=_n;switch(yn.push(bn),_n.type){case"text":{const In=_n.defaultValue||"";vn.setValue(bn,{value:In});break}case"checkbox":case"radiobutton":{const In=_n.defaultValue===_n.exportValues;vn.setValue(bn,{value:In});break}case"combobox":case"listbox":{const In=_n.defaultValue||"";vn.setValue(bn,{value:In});break}default:continue}const Rn=document.querySelector(`[data-element-id="${bn}"]`);if(Rn){if(!j.has(Rn)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${bn}`);continue}}else continue;Rn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Ln=this.linkService.eventBus)==null||Ln.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:yn,name:"ResetForm"}})),!1}}}vt=new WeakSet,Qn=function(){this.container.setAttribute("data-internal-link","")},Et=new WeakSet,xr=function(dt,xt){dt.href=this.linkService.getAnchorUrl(""),dt.onclick=()=>(this.linkService.executeSetOCGState(xt),!1),Nt(this,vt,Qn).call(this)};class st extends _e{constructor(Ct){super(Ct,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Ct=document.createElement("img");return Ct.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Ct.alt="[{{type}} Annotation]",Ct.dataset.l10nId="text_annotation_type",Ct.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Ct),this.container}}class tt extends _e{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Ct){var dt;this.data.hasOwnCanvas&&(((dt=Ct.previousSibling)==null?void 0:dt.nodeName)==="CANVAS"&&(Ct.previousSibling.hidden=!0),Ct.hidden=!1)}_getKeyModifier(Ct){const{isWin:dt,isMac:xt}=o.FeatureTest.platform;return dt&&Ct.ctrlKey||xt&&Ct.metaKey}_setEventListener(Ct,dt,xt,Tt,Ft){xt.includes("mouse")?Ct.addEventListener(xt,Bt=>{var Kt;(Kt=this.linkService.eventBus)==null||Kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Tt,value:Ft(Bt),shift:Bt.shiftKey,modifier:this._getKeyModifier(Bt)}})}):Ct.addEventListener(xt,Bt=>{var Kt;if(xt==="blur"){if(!dt.focused||!Bt.relatedTarget)return;dt.focused=!1}else if(xt==="focus"){if(dt.focused)return;dt.focused=!0}Ft&&((Kt=this.linkService.eventBus)==null||Kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Tt,value:Ft(Bt)}}))})}_setEventListeners(Ct,dt,xt,Tt){var Ft,Bt,Kt;for(const[on,vn]of xt)(vn==="Action"||(Ft=this.data.actions)!=null&&Ft[vn])&&((vn==="Focus"||vn==="Blur")&&(dt||(dt={focused:!1})),this._setEventListener(Ct,dt,on,vn,Tt),vn==="Focus"&&!((Bt=this.data.actions)!=null&&Bt.Blur)?this._setEventListener(Ct,dt,"blur","Blur",null):vn==="Blur"&&!((Kt=this.data.actions)!=null&&Kt.Focus)&&this._setEventListener(Ct,dt,"focus","Focus",null))}_setBackgroundColor(Ct){const dt=this.data.backgroundColor||null;Ct.style.backgroundColor=dt===null?"transparent":o.Util.makeHexColor(dt[0],dt[1],dt[2])}_setTextStyle(Ct){const dt=["left","center","right"],{fontColor:xt}=this.data.defaultAppearanceData,Tt=this.data.defaultAppearanceData.fontSize||b,Ft=Ct.style;let Bt;const Kt=2,on=vn=>Math.round(10*vn)/10;if(this.data.multiLine){const vn=Math.abs(this.data.rect[3]-this.data.rect[1]-Kt),yn=Math.round(vn/(o.LINE_FACTOR*Tt))||1,Ln=vn/yn;Bt=Math.min(Tt,on(Ln/o.LINE_FACTOR))}else{const vn=Math.abs(this.data.rect[3]-this.data.rect[1]-Kt);Bt=Math.min(Tt,on(vn/o.LINE_FACTOR))}Ft.fontSize=`calc(${Bt}px * var(--scale-factor))`,Ft.color=o.Util.makeHexColor(xt[0],xt[1],xt[2]),this.data.textAlignment!==null&&(Ft.textAlign=dt[this.data.textAlignment])}_setRequired(Ct,dt){dt?Ct.setAttribute("required",!0):Ct.removeAttribute("required"),Ct.setAttribute("aria-required",dt)}}class it extends tt{constructor(Ct){const dt=Ct.renderForms||!Ct.data.hasAppearance&&!!Ct.data.fieldValue;super(Ct,{isRenderable:dt})}setPropertyOnSiblings(Ct,dt,xt,Tt){const Ft=this.annotationStorage;for(const Bt of this._getElementsByName(Ct.name,Ct.id))Bt.domElement&&(Bt.domElement[dt]=xt),Ft.setValue(Bt.id,{[Tt]:xt})}render(){var Tt,Ft;const Ct=this.annotationStorage,dt=this.data.id;this.container.classList.add("textWidgetAnnotation");let xt=null;if(this.renderForms){const Bt=Ct.getValue(dt,{value:this.data.fieldValue});let Kt=Bt.value||"";const on=Ct.getValue(dt,{charLimit:this.data.maxLen}).charLimit;on&&Kt.length>on&&(Kt=Kt.slice(0,on));let vn=Bt.formattedValue||((Tt=this.data.textContent)==null?void 0:Tt.join(`
`))||null;vn&&this.data.comb&&(vn=vn.replaceAll(/\s+/g,""));const yn={userValue:Kt,formattedValue:vn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(xt=document.createElement("textarea"),xt.textContent=vn??Kt,this.data.doNotScroll&&(xt.style.overflowY="hidden")):(xt=document.createElement("input"),xt.type="text",xt.setAttribute("value",vn??Kt),this.data.doNotScroll&&(xt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(xt.hidden=!0),j.add(xt),xt.setAttribute("data-element-id",dt),xt.disabled=this.data.readOnly,xt.name=this.data.fieldName,xt.tabIndex=_,this._setRequired(xt,this.data.required),on&&(xt.maxLength=on),xt.addEventListener("input",_n=>{Ct.setValue(dt,{value:_n.target.value}),this.setPropertyOnSiblings(xt,"value",_n.target.value,"value"),yn.formattedValue=null}),xt.addEventListener("resetform",_n=>{const bn=this.data.defaultFieldValue??"";xt.value=yn.userValue=bn,yn.formattedValue=null});let Ln=_n=>{const{formattedValue:bn}=yn;bn!=null&&(_n.target.value=bn),_n.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){xt.addEventListener("focus",bn=>{if(yn.focused)return;const{target:Rn}=bn;yn.userValue&&(Rn.value=yn.userValue),yn.lastCommittedValue=Rn.value,yn.commitKey=1,yn.focused=!0}),xt.addEventListener("updatefromsandbox",bn=>{this.showElementAndHideCanvas(bn.target);const Rn={value(In){yn.userValue=In.detail.value??"",Ct.setValue(dt,{value:yn.userValue.toString()}),In.target.value=yn.userValue},formattedValue(In){const{formattedValue:jn}=In.detail;yn.formattedValue=jn,jn!=null&&In.target!==document.activeElement&&(In.target.value=jn),Ct.setValue(dt,{formattedValue:jn})},selRange(In){In.target.setSelectionRange(...In.detail.selRange)},charLimit:In=>{var Hn;const{charLimit:jn}=In.detail,{target:zn}=In;if(jn===0){zn.removeAttribute("maxLength");return}zn.setAttribute("maxLength",jn);let Vn=yn.userValue;!Vn||Vn.length<=jn||(Vn=Vn.slice(0,jn),zn.value=yn.userValue=Vn,Ct.setValue(dt,{value:Vn}),(Hn=this.linkService.eventBus)==null||Hn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:dt,name:"Keystroke",value:Vn,willCommit:!0,commitKey:1,selStart:zn.selectionStart,selEnd:zn.selectionEnd}}))}};this._dispatchEventFromSandbox(Rn,bn)}),xt.addEventListener("keydown",bn=>{var jn;yn.commitKey=1;let Rn=-1;if(bn.key==="Escape"?Rn=0:bn.key==="Enter"&&!this.data.multiLine?Rn=2:bn.key==="Tab"&&(yn.commitKey=3),Rn===-1)return;const{value:In}=bn.target;yn.lastCommittedValue!==In&&(yn.lastCommittedValue=In,yn.userValue=In,(jn=this.linkService.eventBus)==null||jn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:dt,name:"Keystroke",value:In,willCommit:!0,commitKey:Rn,selStart:bn.target.selectionStart,selEnd:bn.target.selectionEnd}}))});const _n=Ln;Ln=null,xt.addEventListener("blur",bn=>{var In;if(!yn.focused||!bn.relatedTarget)return;yn.focused=!1;const{value:Rn}=bn.target;yn.userValue=Rn,yn.lastCommittedValue!==Rn&&((In=this.linkService.eventBus)==null||In.dispatch("dispatcheventinsandbox",{source:this,detail:{id:dt,name:"Keystroke",value:Rn,willCommit:!0,commitKey:yn.commitKey,selStart:bn.target.selectionStart,selEnd:bn.target.selectionEnd}})),_n(bn)}),(Ft=this.data.actions)!=null&&Ft.Keystroke&&xt.addEventListener("beforeinput",bn=>{var Yn;yn.lastCommittedValue=null;const{data:Rn,target:In}=bn,{value:jn,selectionStart:zn,selectionEnd:Vn}=In;let Hn=zn,Wn=Vn;switch(bn.inputType){case"deleteWordBackward":{const qn=jn.substring(0,zn).match(/\w*[^\w]*$/);qn&&(Hn-=qn[0].length);break}case"deleteWordForward":{const qn=jn.substring(zn).match(/^[^\w]*\w*/);qn&&(Wn+=qn[0].length);break}case"deleteContentBackward":zn===Vn&&(Hn-=1);break;case"deleteContentForward":zn===Vn&&(Wn+=1);break}bn.preventDefault(),(Yn=this.linkService.eventBus)==null||Yn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:dt,name:"Keystroke",value:jn,change:Rn||"",willCommit:!1,selStart:Hn,selEnd:Wn}})}),this._setEventListeners(xt,yn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],bn=>bn.target.value)}if(Ln&&xt.addEventListener("blur",Ln),this.data.comb){const bn=(this.data.rect[2]-this.data.rect[0])/on;xt.classList.add("comb"),xt.style.letterSpacing=`calc(${bn}px * var(--scale-factor) - 1ch)`}}else xt=document.createElement("div"),xt.textContent=this.data.fieldValue,xt.style.verticalAlign="middle",xt.style.display="table-cell";return this._setTextStyle(xt),this._setBackgroundColor(xt),this._setDefaultPropertiesFromJS(xt),this.container.append(xt),this.container}}class ot extends tt{constructor(Ct){super(Ct,{isRenderable:!!Ct.data.hasOwnCanvas})}}class ct extends tt{constructor(Ct){super(Ct,{isRenderable:Ct.renderForms})}render(){const Ct=this.annotationStorage,dt=this.data,xt=dt.id;let Tt=Ct.getValue(xt,{value:dt.exportValue===dt.fieldValue}).value;typeof Tt=="string"&&(Tt=Tt!=="Off",Ct.setValue(xt,{value:Tt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Ft=document.createElement("input");return j.add(Ft),Ft.setAttribute("data-element-id",xt),Ft.disabled=dt.readOnly,this._setRequired(Ft,this.data.required),Ft.type="checkbox",Ft.name=dt.fieldName,Tt&&Ft.setAttribute("checked",!0),Ft.setAttribute("exportValue",dt.exportValue),Ft.tabIndex=_,Ft.addEventListener("change",Bt=>{const{name:Kt,checked:on}=Bt.target;for(const vn of this._getElementsByName(Kt,xt)){const yn=on&&vn.exportValue===dt.exportValue;vn.domElement&&(vn.domElement.checked=yn),Ct.setValue(vn.id,{value:yn})}Ct.setValue(xt,{value:on})}),Ft.addEventListener("resetform",Bt=>{const Kt=dt.defaultFieldValue||"Off";Bt.target.checked=Kt===dt.exportValue}),this.enableScripting&&this.hasJSActions&&(Ft.addEventListener("updatefromsandbox",Bt=>{const Kt={value(on){on.target.checked=on.detail.value!=="Off",Ct.setValue(xt,{value:on.target.checked})}};this._dispatchEventFromSandbox(Kt,Bt)}),this._setEventListeners(Ft,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Bt=>Bt.target.checked)),this._setBackgroundColor(Ft),this._setDefaultPropertiesFromJS(Ft),this.container.append(Ft),this.container}}class rt extends tt{constructor(Ct){super(Ct,{isRenderable:Ct.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Ct=this.annotationStorage,dt=this.data,xt=dt.id;let Tt=Ct.getValue(xt,{value:dt.fieldValue===dt.buttonValue}).value;typeof Tt=="string"&&(Tt=Tt!==dt.buttonValue,Ct.setValue(xt,{value:Tt}));const Ft=document.createElement("input");if(j.add(Ft),Ft.setAttribute("data-element-id",xt),Ft.disabled=dt.readOnly,this._setRequired(Ft,this.data.required),Ft.type="radio",Ft.name=dt.fieldName,Tt&&Ft.setAttribute("checked",!0),Ft.tabIndex=_,Ft.addEventListener("change",Bt=>{const{name:Kt,checked:on}=Bt.target;for(const vn of this._getElementsByName(Kt,xt))Ct.setValue(vn.id,{value:!1});Ct.setValue(xt,{value:on})}),Ft.addEventListener("resetform",Bt=>{const Kt=dt.defaultFieldValue;Bt.target.checked=Kt!=null&&Kt===dt.buttonValue}),this.enableScripting&&this.hasJSActions){const Bt=dt.buttonValue;Ft.addEventListener("updatefromsandbox",Kt=>{const on={value:vn=>{const yn=Bt===vn.detail.value;for(const Ln of this._getElementsByName(vn.target.name)){const _n=yn&&Ln.id===xt;Ln.domElement&&(Ln.domElement.checked=_n),Ct.setValue(Ln.id,{value:_n})}}};this._dispatchEventFromSandbox(on,Kt)}),this._setEventListeners(Ft,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Kt=>Kt.target.checked)}return this._setBackgroundColor(Ft),this._setDefaultPropertiesFromJS(Ft),this.container.append(Ft),this.container}}class lt extends nt{constructor(Ct){super(Ct,{ignoreBorder:Ct.data.hasAppearance})}render(){const Ct=super.render();Ct.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Ct.title=this.data.alternativeText);const dt=Ct.lastChild;return this.enableScripting&&this.hasJSActions&&dt&&(this._setDefaultPropertiesFromJS(dt),dt.addEventListener("updatefromsandbox",xt=>{this._dispatchEventFromSandbox({},xt)})),Ct}}class mt extends tt{constructor(Ct){super(Ct,{isRenderable:Ct.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Ct=this.annotationStorage,dt=this.data.id,xt=Ct.getValue(dt,{value:this.data.fieldValue}),Tt=document.createElement("select");j.add(Tt),Tt.setAttribute("data-element-id",dt),Tt.disabled=this.data.readOnly,this._setRequired(Tt,this.data.required),Tt.name=this.data.fieldName,Tt.tabIndex=_;let Ft=this.data.combo&&this.data.options.length>0;this.data.combo||(Tt.size=this.data.options.length,this.data.multiSelect&&(Tt.multiple=!0)),Tt.addEventListener("resetform",yn=>{const Ln=this.data.defaultFieldValue;for(const _n of Tt.options)_n.selected=_n.value===Ln});for(const yn of this.data.options){const Ln=document.createElement("option");Ln.textContent=yn.displayValue,Ln.value=yn.exportValue,xt.value.includes(yn.exportValue)&&(Ln.setAttribute("selected",!0),Ft=!1),Tt.append(Ln)}let Bt=null;if(Ft){const yn=document.createElement("option");yn.value=" ",yn.setAttribute("hidden",!0),yn.setAttribute("selected",!0),Tt.prepend(yn),Bt=()=>{yn.remove(),Tt.removeEventListener("input",Bt),Bt=null},Tt.addEventListener("input",Bt)}const Kt=yn=>{const Ln=yn?"value":"textContent",{options:_n,multiple:bn}=Tt;return bn?Array.prototype.filter.call(_n,Rn=>Rn.selected).map(Rn=>Rn[Ln]):_n.selectedIndex===-1?null:_n[_n.selectedIndex][Ln]};let on=Kt(!1);const vn=yn=>{const Ln=yn.target.options;return Array.prototype.map.call(Ln,_n=>({displayValue:_n.textContent,exportValue:_n.value}))};return this.enableScripting&&this.hasJSActions?(Tt.addEventListener("updatefromsandbox",yn=>{const Ln={value(_n){Bt==null||Bt();const bn=_n.detail.value,Rn=new Set(Array.isArray(bn)?bn:[bn]);for(const In of Tt.options)In.selected=Rn.has(In.value);Ct.setValue(dt,{value:Kt(!0)}),on=Kt(!1)},multipleSelection(_n){Tt.multiple=!0},remove(_n){const bn=Tt.options,Rn=_n.detail.remove;bn[Rn].selected=!1,Tt.remove(Rn),bn.length>0&&Array.prototype.findIndex.call(bn,jn=>jn.selected)===-1&&(bn[0].selected=!0),Ct.setValue(dt,{value:Kt(!0),items:vn(_n)}),on=Kt(!1)},clear(_n){for(;Tt.length!==0;)Tt.remove(0);Ct.setValue(dt,{value:null,items:[]}),on=Kt(!1)},insert(_n){const{index:bn,displayValue:Rn,exportValue:In}=_n.detail.insert,jn=Tt.children[bn],zn=document.createElement("option");zn.textContent=Rn,zn.value=In,jn?jn.before(zn):Tt.append(zn),Ct.setValue(dt,{value:Kt(!0),items:vn(_n)}),on=Kt(!1)},items(_n){const{items:bn}=_n.detail;for(;Tt.length!==0;)Tt.remove(0);for(const Rn of bn){const{displayValue:In,exportValue:jn}=Rn,zn=document.createElement("option");zn.textContent=In,zn.value=jn,Tt.append(zn)}Tt.options.length>0&&(Tt.options[0].selected=!0),Ct.setValue(dt,{value:Kt(!0),items:vn(_n)}),on=Kt(!1)},indices(_n){const bn=new Set(_n.detail.indices);for(const Rn of _n.target.options)Rn.selected=bn.has(Rn.index);Ct.setValue(dt,{value:Kt(!0)}),on=Kt(!1)},editable(_n){_n.target.disabled=!_n.detail.editable}};this._dispatchEventFromSandbox(Ln,yn)}),Tt.addEventListener("input",yn=>{var _n;const Ln=Kt(!0);Ct.setValue(dt,{value:Ln}),yn.preventDefault(),(_n=this.linkService.eventBus)==null||_n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:dt,name:"Keystroke",value:on,changeEx:Ln,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Tt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],yn=>yn.target.value)):Tt.addEventListener("input",function(yn){Ct.setValue(dt,{value:Kt(!0)})}),this.data.combo&&this._setTextStyle(Tt),this._setBackgroundColor(Tt),this._setDefaultPropertiesFromJS(Tt),this.container.append(Tt),this.container}}class gt extends _e{constructor(Ct){const{data:dt,elements:xt}=Ct;super(Ct,{isRenderable:_e._hasPopupData(dt)}),this.elements=xt}render(){this.container.classList.add("popupAnnotation");const Ct=new ft({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),dt=[];for(const xt of this.elements)xt.popup=Ct,dt.push(xt.data.id),xt.addHighlightArea();return this.container.setAttribute("aria-controls",dt.map(xt=>`${o.AnnotationPrefix}${xt}`).join(",")),this.container}}class ft{constructor({container:Ct,color:dt,elements:xt,titleObj:Tt,modificationDate:Ft,contentsObj:Bt,richText:Kt,parent:on,rect:vn,parentRect:yn,open:Ln}){Mt(this,Pn);Mt(this,Cn);Mt(this,Mn);Mt(this,Fn);Mt(this,Rt,null);Mt(this,Gt,Nt(this,Pn,Sr).bind(this));Mt(this,Ht,Nt(this,Fn,Ys).bind(this));Mt(this,qt,Nt(this,Mn,Xs).bind(this));Mt(this,Jt,Nt(this,Cn,ys).bind(this));Mt(this,nn,null);Mt(this,Qt,null);Mt(this,gn,null);Mt(this,Sn,null);Mt(this,un,null);Mt(this,xn,null);Mt(this,sn,!1);Mt(this,Vt,null);Mt(this,Wt,null);Mt(this,en,null);Mt(this,fn,null);Mt(this,pn,!1);var bn;Xt(this,Qt,Ct),Xt(this,fn,Tt),Xt(this,gn,Bt),Xt(this,en,Kt),Xt(this,un,on),Xt(this,nn,dt),Xt(this,Wt,vn),Xt(this,xn,yn),Xt(this,Sn,xt);const _n=a.PDFDateString.toDateObject(Ft);_n&&Xt(this,Rt,on.l10n.get("annotation_date_string",{date:_n.toLocaleDateString(),time:_n.toLocaleTimeString()})),this.trigger=xt.flatMap(Rn=>Rn.getElementsToTriggerPopup());for(const Rn of this.trigger)Rn.addEventListener("click",at(this,Jt)),Rn.addEventListener("mouseenter",at(this,qt)),Rn.addEventListener("mouseleave",at(this,Ht)),Rn.classList.add("popupTriggerArea");for(const Rn of xt)(bn=Rn.container)==null||bn.addEventListener("keydown",at(this,Gt));at(this,Qt).hidden=!0,Ln&&Nt(this,Cn,ys).call(this)}render(){if(at(this,Vt))return;const{page:{view:Ct},viewport:{rawDims:{pageWidth:dt,pageHeight:xt,pageX:Tt,pageY:Ft}}}=at(this,un),Bt=Xt(this,Vt,document.createElement("div"));if(Bt.className="popup",at(this,nn)){const Hn=Bt.style.outlineColor=o.Util.makeHexColor(...at(this,nn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Bt.style.backgroundColor=`color-mix(in srgb, ${Hn} 30%, white)`:Bt.style.backgroundColor=o.Util.makeHexColor(...at(this,nn).map(Yn=>Math.floor(.7*(255-Yn)+Yn)))}const Kt=document.createElement("span");Kt.className="header";const on=document.createElement("h1");if(Kt.append(on),{dir:on.dir,str:on.textContent}=at(this,fn),Bt.append(Kt),at(this,Rt)){const Hn=document.createElement("span");Hn.classList.add("popupDate"),at(this,Rt).then(Wn=>{Hn.textContent=Wn}),Kt.append(Hn)}const vn=at(this,gn),yn=at(this,en);if(yn!=null&&yn.str&&(!(vn!=null&&vn.str)||vn.str===yn.str))g.XfaLayer.render({xfaHtml:yn.html,intent:"richText",div:Bt}),Bt.lastChild.classList.add("richText","popupContent");else{const Hn=this._formatContents(vn);Bt.append(Hn)}let Ln=!!at(this,xn),_n=Ln?at(this,xn):at(this,Wt);for(const Hn of at(this,Sn))if(!_n||o.Util.intersect(Hn.data.rect,_n)!==null){_n=Hn.data.rect,Ln=!0;break}const bn=o.Util.normalizeRect([_n[0],Ct[3]-_n[1]+Ct[1],_n[2],Ct[3]-_n[3]+Ct[1]]),In=Ln?_n[2]-_n[0]+5:0,jn=bn[0]+In,zn=bn[1],{style:Vn}=at(this,Qt);Vn.left=`${100*(jn-Tt)/dt}%`,Vn.top=`${100*(zn-Ft)/xt}%`,at(this,Qt).append(Bt)}_formatContents({str:Ct,dir:dt}){const xt=document.createElement("p");xt.classList.add("popupContent"),xt.dir=dt;const Tt=Ct.split(/(?:\r\n?|\n)/);for(let Ft=0,Bt=Tt.length;Ft<Bt;++Ft){const Kt=Tt[Ft];xt.append(document.createTextNode(Kt)),Ft<Bt-1&&xt.append(document.createElement("br"))}return xt}forceHide(){Xt(this,pn,this.isVisible),at(this,pn)&&(at(this,Qt).hidden=!0)}maybeShow(){at(this,pn)&&(Xt(this,pn,!1),at(this,Qt).hidden=!1)}get isVisible(){return at(this,Qt).hidden===!1}}Rt=new WeakMap,Gt=new WeakMap,Ht=new WeakMap,qt=new WeakMap,Jt=new WeakMap,nn=new WeakMap,Qt=new WeakMap,gn=new WeakMap,Sn=new WeakMap,un=new WeakMap,xn=new WeakMap,sn=new WeakMap,Vt=new WeakMap,Wt=new WeakMap,en=new WeakMap,fn=new WeakMap,pn=new WeakMap,Pn=new WeakSet,Sr=function(Ct){Ct.altKey||Ct.shiftKey||Ct.ctrlKey||Ct.metaKey||(Ct.key==="Enter"||Ct.key==="Escape"&&at(this,sn))&&Nt(this,Cn,ys).call(this)},Cn=new WeakSet,ys=function(){Xt(this,sn,!at(this,sn)),at(this,sn)?(Nt(this,Mn,Xs).call(this),at(this,Qt).addEventListener("click",at(this,Jt)),at(this,Qt).addEventListener("keydown",at(this,Gt))):(Nt(this,Fn,Ys).call(this),at(this,Qt).removeEventListener("click",at(this,Jt)),at(this,Qt).removeEventListener("keydown",at(this,Gt)))},Mn=new WeakSet,Xs=function(){at(this,Vt)||this.render(),this.isVisible?at(this,sn)&&at(this,Qt).classList.add("focused"):(at(this,Qt).hidden=!1,at(this,Qt).style.zIndex=parseInt(at(this,Qt).style.zIndex)+1e3)},Fn=new WeakSet,Ys=function(){at(this,Qt).classList.remove("focused"),!(at(this,sn)||!this.isVisible)&&(at(this,Qt).hidden=!0,at(this,Qt).style.zIndex=parseInt(at(this,Qt).style.zIndex)-1e3)};class yt extends _e{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Ct.data.textContent,this.textPosition=Ct.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Ct=document.createElement("div");Ct.classList.add("annotationTextContent"),Ct.setAttribute("role","comment");for(const dt of this.textContent){const xt=document.createElement("span");xt.textContent=dt,Ct.append(xt)}this.container.append(Ct)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=yt;class _t extends _e{constructor(dt){super(dt,{isRenderable:!0,ignoreBorder:!0});Mt(this,Ut,null)}render(){this.container.classList.add("lineAnnotation");const dt=this.data,{width:xt,height:Tt}=$(dt.rect),Ft=this.svgFactory.create(xt,Tt,!0),Bt=Xt(this,Ut,this.svgFactory.createElement("svg:line"));return Bt.setAttribute("x1",dt.rect[2]-dt.lineCoordinates[0]),Bt.setAttribute("y1",dt.rect[3]-dt.lineCoordinates[1]),Bt.setAttribute("x2",dt.rect[2]-dt.lineCoordinates[2]),Bt.setAttribute("y2",dt.rect[3]-dt.lineCoordinates[3]),Bt.setAttribute("stroke-width",dt.borderStyle.width||1),Bt.setAttribute("stroke","transparent"),Bt.setAttribute("fill","transparent"),Ft.append(Bt),this.container.append(Ft),!dt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,Ut)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ut=new WeakMap;class kt extends _e{constructor(dt){super(dt,{isRenderable:!0,ignoreBorder:!0});Mt(this,jt,null)}render(){this.container.classList.add("squareAnnotation");const dt=this.data,{width:xt,height:Tt}=$(dt.rect),Ft=this.svgFactory.create(xt,Tt,!0),Bt=dt.borderStyle.width,Kt=Xt(this,jt,this.svgFactory.createElement("svg:rect"));return Kt.setAttribute("x",Bt/2),Kt.setAttribute("y",Bt/2),Kt.setAttribute("width",xt-Bt),Kt.setAttribute("height",Tt-Bt),Kt.setAttribute("stroke-width",Bt||1),Kt.setAttribute("stroke","transparent"),Kt.setAttribute("fill","transparent"),Ft.append(Kt),this.container.append(Ft),!dt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,jt)}addHighlightArea(){this.container.classList.add("highlightArea")}}jt=new WeakMap;class Ot extends _e{constructor(dt){super(dt,{isRenderable:!0,ignoreBorder:!0});Mt(this,an,null)}render(){this.container.classList.add("circleAnnotation");const dt=this.data,{width:xt,height:Tt}=$(dt.rect),Ft=this.svgFactory.create(xt,Tt,!0),Bt=dt.borderStyle.width,Kt=Xt(this,an,this.svgFactory.createElement("svg:ellipse"));return Kt.setAttribute("cx",xt/2),Kt.setAttribute("cy",Tt/2),Kt.setAttribute("rx",xt/2-Bt/2),Kt.setAttribute("ry",Tt/2-Bt/2),Kt.setAttribute("stroke-width",Bt||1),Kt.setAttribute("stroke","transparent"),Kt.setAttribute("fill","transparent"),Ft.append(Kt),this.container.append(Ft),!dt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,an)}addHighlightArea(){this.container.classList.add("highlightArea")}}an=new WeakMap;class St extends _e{constructor(dt){super(dt,{isRenderable:!0,ignoreBorder:!0});Mt(this,cn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const dt=this.data,{width:xt,height:Tt}=$(dt.rect),Ft=this.svgFactory.create(xt,Tt,!0);let Bt=[];for(const on of dt.vertices){const vn=on.x-dt.rect[0],yn=dt.rect[3]-on.y;Bt.push(vn+","+yn)}Bt=Bt.join(" ");const Kt=Xt(this,cn,this.svgFactory.createElement(this.svgElementName));return Kt.setAttribute("points",Bt),Kt.setAttribute("stroke-width",dt.borderStyle.width||1),Kt.setAttribute("stroke","transparent"),Kt.setAttribute("fill","transparent"),Ft.append(Kt),this.container.append(Ft),!dt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,cn)}addHighlightArea(){this.container.classList.add("highlightArea")}}cn=new WeakMap;class Dt extends St{constructor(Ct){super(Ct),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class It extends _e{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class zt extends _e{constructor(dt){super(dt,{isRenderable:!0,ignoreBorder:!0});Mt(this,Un,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const dt=this.data,{width:xt,height:Tt}=$(dt.rect),Ft=this.svgFactory.create(xt,Tt,!0);for(const Bt of dt.inkLists){let Kt=[];for(const vn of Bt){const yn=vn.x-dt.rect[0],Ln=dt.rect[3]-vn.y;Kt.push(`${yn},${Ln}`)}Kt=Kt.join(" ");const on=this.svgFactory.createElement(this.svgElementName);at(this,Un).push(on),on.setAttribute("points",Kt),on.setAttribute("stroke-width",dt.borderStyle.width||1),on.setAttribute("stroke","transparent"),on.setAttribute("fill","transparent"),!dt.popupRef&&this.hasPopupData&&this._createPopup(),Ft.append(on)}return this.container.append(Ft),this.container}getElementsToTriggerPopup(){return at(this,Un)}addHighlightArea(){this.container.classList.add("highlightArea")}}Un=new WeakMap,e.InkAnnotationElement=zt;class wt extends _e{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Lt extends _e{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Yt extends _e{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class tn extends _e{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class rn extends _e{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=rn;class At extends _e{constructor(dt){var Ft;super(dt,{isRenderable:!0});Mt(this,$t);Mt(this,$n,null);const{filename:xt,content:Tt}=this.data.file;this.filename=(0,a.getFilenameFromUrl)(xt,!0),this.content=Tt,(Ft=this.linkService.eventBus)==null||Ft.dispatch("fileattachmentannotation",{source:this,filename:xt,content:Tt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:dt,data:xt}=this;let Tt;xt.hasAppearance||xt.fillAlpha===0?Tt=document.createElement("div"):(Tt=document.createElement("img"),Tt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(xt.name)?"paperclip":"pushpin"}.svg`,xt.fillAlpha&&xt.fillAlpha<1&&(Tt.style=`filter: opacity(${Math.round(xt.fillAlpha*100)}%);`)),Tt.addEventListener("dblclick",Nt(this,$t,qs).bind(this)),Xt(this,$n,Tt);const{isMac:Ft}=o.FeatureTest.platform;return dt.addEventListener("keydown",Bt=>{Bt.key==="Enter"&&(Ft?Bt.metaKey:Bt.ctrlKey)&&Nt(this,$t,qs).call(this)}),!xt.popupRef&&this.hasPopupData?this._createPopup():Tt.classList.add("popupTriggerArea"),dt.append(Tt),dt}getElementsToTriggerPopup(){return at(this,$n)}addHighlightArea(){this.container.classList.add("highlightArea")}}$n=new WeakMap,$t=new WeakSet,qs=function(){var dt;(dt=this.downloadManager)==null||dt.openOrDownloadData(this.container,this.content,this.filename)};class ut{constructor({div:Ct,accessibilityManager:dt,annotationCanvasMap:xt,l10n:Tt,page:Ft,viewport:Bt}){Mt(this,kn);Mt(this,ln);Mt(this,An,null);Mt(this,mn,null);Mt(this,wn,new Map);this.div=Ct,Xt(this,An,dt),Xt(this,mn,xt),this.l10n=Tt,this.page=Ft,this.viewport=Bt,this.zIndex=0,this.l10n||(this.l10n=h.NullL10n)}async render(Ct){const{annotations:dt}=Ct,xt=this.div;(0,a.setLayerDimensions)(xt,this.viewport);const Tt=new Map,Ft={data:null,layer:xt,linkService:Ct.linkService,downloadManager:Ct.downloadManager,imageResourcesPath:Ct.imageResourcesPath||"",renderForms:Ct.renderForms!==!1,svgFactory:new a.DOMSVGFactory,annotationStorage:Ct.annotationStorage||new c.AnnotationStorage,enableScripting:Ct.enableScripting===!0,hasJSActions:Ct.hasJSActions,fieldObjects:Ct.fieldObjects,parent:this,elements:null};for(const Bt of dt){if(Bt.noHTML)continue;const Kt=Bt.annotationType===o.AnnotationType.POPUP;if(Kt){const yn=Tt.get(Bt.id);if(!yn)continue;Ft.elements=yn}else{const{width:yn,height:Ln}=$(Bt.rect);if(yn<=0||Ln<=0)continue}Ft.data=Bt;const on=et.create(Ft);if(!on.isRenderable)continue;if(!Kt&&Bt.popupRef){const yn=Tt.get(Bt.popupRef);yn?yn.push(on):Tt.set(Bt.popupRef,[on])}on.annotationEditorType>0&&at(this,wn).set(on.data.id,on);const vn=on.render();Bt.hidden&&(vn.style.visibility="hidden"),Nt(this,kn,Er).call(this,vn,Bt.id)}Nt(this,ln,Ks).call(this),await this.l10n.translate(xt)}update({viewport:Ct}){const dt=this.div;this.viewport=Ct,(0,a.setLayerDimensions)(dt,{rotation:Ct.rotation}),Nt(this,ln,Ks).call(this),dt.hidden=!1}getEditableAnnotations(){return Array.from(at(this,wn).values())}getEditableAnnotation(Ct){return at(this,wn).get(Ct)}}An=new WeakMap,mn=new WeakMap,wn=new WeakMap,kn=new WeakSet,Er=function(Ct,dt){var Tt;const xt=Ct.firstChild||Ct;xt.id=`${o.AnnotationPrefix}${dt}`,this.div.append(Ct),(Tt=at(this,An))==null||Tt.moveElementInDOM(this.div,Ct,xt,!1)},ln=new WeakSet,Ks=function(){if(!at(this,mn))return;const Ct=this.div;for(const[dt,xt]of at(this,mn)){const Tt=Ct.querySelector(`[data-annotation-id="${dt}"]`);if(!Tt)continue;const{firstChild:Ft}=Tt;Ft?Ft.nodeName==="CANVAS"?Ft.replaceWith(xt):Ft.before(xt):Tt.append(xt)}at(this,mn).clear()},e.AnnotationLayer=ut},(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function s(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function o(c){return Math.max(0,Math.min(255,255*c))}class a{static CMYK_G([d,h,g,_]){return["G",1-Math.min(1,.3*d+.59*g+.11*h+_)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=o(d),[d,d,d]}static G_HTML([d]){const h=s(d);return`#${h}${h}${h}`}static RGB_G([d,h,g]){return["G",.3*d+.59*h+.11*g]}static RGB_rgb(d){return d.map(o)}static RGB_HTML(d){return`#${d.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,h,g,_]){return["RGB",1-Math.min(1,d+_),1-Math.min(1,g+_),1-Math.min(1,h+_)]}static CMYK_rgb([d,h,g,_]){return[o(1-Math.min(1,d+_)),o(1-Math.min(1,g+_)),o(1-Math.min(1,h+_))]}static CMYK_HTML(d){const h=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(h)}static RGB_CMYK([d,h,g]){const _=1-d,b=1-h,j=1-g,$=Math.min(_,b,j);return["CMYK",_,b,j,$]}}e.ColorConverters=a},(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=o;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function o(d,h){switch(d){case"find_match_count":d=`find_match_count[${h.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${h.limit===1?"one":"other"}]`;break}return s[d]||""}function a(d,h){return h?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(g,_)=>_ in h?h[_]:"{{"+_+"}}"):d}const c={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,h=null,g=o(d,h)){return a(g,h)},async translate(d){}};e.NullL10n=c},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var o=s(25);class a{static setupStorage(d,h,g,_,b){const j=_.getValue(h,{value:null});switch(g.name){case"textarea":if(j.value!==null&&(d.textContent=j.value),b==="print")break;d.addEventListener("input",$=>{_.setValue(h,{value:$.target.value})});break;case"input":if(g.attributes.type==="radio"||g.attributes.type==="checkbox"){if(j.value===g.attributes.xfaOn?d.setAttribute("checked",!0):j.value===g.attributes.xfaOff&&d.removeAttribute("checked"),b==="print")break;d.addEventListener("change",$=>{_.setValue(h,{value:$.target.checked?$.target.getAttribute("xfaOn"):$.target.getAttribute("xfaOff")})})}else{if(j.value!==null&&d.setAttribute("value",j.value),b==="print")break;d.addEventListener("input",$=>{_.setValue(h,{value:$.target.value})})}break;case"select":if(j.value!==null){d.setAttribute("value",j.value);for(const $ of g.children)$.attributes.value===j.value?$.attributes.selected=!0:$.attributes.hasOwnProperty("selected")&&delete $.attributes.selected}d.addEventListener("input",$=>{const et=$.target.options,_e=et.selectedIndex===-1?"":et[et.selectedIndex].value;_.setValue(h,{value:_e})});break}}static setAttributes({html:d,element:h,storage:g=null,intent:_,linkService:b}){const{attributes:j}=h,$=d instanceof HTMLAnchorElement;j.type==="radio"&&(j.name=`${j.name}-${_}`);for(const[et,_e]of Object.entries(j))if(_e!=null)switch(et){case"class":_e.length&&d.setAttribute(et,_e.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",_e);break;case"style":Object.assign(d.style,_e);break;case"textContent":d.textContent=_e;break;default:(!$||et!=="href"&&et!=="newWindow")&&d.setAttribute(et,_e)}$&&b.addLinkAttributes(d,j.href,j.newWindow),g&&j.dataId&&this.setupStorage(d,j.dataId,h,g)}static render(d){var nt;const h=d.annotationStorage,g=d.linkService,_=d.xfaHtml,b=d.intent||"display",j=document.createElement(_.name);_.attributes&&this.setAttributes({html:j,element:_,intent:b,linkService:g});const $=[[_,-1,j]],et=d.div;if(et.append(j),d.viewport){const st=`matrix(${d.viewport.transform.join(",")})`;et.style.transform=st}b!=="richText"&&et.setAttribute("class","xfaLayer xfaFont");const _e=[];for(;$.length>0;){const[st,tt,it]=$.at(-1);if(tt+1===st.children.length){$.pop();continue}const ot=st.children[++$.at(-1)[1]];if(ot===null)continue;const{name:ct}=ot;if(ct==="#text"){const lt=document.createTextNode(ot.value);_e.push(lt),it.append(lt);continue}const rt=(nt=ot==null?void 0:ot.attributes)!=null&&nt.xmlns?document.createElementNS(ot.attributes.xmlns,ct):document.createElement(ct);if(it.append(rt),ot.attributes&&this.setAttributes({html:rt,element:ot,storage:h,intent:b,linkService:g}),ot.children&&ot.children.length>0)$.push([ot,-1,rt]);else if(ot.value){const lt=document.createTextNode(ot.value);o.XfaText.shouldBuildText(ct)&&_e.push(lt),rt.append(lt)}}for(const st of et.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))st.setAttribute("readOnly",!0);return{textDivs:_e}}static update(d){const h=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=h,d.div.hidden=!1}}e.XfaLayer=a},(i,e,s)=>{var _,b,j,$,et,_e,nt,st,tt,it,ot,ct,rt,lt,mt,Ar,ft,wr,_t,kr,Ot,Pr,Dt,Qs,zt,Cr,Lt,Js,tn,Tr,At,Rr,pt,Mr,vt,Or,Et,Dr,Rt,Xn,Ht,Zs,Jt,vs,Qt,_s,Sn,es,xn,er,Vt,bs,en,Fr,pn,tr,On,Lr,Dn,Ir,Tn,nr,Zt,xs,jt,ts;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var o=s(1),a=s(4),c=s(29),d=s(6),h=s(5);const cn=class cn extends a.AnnotationEditor{constructor($t){super({...$t,name:"inkEditor"});Mt(this,mt);Mt(this,ft);Mt(this,_t);Mt(this,Ot);Mt(this,Dt);Mt(this,zt);Mt(this,Lt);Mt(this,tn);Mt(this,At);Mt(this,pt);Mt(this,vt);Mt(this,Et);Mt(this,Rt);Mt(this,Ht);Mt(this,Jt);Mt(this,Qt);Mt(this,Sn);Mt(this,xn);Mt(this,Vt);Mt(this,Dn);Mt(this,Tn);Mt(this,Zt);Mt(this,jt);Mt(this,_,0);Mt(this,b,0);Mt(this,j,this.canvasPointermove.bind(this));Mt(this,$,this.canvasPointerleave.bind(this));Mt(this,et,this.canvasPointerup.bind(this));Mt(this,_e,this.canvasPointerdown.bind(this));Mt(this,nt,new Path2D);Mt(this,st,!1);Mt(this,tt,!1);Mt(this,it,!1);Mt(this,ot,null);Mt(this,ct,0);Mt(this,rt,0);Mt(this,lt,null);this.color=$t.color||null,this.thickness=$t.thickness||null,this.opacity=$t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize($t){a.AnnotationEditor.initialize($t,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams($t,hn){switch($t){case o.AnnotationEditorParamsType.INK_THICKNESS:cn._defaultThickness=hn;break;case o.AnnotationEditorParamsType.INK_COLOR:cn._defaultColor=hn;break;case o.AnnotationEditorParamsType.INK_OPACITY:cn._defaultOpacity=hn/100;break}}updateParams($t,hn){switch($t){case o.AnnotationEditorParamsType.INK_THICKNESS:Nt(this,mt,Ar).call(this,hn);break;case o.AnnotationEditorParamsType.INK_COLOR:Nt(this,ft,wr).call(this,hn);break;case o.AnnotationEditorParamsType.INK_OPACITY:Nt(this,_t,kr).call(this,hn);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,cn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,cn._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(cn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||cn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||cn._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??cn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Nt(this,Jt,vs).call(this),Nt(this,Qt,_s).call(this)),this.isAttachedToDOM||(this.parent.add(this),Nt(this,Sn,es).call(this)),Nt(this,jt,ts).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,at(this,ot).disconnect(),Xt(this,ot,null),super.remove())}setParent($t){!this.parent&&$t?this._uiManager.removeShouldRescale(this):this.parent&&$t===null&&this._uiManager.addShouldRescale(this),super.setParent($t)}onScaleChanging(){const[$t,hn]=this.parentDimensions,An=this.width*$t,mn=this.height*hn;this.setDimensions(An,mn)}enableEditMode(){at(this,st)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",at(this,_e)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",at(this,_e)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){at(this,st)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Xt(this,st,!0),this.div.classList.add("disabled"),Nt(this,jt,ts).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin($t){this._focusEventsAllowed&&(super.focusin($t),this.enableEditMode())}canvasPointerdown($t){$t.button!==0||!this.isInEditMode()||at(this,st)||(this.setInForeground(),$t.preventDefault(),$t.type!=="mouse"&&this.div.focus(),Nt(this,zt,Cr).call(this,$t.offsetX,$t.offsetY))}canvasPointermove($t){$t.preventDefault(),Nt(this,Lt,Js).call(this,$t.offsetX,$t.offsetY)}canvasPointerup($t){$t.preventDefault(),Nt(this,Ht,Zs).call(this,$t)}canvasPointerleave($t){Nt(this,Ht,Zs).call(this,$t)}get isResizable(){return!this.isEmpty()&&at(this,st)}render(){if(this.div)return this.div;let $t,hn;this.width&&($t=this.x,hn=this.y),super.render(),a.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Bn=>{var ln;return(ln=this.div)==null?void 0:ln.setAttribute("aria-label",Bn)});const[An,mn,wn,kn]=Nt(this,Ot,Pr).call(this);if(this.setAt(An,mn,0,0),this.setDims(wn,kn),Nt(this,Jt,vs).call(this),this.width){const[Bn,ln]=this.parentDimensions;this.setAspectRatio(this.width*Bn,this.height*ln),this.setAt($t*Bn,hn*ln,this.width*Bn,this.height*ln),Xt(this,it,!0),Nt(this,Sn,es).call(this),this.setDims(this.width*Bn,this.height*ln),Nt(this,Rt,Xn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Nt(this,Qt,_s).call(this),this.div}setDimensions($t,hn){const An=Math.round($t),mn=Math.round(hn);if(at(this,ct)===An&&at(this,rt)===mn)return;Xt(this,ct,An),Xt(this,rt,mn),this.canvas.style.visibility="hidden";const[wn,kn]=this.parentDimensions;this.width=$t/wn,this.height=hn/kn,this.fixAndSetPosition(),at(this,st)&&Nt(this,xn,er).call(this,$t,hn),Nt(this,Sn,es).call(this),Nt(this,Rt,Xn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize($t,hn,An){var Ft,Bt,Kt;if($t instanceof c.InkAnnotationElement)return null;const mn=super.deserialize($t,hn,An);mn.thickness=$t.thickness,mn.color=o.Util.makeHexColor(...$t.color),mn.opacity=$t.opacity;const[wn,kn]=mn.pageDimensions,Bn=mn.width*wn,ln=mn.height*kn,Nn=mn.parentScale,En=$t.thickness/2;Xt(mn,st,!0),Xt(mn,ct,Math.round(Bn)),Xt(mn,rt,Math.round(ln));const{paths:Ct,rect:dt,rotation:xt}=$t;for(let{bezier:on}of Ct){on=Nt(Ft=cn,On,Lr).call(Ft,on,dt,xt);const vn=[];mn.paths.push(vn);let yn=Nn*(on[0]-En),Ln=Nn*(on[1]-En);for(let bn=2,Rn=on.length;bn<Rn;bn+=6){const In=Nn*(on[bn]-En),jn=Nn*(on[bn+1]-En),zn=Nn*(on[bn+2]-En),Vn=Nn*(on[bn+3]-En),Hn=Nn*(on[bn+4]-En),Wn=Nn*(on[bn+5]-En);vn.push([[yn,Ln],[In,jn],[zn,Vn],[Hn,Wn]]),yn=Hn,Ln=Wn}const _n=Nt(this,en,Fr).call(this,vn);mn.bezierPath2D.push(_n)}const Tt=Nt(Bt=mn,Tn,nr).call(Bt);return Xt(mn,b,Math.max(a.AnnotationEditor.MIN_SIZE,Tt[2]-Tt[0])),Xt(mn,_,Math.max(a.AnnotationEditor.MIN_SIZE,Tt[3]-Tt[1])),Nt(Kt=mn,xn,er).call(Kt,Bn,ln),mn}serialize(){if(this.isEmpty())return null;const $t=this.getRect(0,0),hn=a.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:hn,thickness:this.thickness,opacity:this.opacity,paths:Nt(this,Dn,Ir).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,$t),pageIndex:this.pageIndex,rect:$t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};_=new WeakMap,b=new WeakMap,j=new WeakMap,$=new WeakMap,et=new WeakMap,_e=new WeakMap,nt=new WeakMap,st=new WeakMap,tt=new WeakMap,it=new WeakMap,ot=new WeakMap,ct=new WeakMap,rt=new WeakMap,lt=new WeakMap,mt=new WeakSet,Ar=function($t){const hn=this.thickness;this.addCommands({cmd:()=>{this.thickness=$t,Nt(this,jt,ts).call(this)},undo:()=>{this.thickness=hn,Nt(this,jt,ts).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},ft=new WeakSet,wr=function($t){const hn=this.color;this.addCommands({cmd:()=>{this.color=$t,Nt(this,Rt,Xn).call(this)},undo:()=>{this.color=hn,Nt(this,Rt,Xn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_t=new WeakSet,kr=function($t){$t/=100;const hn=this.opacity;this.addCommands({cmd:()=>{this.opacity=$t,Nt(this,Rt,Xn).call(this)},undo:()=>{this.opacity=hn,Nt(this,Rt,Xn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ot=new WeakSet,Pr=function(){const{parentRotation:$t,parentDimensions:[hn,An]}=this;switch($t){case 90:return[0,An,An,hn];case 180:return[hn,An,hn,An];case 270:return[hn,0,An,hn];default:return[0,0,hn,An]}},Dt=new WeakSet,Qs=function(){const{ctx:$t,color:hn,opacity:An,thickness:mn,parentScale:wn,scaleFactor:kn}=this;$t.lineWidth=mn*wn/kn,$t.lineCap="round",$t.lineJoin="round",$t.miterLimit=10,$t.strokeStyle=`${hn}${(0,h.opacityToHex)(An)}`},zt=new WeakSet,Cr=function($t,hn){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",at(this,$)),this.canvas.addEventListener("pointermove",at(this,j)),this.canvas.addEventListener("pointerup",at(this,et)),this.canvas.removeEventListener("pointerdown",at(this,_e)),this.isEditing=!0,at(this,it)||(Xt(this,it,!0),Nt(this,Sn,es).call(this),this.thickness||(this.thickness=cn._defaultThickness),this.color||(this.color=cn._defaultColor||a.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=cn._defaultOpacity)),this.currentPath.push([$t,hn]),Xt(this,tt,!1),Nt(this,Dt,Qs).call(this),Xt(this,lt,()=>{Nt(this,pt,Mr).call(this),at(this,lt)&&window.requestAnimationFrame(at(this,lt))}),window.requestAnimationFrame(at(this,lt))},Lt=new WeakSet,Js=function($t,hn){const[An,mn]=this.currentPath.at(-1);if(this.currentPath.length>1&&$t===An&&hn===mn)return;const wn=this.currentPath;let kn=at(this,nt);if(wn.push([$t,hn]),Xt(this,tt,!0),wn.length<=2){kn.moveTo(...wn[0]),kn.lineTo($t,hn);return}wn.length===3&&(Xt(this,nt,kn=new Path2D),kn.moveTo(...wn[0])),Nt(this,vt,Or).call(this,kn,...wn.at(-3),...wn.at(-2),$t,hn)},tn=new WeakSet,Tr=function(){if(this.currentPath.length===0)return;const $t=this.currentPath.at(-1);at(this,nt).lineTo(...$t)},At=new WeakSet,Rr=function($t,hn){Xt(this,lt,null),$t=Math.min(Math.max($t,0),this.canvas.width),hn=Math.min(Math.max(hn,0),this.canvas.height),Nt(this,Lt,Js).call(this,$t,hn),Nt(this,tn,Tr).call(this);let An;if(this.currentPath.length!==1)An=Nt(this,Et,Dr).call(this);else{const ln=[$t,hn];An=[[ln,ln.slice(),ln.slice(),ln]]}const mn=at(this,nt),wn=this.currentPath;this.currentPath=[],Xt(this,nt,new Path2D);const kn=()=>{this.allRawPaths.push(wn),this.paths.push(An),this.bezierPath2D.push(mn),this.rebuild()},Bn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Nt(this,Jt,vs).call(this),Nt(this,Qt,_s).call(this)),Nt(this,jt,ts).call(this))};this.addCommands({cmd:kn,undo:Bn,mustExec:!0})},pt=new WeakSet,Mr=function(){if(!at(this,tt))return;Xt(this,tt,!1);const $t=Math.ceil(this.thickness*this.parentScale),hn=this.currentPath.slice(-3),An=hn.map(kn=>kn[0]),mn=hn.map(kn=>kn[1]);Math.min(...An)-$t,Math.max(...An)+$t,Math.min(...mn)-$t,Math.max(...mn)+$t;const{ctx:wn}=this;wn.save(),wn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const kn of this.bezierPath2D)wn.stroke(kn);wn.stroke(at(this,nt)),wn.restore()},vt=new WeakSet,Or=function($t,hn,An,mn,wn,kn,Bn){const ln=(hn+mn)/2,Nn=(An+wn)/2,En=(mn+kn)/2,Ct=(wn+Bn)/2;$t.bezierCurveTo(ln+2*(mn-ln)/3,Nn+2*(wn-Nn)/3,En+2*(mn-En)/3,Ct+2*(wn-Ct)/3,En,Ct)},Et=new WeakSet,Dr=function(){const $t=this.currentPath;if($t.length<=2)return[[$t[0],$t[0],$t.at(-1),$t.at(-1)]];const hn=[];let An,[mn,wn]=$t[0];for(An=1;An<$t.length-2;An++){const[dt,xt]=$t[An],[Tt,Ft]=$t[An+1],Bt=(dt+Tt)/2,Kt=(xt+Ft)/2,on=[mn+2*(dt-mn)/3,wn+2*(xt-wn)/3],vn=[Bt+2*(dt-Bt)/3,Kt+2*(xt-Kt)/3];hn.push([[mn,wn],on,vn,[Bt,Kt]]),[mn,wn]=[Bt,Kt]}const[kn,Bn]=$t[An],[ln,Nn]=$t[An+1],En=[mn+2*(kn-mn)/3,wn+2*(Bn-wn)/3],Ct=[ln+2*(kn-ln)/3,Nn+2*(Bn-Nn)/3];return hn.push([[mn,wn],En,Ct,[ln,Nn]]),hn},Rt=new WeakSet,Xn=function(){if(this.isEmpty()){Nt(this,Vt,bs).call(this);return}Nt(this,Dt,Qs).call(this);const{canvas:$t,ctx:hn}=this;hn.setTransform(1,0,0,1,0,0),hn.clearRect(0,0,$t.width,$t.height),Nt(this,Vt,bs).call(this);for(const An of this.bezierPath2D)hn.stroke(An)},Ht=new WeakSet,Zs=function($t){this.canvas.removeEventListener("pointerleave",at(this,$)),this.canvas.removeEventListener("pointermove",at(this,j)),this.canvas.removeEventListener("pointerup",at(this,et)),this.canvas.addEventListener("pointerdown",at(this,_e)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),Nt(this,At,Rr).call(this,$t.offsetX,$t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Jt=new WeakSet,vs=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",a.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then($t=>{var hn;return(hn=this.canvas)==null?void 0:hn.setAttribute("aria-label",$t)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Qt=new WeakSet,_s=function(){Xt(this,ot,new ResizeObserver($t=>{const hn=$t[0].contentRect;hn.width&&hn.height&&this.setDimensions(hn.width,hn.height)})),at(this,ot).observe(this.div)},Sn=new WeakSet,es=function(){if(!at(this,it))return;const[$t,hn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*$t),this.canvas.height=Math.ceil(this.height*hn),Nt(this,Vt,bs).call(this)},xn=new WeakSet,er=function($t,hn){const An=Nt(this,Zt,xs).call(this),mn=($t-An)/at(this,b),wn=(hn-An)/at(this,_);this.scaleFactor=Math.min(mn,wn)},Vt=new WeakSet,bs=function(){const $t=Nt(this,Zt,xs).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+$t,this.translationY*this.scaleFactor+$t)},en=new WeakSet,Fr=function($t){const hn=new Path2D;for(let An=0,mn=$t.length;An<mn;An++){const[wn,kn,Bn,ln]=$t[An];An===0&&hn.moveTo(...wn),hn.bezierCurveTo(kn[0],kn[1],Bn[0],Bn[1],ln[0],ln[1])}return hn},pn=new WeakSet,tr=function($t,hn,An){const[mn,wn,kn,Bn]=hn;switch(An){case 0:for(let ln=0,Nn=$t.length;ln<Nn;ln+=2)$t[ln]+=mn,$t[ln+1]=Bn-$t[ln+1];break;case 90:for(let ln=0,Nn=$t.length;ln<Nn;ln+=2){const En=$t[ln];$t[ln]=$t[ln+1]+mn,$t[ln+1]=En+wn}break;case 180:for(let ln=0,Nn=$t.length;ln<Nn;ln+=2)$t[ln]=kn-$t[ln],$t[ln+1]+=wn;break;case 270:for(let ln=0,Nn=$t.length;ln<Nn;ln+=2){const En=$t[ln];$t[ln]=kn-$t[ln+1],$t[ln+1]=Bn-En}break;default:throw new Error("Invalid rotation")}return $t},On=new WeakSet,Lr=function($t,hn,An){const[mn,wn,kn,Bn]=hn;switch(An){case 0:for(let ln=0,Nn=$t.length;ln<Nn;ln+=2)$t[ln]-=mn,$t[ln+1]=Bn-$t[ln+1];break;case 90:for(let ln=0,Nn=$t.length;ln<Nn;ln+=2){const En=$t[ln];$t[ln]=$t[ln+1]-wn,$t[ln+1]=En-mn}break;case 180:for(let ln=0,Nn=$t.length;ln<Nn;ln+=2)$t[ln]=kn-$t[ln],$t[ln+1]-=wn;break;case 270:for(let ln=0,Nn=$t.length;ln<Nn;ln+=2){const En=$t[ln];$t[ln]=Bn-$t[ln+1],$t[ln+1]=kn-En}break;default:throw new Error("Invalid rotation")}return $t},Dn=new WeakSet,Ir=function($t,hn,An,mn){var Nn,En;const wn=[],kn=this.thickness/2,Bn=$t*hn+kn,ln=$t*An+kn;for(const Ct of this.paths){const dt=[],xt=[];for(let Tt=0,Ft=Ct.length;Tt<Ft;Tt++){const[Bt,Kt,on,vn]=Ct[Tt],yn=$t*Bt[0]+Bn,Ln=$t*Bt[1]+ln,_n=$t*Kt[0]+Bn,bn=$t*Kt[1]+ln,Rn=$t*on[0]+Bn,In=$t*on[1]+ln,jn=$t*vn[0]+Bn,zn=$t*vn[1]+ln;Tt===0&&(dt.push(yn,Ln),xt.push(yn,Ln)),dt.push(_n,bn,Rn,In,jn,zn),xt.push(_n,bn),Tt===Ft-1&&xt.push(jn,zn)}wn.push({bezier:Nt(Nn=cn,pn,tr).call(Nn,dt,mn,this.rotation),points:Nt(En=cn,pn,tr).call(En,xt,mn,this.rotation)})}return wn},Tn=new WeakSet,nr=function(){let $t=1/0,hn=-1/0,An=1/0,mn=-1/0;for(const wn of this.paths)for(const[kn,Bn,ln,Nn]of wn){const En=o.Util.bezierBoundingBox(...kn,...Bn,...ln,...Nn);$t=Math.min($t,En[0]),An=Math.min(An,En[1]),hn=Math.max(hn,En[2]),mn=Math.max(mn,En[3])}return[$t,An,hn,mn]},Zt=new WeakSet,xs=function(){return at(this,st)?Math.ceil(this.thickness*this.parentScale):0},jt=new WeakSet,ts=function($t=!1){if(this.isEmpty())return;if(!at(this,st)){Nt(this,Rt,Xn).call(this);return}const hn=Nt(this,Tn,nr).call(this),An=Nt(this,Zt,xs).call(this);Xt(this,b,Math.max(a.AnnotationEditor.MIN_SIZE,hn[2]-hn[0])),Xt(this,_,Math.max(a.AnnotationEditor.MIN_SIZE,hn[3]-hn[1]));const mn=Math.ceil(An+at(this,b)*this.scaleFactor),wn=Math.ceil(An+at(this,_)*this.scaleFactor),[kn,Bn]=this.parentDimensions;this.width=mn/kn,this.height=wn/Bn,this.setAspectRatio(mn,wn);const ln=this.translationX,Nn=this.translationY;this.translationX=-hn[0],this.translationY=-hn[1],Nt(this,Sn,es).call(this),Nt(this,Rt,Xn).call(this),Xt(this,ct,mn),Xt(this,rt,wn),this.setDims(mn,wn);const En=$t?An/this.scaleFactor/2:0;this.translate(ln-this.translationX-En,Nn-this.translationY-En)},Mt(cn,en),Mt(cn,pn),Mt(cn,On),dn(cn,"_defaultColor",null),dn(cn,"_defaultOpacity",1),dn(cn,"_defaultThickness",1),dn(cn,"_type","ink");let g=cn;e.InkEditor=g},(i,e,s)=>{var g,_,b,j,$,et,_e,nt,st,tt,it,ls,ct,cs,lt,Ss,gt,ir,yt,Nr,kt,jr,St,sr,It,Es,wt,Br;Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var o=s(1),a=s(4),c=s(6),d=s(29);const Yt=class Yt extends a.AnnotationEditor{constructor(At){super({...At,name:"stampEditor"});Mt(this,it);Mt(this,ct);Mt(this,lt);Mt(this,gt);Mt(this,yt);Mt(this,kt);Mt(this,St);Mt(this,It);Mt(this,wt);Mt(this,g,null);Mt(this,_,null);Mt(this,b,null);Mt(this,j,null);Mt(this,$,null);Mt(this,et,null);Mt(this,_e,null);Mt(this,nt,null);Mt(this,st,!1);Mt(this,tt,!1);Xt(this,j,At.bitmapUrl),Xt(this,$,At.bitmapFile)}static initialize(At){a.AnnotationEditor.initialize(At)}static get supportedTypes(){const At=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",At.map(ut=>`image/${ut}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(At){return this.supportedTypes.includes(At)}static paste(At,ut){ut.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:At.getAsFile()})}remove(){var At,ut;at(this,_)&&(Xt(this,g,null),this._uiManager.imageManager.deleteId(at(this,_)),(At=at(this,et))==null||At.remove(),Xt(this,et,null),(ut=at(this,_e))==null||ut.disconnect(),Xt(this,_e,null)),super.remove()}rebuild(){if(!this.parent){at(this,_)&&Nt(this,lt,Ss).call(this);return}super.rebuild(),this.div!==null&&(at(this,_)&&Nt(this,lt,Ss).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(at(this,b)||at(this,g)||at(this,j)||at(this,$))}get isResizable(){return!0}render(){if(this.div)return this.div;let At,ut;if(this.width&&(At=this.x,ut=this.y),super.render(),this.div.hidden=!0,at(this,g)?Nt(this,gt,ir).call(this):Nt(this,lt,Ss).call(this),this.width){const[pt,ht]=this.parentDimensions;this.setAt(At*pt,ut*ht,this.width*pt,this.height*ht)}return this.div}static deserialize(At,ut,pt){if(At instanceof d.StampAnnotationElement)return null;const ht=super.deserialize(At,ut,pt),{rect:vt,bitmapUrl:bt,bitmapId:Et,isSvg:Pt,accessibilityData:Rt}=At;Et&&pt.imageManager.isValidId(Et)?Xt(ht,_,Et):Xt(ht,j,bt),Xt(ht,st,Pt);const[Gt,Ht]=ht.pageDimensions;return ht.width=(vt[2]-vt[0])/Gt,ht.height=(vt[3]-vt[1])/Ht,Rt&&(ht.altTextData=Rt),ht}serialize(At=!1,ut=null){if(this.isEmpty())return null;const pt={annotationType:o.AnnotationEditorType.STAMP,bitmapId:at(this,_),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:at(this,st),structTreeParentId:this._structTreeParentId};if(At)return pt.bitmapUrl=Nt(this,It,Es).call(this,!0),pt.accessibilityData=this.altTextData,pt;const{decorative:ht,altText:vt}=this.altTextData;if(!ht&&vt&&(pt.accessibilityData={type:"Figure",alt:vt}),ut===null)return pt;ut.stamps||(ut.stamps=new Map);const bt=at(this,st)?(pt.rect[2]-pt.rect[0])*(pt.rect[3]-pt.rect[1]):null;if(!ut.stamps.has(at(this,_)))ut.stamps.set(at(this,_),{area:bt,serialized:pt}),pt.bitmap=Nt(this,It,Es).call(this,!1);else if(at(this,st)){const Et=ut.stamps.get(at(this,_));bt>Et.area&&(Et.area=bt,Et.serialized.bitmap.close(),Et.serialized.bitmap=Nt(this,It,Es).call(this,!1))}return pt}};g=new WeakMap,_=new WeakMap,b=new WeakMap,j=new WeakMap,$=new WeakMap,et=new WeakMap,_e=new WeakMap,nt=new WeakMap,st=new WeakMap,tt=new WeakMap,it=new WeakSet,ls=function(At,ut=!1){if(!At){this.remove();return}Xt(this,g,At.bitmap),ut||(Xt(this,_,At.id),Xt(this,st,At.isSvg)),Nt(this,gt,ir).call(this)},ct=new WeakSet,cs=function(){Xt(this,b,null),this._uiManager.enableWaiting(!1),at(this,et)&&this.div.focus()},lt=new WeakSet,Ss=function(){if(at(this,_)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(at(this,_)).then(ut=>Nt(this,it,ls).call(this,ut,!0)).finally(()=>Nt(this,ct,cs).call(this));return}if(at(this,j)){const ut=at(this,j);Xt(this,j,null),this._uiManager.enableWaiting(!0),Xt(this,b,this._uiManager.imageManager.getFromUrl(ut).then(pt=>Nt(this,it,ls).call(this,pt)).finally(()=>Nt(this,ct,cs).call(this)));return}if(at(this,$)){const ut=at(this,$);Xt(this,$,null),this._uiManager.enableWaiting(!0),Xt(this,b,this._uiManager.imageManager.getFromFile(ut).then(pt=>Nt(this,it,ls).call(this,pt)).finally(()=>Nt(this,ct,cs).call(this)));return}const At=document.createElement("input");At.type="file",At.accept=Yt.supportedTypesStr,Xt(this,b,new Promise(ut=>{At.addEventListener("change",async()=>{if(!At.files||At.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const pt=await this._uiManager.imageManager.getFromFile(At.files[0]);Nt(this,it,ls).call(this,pt)}ut()}),At.addEventListener("cancel",()=>{this.remove(),ut()})}).finally(()=>Nt(this,ct,cs).call(this))),At.click()},gt=new WeakSet,ir=function(){const{div:At}=this;let{width:ut,height:pt}=at(this,g);const[ht,vt]=this.pageDimensions,bt=.75;if(this.width)ut=this.width*ht,pt=this.height*vt;else if(ut>bt*ht||pt>bt*vt){const Gt=Math.min(bt*ht/ut,bt*vt/pt);ut*=Gt,pt*=Gt}const[Et,Pt]=this.parentDimensions;this.setDims(ut*Et/ht,pt*Pt/vt),this._uiManager.enableWaiting(!1);const Rt=Xt(this,et,document.createElement("canvas"));At.append(Rt),At.hidden=!1,Nt(this,St,sr).call(this,ut,pt),Nt(this,wt,Br).call(this),at(this,tt)||(this.parent.addUndoableEditor(this),Xt(this,tt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},yt=new WeakSet,Nr=function(At,ut){var bt;const[pt,ht]=this.parentDimensions;this.width=At/pt,this.height=ut/ht,this.setDims(At,ut),(bt=this._initialOptions)!=null&&bt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,at(this,nt)!==null&&clearTimeout(at(this,nt)),Xt(this,nt,setTimeout(()=>{Xt(this,nt,null),Nt(this,St,sr).call(this,At,ut)},200))},kt=new WeakSet,jr=function(At,ut){const{width:pt,height:ht}=at(this,g);let vt=pt,bt=ht,Et=at(this,g);for(;vt>2*At||bt>2*ut;){const Pt=vt,Rt=bt;vt>2*At&&(vt=vt>=16384?Math.floor(vt/2)-1:Math.ceil(vt/2)),bt>2*ut&&(bt=bt>=16384?Math.floor(bt/2)-1:Math.ceil(bt/2));const Gt=new OffscreenCanvas(vt,bt);Gt.getContext("2d").drawImage(Et,0,0,Pt,Rt,0,0,vt,bt),Et=Gt.transferToImageBitmap()}return Et},St=new WeakSet,sr=function(At,ut){At=Math.ceil(At),ut=Math.ceil(ut);const pt=at(this,et);if(!pt||pt.width===At&&pt.height===ut)return;pt.width=At,pt.height=ut;const ht=at(this,st)?at(this,g):Nt(this,kt,jr).call(this,At,ut),vt=pt.getContext("2d");vt.filter=this._uiManager.hcmFilter,vt.drawImage(ht,0,0,ht.width,ht.height,0,0,At,ut)},It=new WeakSet,Es=function(At){if(At){if(at(this,st)){const ht=this._uiManager.imageManager.getSvgUrl(at(this,_));if(ht)return ht}const ut=document.createElement("canvas");return{width:ut.width,height:ut.height}=at(this,g),ut.getContext("2d").drawImage(at(this,g),0,0),ut.toDataURL()}if(at(this,st)){const[ut,pt]=this.pageDimensions,ht=Math.round(this.width*ut*c.PixelsPerInch.PDF_TO_CSS_UNITS),vt=Math.round(this.height*pt*c.PixelsPerInch.PDF_TO_CSS_UNITS),bt=new OffscreenCanvas(ht,vt);return bt.getContext("2d").drawImage(at(this,g),0,0,at(this,g).width,at(this,g).height,0,0,ht,vt),bt.transferToImageBitmap()}return structuredClone(at(this,g))},wt=new WeakSet,Br=function(){Xt(this,_e,new ResizeObserver(At=>{const ut=At[0].contentRect;ut.width&&ut.height&&Nt(this,yt,Nr).call(this,ut.width,ut.height)})),at(this,_e).observe(this.div)},dn(Yt,"_type","stamp");let h=Yt;e.StampEditor=h}],__webpack_module_cache__={};function __w_pdfjs_require__(i){var e=__webpack_module_cache__[i];if(e!==void 0)return e.exports;var s=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var i=__webpack_exports__;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(i,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(i,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(i,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(i,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(i,"AnnotationLayer",{enumerable:!0,get:function(){return h.AnnotationLayer}}),Object.defineProperty(i,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(i,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(i,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(i,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(i,"GlobalWorkerOptions",{enumerable:!0,get:function(){return g.GlobalWorkerOptions}}),Object.defineProperty(i,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(i,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(i,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(i,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(i,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(i,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(i,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(i,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(i,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(i,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(i,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(i,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(i,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(i,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(i,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(i,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(i,"XfaLayer",{enumerable:!0,get:function(){return _.XfaLayer}}),Object.defineProperty(i,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(i,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(i,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(i,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(i,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(i,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(i,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(i,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(i,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(i,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(i,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(i,"renderTextLayer",{enumerable:!0,get:function(){return a.renderTextLayer}}),Object.defineProperty(i,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(i,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(i,"updateTextLayer",{enumerable:!0,get:function(){return a.updateTextLayer}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return s.version}});var e=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),a=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),h=__w_pdfjs_require__(29),g=__w_pdfjs_require__(14),_=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function i(o,a,c,d,h,g){if(g!==ReactPropTypesSecret){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}i.isRequired=i;function e(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:e,element:i,elementType:i,instanceOf:e,node:i,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return s.PropTypes=s,s};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=function(i,e,s){if(s||arguments.length===2)for(var o=0,a=e.length,c;o<a;o++)(c||!(o in e))&&(c||(c=Array.prototype.slice.call(e,0,o)),c[o]=e[o]);return i.concat(c||Array.prototype.slice.call(e))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(i,e){var s={};return allEvents.forEach(function(o){var a=i[o];a&&(e?s[o]=function(c){return a(c,e(o))}:s[o]=a)}),s}function makeCancellablePromise(i){var e=!1,s=new Promise(function(o,a){i.then(function(c){return!e&&o(c)}).catch(function(c){return!e&&a(c)})});return{promise:s,cancel:function(){e=!0}}}function r(i){var e,s,o="";if(typeof i=="string"||typeof i=="number")o+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(e=0;e<a;e++)i[e]&&(s=r(i[e]))&&(o&&(o+=" "),o+=s)}else for(s in i)i[s]&&(o&&(o+=" "),o+=s);return o}function clsx(){for(var i,e,s=0,o="",a=arguments.length;s<a;s++)(i=arguments[s])&&(e=r(i))&&(o&&(o+=" "),o+=e);return o}var isProduction=!0,prefix="Invariant failed";function invariant(i,e){if(!i){if(isProduction)throw new Error(prefix);var s=typeof e=="function"?e():e,o=s?"".concat(prefix,": ").concat(s):prefix;throw new Error(o)}}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find(i,e,s){for(s of i.keys())if(dequal(s,e))return s}function dequal(i,e){var s,o,a;if(i===e)return!0;if(i&&e&&(s=i.constructor)===e.constructor){if(s===Date)return i.getTime()===e.getTime();if(s===RegExp)return i.toString()===e.toString();if(s===Array){if((o=i.length)===e.length)for(;o--&&dequal(i[o],e[o]););return o===-1}if(s===Set){if(i.size!==e.size)return!1;for(o of i)if(a=o,a&&typeof a=="object"&&(a=find(e,a),!a)||!e.has(a))return!1;return!0}if(s===Map){if(i.size!==e.size)return!1;for(o of i)if(a=o[0],a&&typeof a=="object"&&(a=find(e,a),!a)||!dequal(o[1],e.get(a)))return!1;return!0}if(s===ArrayBuffer)i=new Uint8Array(i),e=new Uint8Array(e);else if(s===DataView){if((o=i.byteLength)===e.byteLength)for(;o--&&i.getInt8(o)===e.getInt8(o););return o===-1}if(ArrayBuffer.isView(i)){if((o=i.byteLength)===e.byteLength)for(;o--&&i[o]===e[o];);return o===-1}if(!s||typeof i=="object"){o=0;for(s in i)if(has.call(i,s)&&++o&&!has.call(e,s)||!(s in e)||!dequal(i[s],e[s]))return!1;return Object.keys(e).length===o}}return i!==i&&e!==e}const DocumentContext=reactExports.createContext(null);function Message({children:i,type:e}){return React.createElement("div",{className:`react-pdf__message react-pdf__message--${e}`},i)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(s=>{invariant(this.pdfDocument,"PDF document not loaded."),invariant(e,"Destination is not specified."),typeof e=="string"?this.pdfDocument.getDestination(e).then(s):Array.isArray(e)?s(e):e.then(s)}).then(s=>{invariant(Array.isArray(s),`"${s}" is not a valid destination array.`);const o=s[0];new Promise(a=>{invariant(this.pdfDocument,"PDF document not loaded."),o instanceof Object?this.pdfDocument.getPageIndex(o).then(c=>{a(c)}).catch(()=>{invariant(!1,`"${o}" is not a valid page reference.`)}):typeof o=="number"?a(o):invariant(!1,`"${o}" is not a valid destination reference.`)}).then(a=>{const c=a+1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(c>=1&&c<=this.pagesCount,`"${c}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:s,pageIndex:a,pageNumber:c})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const s=e-1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:s,pageNumber:e})}addLinkAttributes(e,s,o){e.href=s,e.rel=this.externalLinkRel||DEFAULT_LINK_REL,e.target=o?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(i){return typeof i<"u"}function isProvided(i){return isDefined(i)&&i!==null}function isString(i){return typeof i=="string"}function isArrayBuffer(i){return i instanceof ArrayBuffer}function isBlob(i){return invariant(isBrowser,"isBlob can only be used in a browser environment"),i instanceof Blob}function isDataURI(i){return isString(i)&&/^data:/.test(i)}function dataURItoByteString(i){invariant(isDataURI(i),"Invalid data URI.");const[e="",s=""]=i.split(",");return e.split(";").indexOf("base64")!==-1?atob(s):unescape(s)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(i){i&&i.cancel&&i.cancel()}function makePageCallback(i,e){return Object.defineProperty(i,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function isCancelException(i){return i.name==="RenderingCancelledException"}function loadFromFile(i){return new Promise((e,s)=>{const o=new FileReader;o.onload=()=>{if(!o.result)return s(new Error("Error while reading a file."));e(o.result)},o.onerror=a=>{if(!a.target)return s(new Error("Error while reading a file."));const{error:c}=a.target;if(!c)return s(new Error("Error while reading a file."));switch(c.code){case c.NOT_FOUND_ERR:return s(new Error("Error while reading a file: File not found."));case c.SECURITY_ERR:return s(new Error("Error while reading a file: Security error."));case c.ABORT_ERR:return s(new Error("Error while reading a file: Aborted."));default:return s(new Error("Error while reading a file."))}},o.readAsArrayBuffer(i)})}function reducer(i,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const i={};return allEvents.forEach(e=>{i[e]=PropTypes.func}),i})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function i(e,s,o){const{[s]:a,pageNumber:c,pdf:d}=e;if(!isDefined(d))return null;if(isDefined(a)){if(typeof a!="number")return new Error(`\`${s}\` of type \`${typeof a}\` supplied to \`${o}\`, expected \`number\`.`);if(a<0)return new Error(`Expected \`${s}\` to be greater or equal to 0.`);const{numPages:h}=d;if(a+1>h)return new Error(`Expected \`${s}\` to be less or equal to ${h-1}.`)}else if(!isDefined(c))return new Error(`\`${s}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPageNumber=function i(e,s,o){const{[s]:a,pageIndex:c,pdf:d}=e;if(!isDefined(d))return null;if(isDefined(a)){if(typeof a!="number")return new Error(`\`${s}\` of type \`${typeof a}\` supplied to \`${o}\`, expected \`number\`.`);if(a<1)return new Error(`Expected \`${s}\` to be greater or equal to 1.`);const{numPages:h}=d;if(a>h)return new Error(`Expected \`${s}\` to be less or equal to ${h}.`)}else if(!isDefined(c))return new Error(`\`${s}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(i,e,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(b){try{_(o.next(b))}catch(j){d(j)}}function g(b){try{_(o.throw(b))}catch(j){d(j)}}function _(b){b.done?c(b.value):a(b.value).then(h,g)}_((o=o.apply(i,e||[])).next())})},__rest$1=function(i,e){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(i);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(i,o[a])&&(s[o[a]]=i[o[a]]);return s};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(i,e)=>{switch(e){case PasswordResponses.NEED_PASSWORD:{const s=prompt("Enter the password to open this PDF file.");i(s);break}case PasswordResponses.INCORRECT_PASSWORD:{const s=prompt("Invalid password. Please try again.");i(s);break}}};function isParameterObject(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const Document=reactExports.forwardRef(function i(e,s){var{children:o,className:a,error:c="Failed to load PDF file.",externalLinkRel:d,externalLinkTarget:h,file:g,inputRef:_,imageResourcesPath:b,loading:j="Loading PDF…",noData:$="No PDF file specified.",onItemClick:et,onLoadError:_e,onLoadProgress:nt,onLoadSuccess:st,onPassword:tt=defaultOnPassword,onSourceError:it,onSourceSuccess:ot,options:ct,renderMode:rt,rotate:lt}=e,mt=__rest$1(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[gt,ft]=useResolver(),{value:yt,error:_t}=gt,[kt,Ot]=useResolver(),{value:St,error:Dt}=kt,It=reactExports.useRef(new LinkService),zt=reactExports.useRef([]),wt=reactExports.useRef(),Lt=reactExports.useRef();reactExports.useEffect(()=>{g&&g!==wt.current&&isParameterObject(g)&&(warning$1(!dequal(g,wt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),wt.current=g)},[g]),reactExports.useEffect(()=>{ct&&ct!==Lt.current&&(warning$1(!dequal(ct,Lt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Lt.current=ct)},[ct]);const Yt=reactExports.useRef({scrollPageIntoView:nn=>{const{dest:Qt,pageNumber:gn,pageIndex:Sn=gn-1}=nn;if(et){et({dest:Qt,pageIndex:Sn,pageNumber:gn});return}const un=zt.current[Sn];if(un){un.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${gn} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(s,()=>({linkService:It,pages:zt,viewer:Yt}),[]);function tn(){ot&&ot()}function rn(){_t&&(warning$1(!1,_t.toString()),it&&it(_t))}function At(){ft({type:"RESET"})}reactExports.useEffect(At,[g,ft]);const ut=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!g)return null;if(typeof g=="string")return isDataURI(g)?{data:dataURItoByteString(g)}:(displayCORSWarning(),{url:g});if(g instanceof PDFDataRangeTransport)return{range:g};if(isArrayBuffer(g))return{data:g};if(isBrowser&&isBlob(g))return{data:yield loadFromFile(g)};if(invariant(typeof g=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant(isParameterObject(g),"Invalid parameter object: need either .data, .range or .url"),"url"in g&&typeof g.url=="string"){if(isDataURI(g.url)){const{url:nn}=g,Qt=__rest$1(g,["url"]),gn=dataURItoByteString(nn);return Object.assign({data:gn},Qt)}displayCORSWarning()}return g}),[g]);reactExports.useEffect(()=>{const nn=makeCancellablePromise(ut());return nn.promise.then(Qt=>{ft({type:"RESOLVE",value:Qt})}).catch(Qt=>{ft({type:"REJECT",error:Qt})}),()=>{cancelRunningTask(nn)}},[ut,ft]),reactExports.useEffect(()=>{if(!(typeof yt>"u")){if(yt===!1){rn();return}tn()}},[yt]);function pt(){St&&(st&&st(St),zt.current=new Array(St.numPages),It.current.setDocument(St))}function ht(){Dt&&(warning$1(!1,Dt.toString()),_e&&_e(Dt))}function vt(){Ot({type:"RESET"})}reactExports.useEffect(vt,[Ot,yt]);function bt(){if(!yt)return;const nn=ct?Object.assign(Object.assign({},yt),ct):yt,Qt=pdfjs.getDocument(nn);nt&&(Qt.onProgress=nt),tt&&(Qt.onPassword=tt);const gn=Qt;return gn.promise.then(Sn=>{Ot({type:"RESOLVE",value:Sn})}).catch(Sn=>{gn.destroyed||Ot({type:"REJECT",error:Sn})}),()=>{gn.destroy()}}reactExports.useEffect(bt,[ct,Ot,yt]),reactExports.useEffect(()=>{if(!(typeof St>"u")){if(St===!1){ht();return}pt()}},[St]);function Et(){It.current.setViewer(Yt.current),It.current.setExternalLinkRel(d),It.current.setExternalLinkTarget(h)}reactExports.useEffect(Et,[d,h]);function Pt(nn,Qt){zt.current[nn]=Qt}function Rt(nn){delete zt.current[nn]}const Gt=reactExports.useMemo(()=>({imageResourcesPath:b,linkService:It.current,onItemClick:et,pdf:St,registerPage:Pt,renderMode:rt,rotate:lt,unregisterPage:Rt}),[b,et,St,rt,lt]),Ht=reactExports.useMemo(()=>makeEventProps(mt,()=>St),[mt,St]);function qt(){return React.createElement(DocumentContext.Provider,{value:Gt},o)}function Jt(){return g?St==null?React.createElement(Message,{type:"loading"},typeof j=="function"?j():j):St===!1?React.createElement(Message,{type:"error"},typeof c=="function"?c():c):qt():React.createElement(Message,{type:"no-data"},typeof $=="function"?$():$)}return React.createElement("div",Object.assign({className:clsx("react-pdf__Document",a),ref:_,style:{"--scale-factor":"1"}},Ht),Jt())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});const Document$1=Document;function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var s=i.filter(Boolean);if(s.length<=1){var o=s[0];return o||null}return function(c){s.forEach(function(d){typeof d=="function"?d(c):d&&(d.current=c)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(i){return i in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(i){return"children"in i}function isStructTreeNodeWithOnlyContentChild(i){return isStructTreeNode(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function getRoleAttributes(i){const e={};if(isStructTreeNode(i)){const{role:s}=i,o=s.match(HEADING_PATTERN);if(o)e.role="heading",e["aria-level"]=Number(o[1]);else if(isPdfRole(s)){const a=PDF_ROLE_TO_HTML_ROLE[s];a&&(e.role=a)}}return e}function getBaseAttributes(i){const e={};if(isStructTreeNode(i)){if(i.alt!==void 0&&(e["aria-label"]=i.alt),i.lang!==void 0&&(e.lang=i.lang),isStructTreeNodeWithOnlyContentChild(i)){const[s]=i.children;if(s){const o=getBaseAttributes(s);return Object.assign(Object.assign({},e),o)}}}else"id"in i&&(e["aria-owns"]=i.id);return e}function getAttributes(i){return i?Object.assign(Object.assign({},getRoleAttributes(i)),getBaseAttributes(i)):null}function StructTreeItem({className:i,node:e}){const s=reactExports.useMemo(()=>getAttributes(e),[e]),o=reactExports.useMemo(()=>!isStructTreeNode(e)||isStructTreeNodeWithOnlyContentChild(e)?null:e.children.map((a,c)=>React.createElement(StructTreeItem,{key:c,node:a})),[e]);return React.createElement("span",Object.assign({className:i},s),o)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const i=usePageContext();invariant(i,"Unable to find Page context.");const{onGetStructTreeError:e,onGetStructTreeSuccess:s}=i,[o,a]=useResolver(),{value:c,error:d}=o,{customTextRenderer:h,page:g}=i;function _(){c&&s&&s(c)}function b(){d&&(warning$1(!1,d.toString()),e&&e(d))}function j(){a({type:"RESET"})}reactExports.useEffect(j,[a,g]);function $(){if(h||!g)return;const et=makeCancellablePromise(g.getStructTree()),_e=et;return et.promise.then(nt=>{a({type:"RESOLVE",value:nt})}).catch(nt=>{a({type:"REJECT",error:nt})}),()=>cancelRunningTask(_e)}return reactExports.useEffect($,[h,g,a]),reactExports.useEffect(()=>{if(c!==void 0){if(c===!1){b();return}_()}},[c]),c?React.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:c}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(i){const e=usePageContext();invariant(e,"Unable to find Page context.");const s=Object.assign(Object.assign({},e),i),{_className:o,canvasBackground:a,devicePixelRatio:c=getDevicePixelRatio(),onRenderError:d,onRenderSuccess:h,page:g,renderForms:_,renderTextLayer:b,rotate:j,scale:$}=s,{canvasRef:et}=i;invariant(g,"Attempted to render page canvas, but no page was specified.");const _e=reactExports.useRef(null);function nt(){g&&h&&h(makePageCallback(g,$))}function st(rt){isCancelException(rt)||(warning$1(!1,rt.toString()),d&&d(rt))}const tt=reactExports.useMemo(()=>g.getViewport({scale:$*c,rotation:j}),[c,g,j,$]),it=reactExports.useMemo(()=>g.getViewport({scale:$,rotation:j}),[g,j,$]);function ot(){if(!g)return;g.cleanup();const{current:rt}=_e;if(!rt)return;rt.width=tt.width,rt.height=tt.height,rt.style.width=`${Math.floor(it.width)}px`,rt.style.height=`${Math.floor(it.height)}px`,rt.style.visibility="hidden";const lt={annotationMode:_?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:rt.getContext("2d",{alpha:!1}),viewport:tt};a&&(lt.background=a);const mt=g.render(lt),gt=mt;return mt.promise.then(()=>{rt.style.visibility="",nt()}).catch(st),()=>cancelRunningTask(gt)}reactExports.useEffect(ot,[a,_e,c,g,_,tt,it]);const ct=reactExports.useCallback(()=>{const{current:rt}=_e;rt&&(rt.width=0,rt.height=0)},[_e]);return reactExports.useEffect(()=>ct,[ct]),React.createElement("canvas",{className:`${o}__canvas`,dir:"ltr",ref:mergeRefs(et,_e),style:{display:"block",userSelect:"none"}},b?React.createElement(StructTree,null):null)}function PageSVG(){const i=usePageContext();invariant(i,"Unable to find Page context.");const{_className:e,onRenderSuccess:s,onRenderError:o,page:a,rotate:c,scale:d}=i;invariant(a,"Attempted to render page SVG, but no page was specified.");const[h,g]=useResolver(),{value:_,error:b}=h;function j(){a&&s&&s(makePageCallback(a,d))}function $(){b&&(isCancelException(b)||(warning$1(!1,b.toString()),o&&o(b)))}const et=reactExports.useMemo(()=>a.getViewport({scale:d,rotation:c}),[a,c,d]);function _e(){g({type:"RESET"})}reactExports.useEffect(_e,[a,g,et]);function nt(){if(!a)return;const ot=makeCancellablePromise(a.getOperatorList());return ot.promise.then(ct=>{new pdfjs.SVGGraphics(a.commonObjs,a.objs).getSVG(ct,et).then(lt=>{if(!(lt instanceof SVGElement))throw new Error("getSVG returned unexpected result.");g({type:"RESOLVE",value:lt})}).catch(lt=>{g({type:"REJECT",error:lt})})}).catch(ct=>{g({type:"REJECT",error:ct})}),()=>cancelRunningTask(ot)}reactExports.useEffect(nt,[a,g,et]),reactExports.useEffect(()=>{if(_!==void 0){if(_===!1){$();return}j()}},[_]);function st(ot){if(!ot||!_)return;ot.firstElementChild||ot.appendChild(_);const{width:ct,height:rt}=et;_.setAttribute("width",`${ct}`),_.setAttribute("height",`${rt}`)}const{width:tt,height:it}=et;return React.createElement("div",{className:`${e}__svg`,ref:ot=>st(ot),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:tt,height:it,userSelect:"none"}})}function isTextItem(i){return"str"in i}function TextLayer(){const i=usePageContext();invariant(i,"Unable to find Page context.");const{customTextRenderer:e,onGetTextError:s,onGetTextSuccess:o,onRenderTextLayerError:a,onRenderTextLayerSuccess:c,page:d,pageIndex:h,pageNumber:g,rotate:_,scale:b}=i;invariant(d,"Attempted to load page text content, but no page was specified.");const[j,$]=useResolver(),{value:et,error:_e}=j,nt=reactExports.useRef(null),st=reactExports.useRef();warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function tt(){et&&o&&o(et)}function it(){_e&&(warning$1(!1,_e.toString()),s&&s(_e))}function ot(){$({type:"RESET"})}reactExports.useEffect(ot,[d,$]);function ct(){if(!d)return;const _t=makeCancellablePromise(d.getTextContent()),kt=_t;return _t.promise.then(Ot=>{$({type:"RESOLVE",value:Ot})}).catch(Ot=>{$({type:"REJECT",error:Ot})}),()=>cancelRunningTask(kt)}reactExports.useEffect(ct,[d,$]),reactExports.useEffect(()=>{if(et!==void 0){if(et===!1){it();return}tt()}},[et]);const rt=reactExports.useCallback(()=>{c&&c()},[c]),lt=reactExports.useCallback(_t=>{warning$1(!1,_t.toString()),a&&a(_t)},[a]);function mt(){const _t=st.current;_t&&_t.classList.add("active")}function gt(){const _t=st.current;_t&&_t.classList.remove("active")}const ft=reactExports.useMemo(()=>d.getViewport({scale:b,rotation:_}),[d,_,b]);function yt(){if(!d||!et)return;const{current:_t}=nt;if(!_t)return;_t.innerHTML="";const kt=d.streamTextContent({includeMarkedContent:!0}),Ot={container:_t,textContentSource:kt,viewport:ft},St=pdfjs.renderTextLayer(Ot),Dt=St;return St.promise.then(()=>{const It=document.createElement("div");It.className="endOfContent",_t.append(It),st.current=It;const zt=_t.querySelectorAll('[role="presentation"]');if(e){let wt=0;et.items.forEach((Lt,Yt)=>{if(!isTextItem(Lt))return;const tn=zt[wt];if(!tn)return;const rn=e(Object.assign({pageIndex:h,pageNumber:g,itemIndex:Yt},Lt));tn.innerHTML=rn,wt+=Lt.str&&Lt.hasEOL?2:1})}rt()}).catch(lt),()=>cancelRunningTask(Dt)}return reactExports.useLayoutEffect(yt,[e,lt,rt,d,h,g,et,ft]),React.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:gt,onMouseDown:mt,ref:nt})}function AnnotationLayer(){const i=useDocumentContext(),e=usePageContext();invariant(e,"Unable to find Page context.");const s=Object.assign(Object.assign({},i),e),{imageResourcesPath:o,linkService:a,onGetAnnotationsError:c,onGetAnnotationsSuccess:d,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:g,page:_,pdf:b,renderForms:j,rotate:$,scale:et=1}=s;invariant(b,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),invariant(_,"Attempted to load page annotations, but no page was specified."),invariant(a,"Attempted to load page annotations, but no linkService was specified.");const[_e,nt]=useResolver(),{value:st,error:tt}=_e,it=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function ot(){st&&d&&d(st)}function ct(){tt&&(warning$1(!1,tt.toString()),c&&c(tt))}function rt(){nt({type:"RESET"})}reactExports.useEffect(rt,[nt,_]);function lt(){if(!_)return;const _t=makeCancellablePromise(_.getAnnotations()),kt=_t;return _t.promise.then(Ot=>{nt({type:"RESOLVE",value:Ot})}).catch(Ot=>{nt({type:"REJECT",error:Ot})}),()=>{cancelRunningTask(kt)}}reactExports.useEffect(lt,[nt,_,j]),reactExports.useEffect(()=>{if(st!==void 0){if(st===!1){ct();return}ot()}},[st]);function mt(){g&&g()}function gt(_t){warning$1(!1,`${_t}`),h&&h(_t)}const ft=reactExports.useMemo(()=>_.getViewport({scale:et,rotation:$}),[_,$,et]);function yt(){if(!b||!_||!a||!st)return;const{current:_t}=it;if(!_t)return;const kt=ft.clone({dontFlip:!0}),Ot={accessibilityManager:null,annotationCanvasMap:null,div:_t,l10n:null,page:_,viewport:kt},St={annotations:st,annotationStorage:b.annotationStorage,div:_t,downloadManager:null,imageResourcesPath:o,linkService:a,page:_,renderForms:j,viewport:kt};_t.innerHTML="";try{new pdfjs.AnnotationLayer(Ot).render(St),mt()}catch(Dt){gt(Dt)}return()=>{}}return reactExports.useEffect(yt,[st,o,a,_,j,ft]),React.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:it})}var __rest=function(i,e){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(i);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(i,o[a])&&(s[o[a]]=i[o[a]]);return s};const defaultScale=1,Page=function i(e){const s=useDocumentContext(),o=Object.assign(Object.assign({},s),e),{_className:a="react-pdf__Page",_enableRegisterUnregisterPage:c=!0,canvasBackground:d,canvasRef:h,children:g,className:_,customRenderer:b,customTextRenderer:j,devicePixelRatio:$,error:et="Failed to load the page.",height:_e,inputRef:nt,loading:st="Loading page…",noData:tt="No page specified.",onGetAnnotationsError:it,onGetAnnotationsSuccess:ot,onGetStructTreeError:ct,onGetStructTreeSuccess:rt,onGetTextError:lt,onGetTextSuccess:mt,onLoadError:gt,onLoadSuccess:ft,onRenderAnnotationLayerError:yt,onRenderAnnotationLayerSuccess:_t,onRenderError:kt,onRenderSuccess:Ot,onRenderTextLayerError:St,onRenderTextLayerSuccess:Dt,pageIndex:It,pageNumber:zt,pdf:wt,registerPage:Lt,renderAnnotationLayer:Yt=!0,renderForms:tn=!1,renderMode:rn="canvas",renderTextLayer:At=!0,rotate:ut,scale:pt=defaultScale,unregisterPage:ht,width:vt}=o,bt=__rest(o,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Et,Pt]=useResolver(),{value:Rt,error:Gt}=Et,Ht=reactExports.useRef(null);invariant(wt,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const qt=isProvided(zt)?zt-1:It??null,Jt=zt??(isProvided(It)?It+1:null),nn=ut??(Rt?Rt.rotate:null),Qt=reactExports.useMemo(()=>{if(!Rt)return null;let Mn=1;const Tn=pt??defaultScale;if(vt||_e){const Fn=Rt.getViewport({scale:1,rotation:nn});vt?Mn=vt/Fn.width:_e&&(Mn=_e/Fn.height)}return Tn*Mn},[_e,Rt,nn,pt,vt]);function gn(){return()=>{isProvided(qt)&&c&&ht&&ht(qt)}}reactExports.useEffect(gn,[c,wt,qt,ht]);function Sn(){if(ft){if(!Rt||!Qt)return;ft(makePageCallback(Rt,Qt))}if(c&&Lt){if(!isProvided(qt)||!Ht.current)return;Lt(qt,Ht.current)}}function un(){Gt&&(warning$1(!1,Gt.toString()),gt&&gt(Gt))}function xn(){Pt({type:"RESET"})}reactExports.useEffect(xn,[Pt,wt,qt]);function sn(){if(!wt||!Jt)return;const Mn=makeCancellablePromise(wt.getPage(Jt)),Tn=Mn;return Mn.promise.then(Fn=>{Pt({type:"RESOLVE",value:Fn})}).catch(Fn=>{Pt({type:"REJECT",error:Fn})}),()=>cancelRunningTask(Tn)}reactExports.useEffect(sn,[Pt,wt,qt,Jt,Lt]),reactExports.useEffect(()=>{if(Rt!==void 0){if(Rt===!1){un();return}Sn()}},[Rt,Qt]);const Vt=reactExports.useMemo(()=>Rt&&isProvided(qt)&&Jt&&isProvided(nn)&&isProvided(Qt)?{_className:a,canvasBackground:d,customTextRenderer:j,devicePixelRatio:$,onGetAnnotationsError:it,onGetAnnotationsSuccess:ot,onGetStructTreeError:ct,onGetStructTreeSuccess:rt,onGetTextError:lt,onGetTextSuccess:mt,onRenderAnnotationLayerError:yt,onRenderAnnotationLayerSuccess:_t,onRenderError:kt,onRenderSuccess:Ot,onRenderTextLayerError:St,onRenderTextLayerSuccess:Dt,page:Rt,pageIndex:qt,pageNumber:Jt,renderForms:tn,renderTextLayer:At,rotate:nn,scale:Qt}:null,[a,d,j,$,it,ot,ct,rt,lt,mt,yt,_t,kt,Ot,St,Dt,Rt,qt,Jt,tn,At,nn,Qt]),Wt=reactExports.useMemo(()=>makeEventProps(bt,()=>Rt&&(Qt?makePageCallback(Rt,Qt):void 0)),[bt,Rt,Qt]),en=`${qt}@${Qt}/${nn}`,fn=`${qt}/${nn}`;function pn(){switch(rn){case"custom":return invariant(b,'renderMode was set to "custom", but no customRenderer was passed.'),React.createElement(b,{key:`${en}_custom`});case"none":return null;case"svg":return React.createElement(PageSVG,{key:`${fn}_svg`});case"canvas":default:return React.createElement(PageCanvas,{key:`${en}_canvas`,canvasRef:h})}}function Pn(){return At?React.createElement(TextLayer,{key:`${en}_text`}):null}function On(){return Yt?React.createElement(AnnotationLayer,{key:`${en}_annotations`}):null}function Cn(){return React.createElement(PageContext.Provider,{value:Vt},pn(),Pn(),On(),g)}function Dn(){return Jt?wt===null||Rt===void 0||Rt===null?React.createElement(Message,{type:"loading"},typeof st=="function"?st():st):wt===!1||Rt===!1?React.createElement(Message,{type:"error"},typeof et=="function"?et():et):Cn():React.createElement(Message,{type:"no-data"},typeof tt=="function"?tt():tt)}return React.createElement("div",Object.assign({className:clsx(a,_),"data-page-number":Jt,ref:mergeRefs(nt,Ht),style:{"--scale-factor":`${Qt}`,backgroundColor:d||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Wt),Dn())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});const Page$1=Page;displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";pdfjs.GlobalWorkerOptions.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;const PdfViewer=({pdfUrl:i})=>{const[e,s]=reactExports.useState(1),o=()=>{s(c=>c+1)},a=()=>{s(c=>Math.max(1,c-1))};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Document$1,{file:i,children:jsxRuntimeExports.jsx(Page$1,{pageNumber:e})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("button",{onClick:a,disabled:e<=1,children:"Previous Page"}),jsxRuntimeExports.jsxs("span",{children:["Page ",e]}),jsxRuntimeExports.jsx("button",{onClick:o,children:"Next Page"})]})]})},SelectedPdfPage=()=>{const[i,e]=reactExports.useState([]),{materialID:s}=useParams();return reactExports.useEffect(()=>{(async()=>{try{const a=await api.get(`/learning-materials/get-material/${s}`);e(a.data.material)}catch(a){console.log(a)}})()},[s]),jsxRuntimeExports.jsx("div",{children:i&&jsxRuntimeExports.jsx(PdfViewer,{pdfUrl:`http://localhost:5000/${i.file}`})})};/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function round(i){return i+.5|0}const lim=(i,e,s)=>Math.max(Math.min(i,s),e);function p2b(i){return lim(round(i*2.55),0,255)}function n2b(i){return lim(round(i*255),0,255)}function b2n(i){return lim(round(i/2.55)/100,0,1)}function n2p(i){return lim(round(i*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=i=>hex[i&15],h2=i=>hex[(i&240)>>4]+hex[i&15],eq=i=>(i&240)>>4===(i&15),isShort=i=>eq(i.r)&&eq(i.g)&&eq(i.b)&&eq(i.a);function hexParse(i){var e=i.length,s;return i[0]==="#"&&(e===4||e===5?s={r:255&map$1[i[1]]*17,g:255&map$1[i[2]]*17,b:255&map$1[i[3]]*17,a:e===5?map$1[i[4]]*17:255}:(e===7||e===9)&&(s={r:map$1[i[1]]<<4|map$1[i[2]],g:map$1[i[3]]<<4|map$1[i[4]],b:map$1[i[5]]<<4|map$1[i[6]],a:e===9?map$1[i[7]]<<4|map$1[i[8]]:255})),s}const alpha=(i,e)=>i<255?e(i):"";function hexString(i){var e=isShort(i)?h1:h2;return i?"#"+e(i.r)+e(i.g)+e(i.b)+alpha(i.a,e):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(i,e,s){const o=e*Math.min(s,1-s),a=(c,d=(c+i/30)%12)=>s-o*Math.max(Math.min(d-3,9-d,1),-1);return[a(0),a(8),a(4)]}function hsv2rgbn(i,e,s){const o=(a,c=(a+i/60)%6)=>s-s*e*Math.max(Math.min(c,4-c,1),0);return[o(5),o(3),o(1)]}function hwb2rgbn(i,e,s){const o=hsl2rgbn(i,1,.5);let a;for(e+s>1&&(a=1/(e+s),e*=a,s*=a),a=0;a<3;a++)o[a]*=1-e-s,o[a]+=e;return o}function hueValue(i,e,s,o,a){return i===a?(e-s)/o+(e<s?6:0):e===a?(s-i)/o+2:(i-e)/o+4}function rgb2hsl(i){const s=i.r/255,o=i.g/255,a=i.b/255,c=Math.max(s,o,a),d=Math.min(s,o,a),h=(c+d)/2;let g,_,b;return c!==d&&(b=c-d,_=h>.5?b/(2-c-d):b/(c+d),g=hueValue(s,o,a,b,c),g=g*60+.5),[g|0,_||0,h]}function calln(i,e,s,o){return(Array.isArray(e)?i(e[0],e[1],e[2]):i(e,s,o)).map(n2b)}function hsl2rgb(i,e,s){return calln(hsl2rgbn,i,e,s)}function hwb2rgb(i,e,s){return calln(hwb2rgbn,i,e,s)}function hsv2rgb(i,e,s){return calln(hsv2rgbn,i,e,s)}function hue(i){return(i%360+360)%360}function hueParse(i){const e=HUE_RE.exec(i);let s=255,o;if(!e)return;e[5]!==o&&(s=e[6]?p2b(+e[5]):n2b(+e[5]));const a=hue(+e[2]),c=+e[3]/100,d=+e[4]/100;return e[1]==="hwb"?o=hwb2rgb(a,c,d):e[1]==="hsv"?o=hsv2rgb(a,c,d):o=hsl2rgb(a,c,d),{r:o[0],g:o[1],b:o[2],a:s}}function rotate(i,e){var s=rgb2hsl(i);s[0]=hue(s[0]+e),s=hsl2rgb(s),i.r=s[0],i.g=s[1],i.b=s[2]}function hslString(i){if(!i)return;const e=rgb2hsl(i),s=e[0],o=n2p(e[1]),a=n2p(e[2]);return i.a<255?`hsla(${s}, ${o}%, ${a}%, ${b2n(i.a)})`:`hsl(${s}, ${o}%, ${a}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const i={},e=Object.keys(names$1),s=Object.keys(map$2);let o,a,c,d,h;for(o=0;o<e.length;o++){for(d=h=e[o],a=0;a<s.length;a++)c=s[a],h=h.replace(c,map$2[c]);c=parseInt(names$1[d],16),i[h]=[c>>16&255,c>>8&255,c&255]}return i}let names;function nameParse(i){names||(names=unpack(),names.transparent=[0,0,0,0]);const e=names[i.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(i){const e=RGB_RE.exec(i);let s=255,o,a,c;if(e){if(e[7]!==o){const d=+e[7];s=e[8]?p2b(d):lim(d*255,0,255)}return o=+e[1],a=+e[3],c=+e[5],o=255&(e[2]?p2b(o):lim(o,0,255)),a=255&(e[4]?p2b(a):lim(a,0,255)),c=255&(e[6]?p2b(c):lim(c,0,255)),{r:o,g:a,b:c,a:s}}}function rgbString(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${b2n(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const to=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,from=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function interpolate$1(i,e,s){const o=from(b2n(i.r)),a=from(b2n(i.g)),c=from(b2n(i.b));return{r:n2b(to(o+s*(from(b2n(e.r))-o))),g:n2b(to(a+s*(from(b2n(e.g))-a))),b:n2b(to(c+s*(from(b2n(e.b))-c))),a:i.a+s*(e.a-i.a)}}function modHSL(i,e,s){if(i){let o=rgb2hsl(i);o[e]=Math.max(0,Math.min(o[e]+o[e]*s,e===0?360:1)),o=hsl2rgb(o),i.r=o[0],i.g=o[1],i.b=o[2]}}function clone$1(i,e){return i&&Object.assign(e||{},i)}function fromObject(i){var e={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(e={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(e.a=n2b(i[3]))):(e=clone$1(i,{r:0,g:0,b:0,a:1}),e.a=n2b(e.a)),e}function functionParse(i){return i.charAt(0)==="r"?rgbParse(i):hueParse(i)}class Color{constructor(e){if(e instanceof Color)return e;const s=typeof e;let o;s==="object"?o=fromObject(e):s==="string"&&(o=hexParse(e)||nameParse(e)||functionParse(e)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var e=clone$1(this._rgb);return e&&(e.a=b2n(e.a)),e}set rgb(e){this._rgb=fromObject(e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(e,s){if(e){const o=this.rgb,a=e.rgb;let c;const d=s===c?.5:s,h=2*d-1,g=o.a-a.a,_=((h*g===-1?h:(h+g)/(1+h*g))+1)/2;c=1-_,o.r=255&_*o.r+c*a.r+.5,o.g=255&_*o.g+c*a.g+.5,o.b=255&_*o.b+c*a.b+.5,o.a=d*o.a+(1-d)*a.a,this.rgb=o}return this}interpolate(e,s){return e&&(this._rgb=interpolate$1(this._rgb,e._rgb,s)),this}clone(){return new Color(this.rgb)}alpha(e){return this._rgb.a=n2b(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=round(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return modHSL(this._rgb,2,e),this}darken(e){return modHSL(this._rgb,2,-e),this}saturate(e){return modHSL(this._rgb,1,e),this}desaturate(e){return modHSL(this._rgb,1,-e),this}rotate(e){return rotate(this._rgb,e),this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function noop(){}const uid=(()=>{let i=0;return()=>i++})();function isNullOrUndef(i){return i===null||typeof i>"u"}function isArray(i){if(Array.isArray&&Array.isArray(i))return!0;const e=Object.prototype.toString.call(i);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function isObject(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function isNumberFinite(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function finiteOrDefault(i,e){return isNumberFinite(i)?i:e}function valueOrDefault(i,e){return typeof i>"u"?e:i}const toPercentage=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/e,toDimension=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*e:+i;function callback(i,e,s){if(i&&typeof i.call=="function")return i.apply(s,e)}function each(i,e,s,o){let a,c,d;if(isArray(i))if(c=i.length,o)for(a=c-1;a>=0;a--)e.call(s,i[a],a);else for(a=0;a<c;a++)e.call(s,i[a],a);else if(isObject(i))for(d=Object.keys(i),c=d.length,a=0;a<c;a++)e.call(s,i[d[a]],d[a])}function _elementsEqual(i,e){let s,o,a,c;if(!i||!e||i.length!==e.length)return!1;for(s=0,o=i.length;s<o;++s)if(a=i[s],c=e[s],a.datasetIndex!==c.datasetIndex||a.index!==c.index)return!1;return!0}function clone(i){if(isArray(i))return i.map(clone);if(isObject(i)){const e=Object.create(null),s=Object.keys(i),o=s.length;let a=0;for(;a<o;++a)e[s[a]]=clone(i[s[a]]);return e}return i}function isValidKey(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function _merger(i,e,s,o){if(!isValidKey(i))return;const a=e[i],c=s[i];isObject(a)&&isObject(c)?merge(a,c,o):e[i]=clone(c)}function merge(i,e,s){const o=isArray(e)?e:[e],a=o.length;if(!isObject(i))return i;s=s||{};const c=s.merger||_merger;let d;for(let h=0;h<a;++h){if(d=o[h],!isObject(d))continue;const g=Object.keys(d);for(let _=0,b=g.length;_<b;++_)c(g[_],i,d,s)}return i}function mergeIf(i,e){return merge(i,e,{merger:_mergerIf})}function _mergerIf(i,e,s){if(!isValidKey(i))return;const o=e[i],a=s[i];isObject(o)&&isObject(a)?mergeIf(o,a):Object.prototype.hasOwnProperty.call(e,i)||(e[i]=clone(a))}const keyResolvers={"":i=>i,x:i=>i.x,y:i=>i.y};function _splitKey(i){const e=i.split("."),s=[];let o="";for(const a of e)o+=a,o.endsWith("\\")?o=o.slice(0,-1)+".":(s.push(o),o="");return s}function _getKeyResolver(i){const e=_splitKey(i);return s=>{for(const o of e){if(o==="")break;s=s&&s[o]}return s}}function resolveObjectKey(i,e){return(keyResolvers[e]||(keyResolvers[e]=_getKeyResolver(e)))(i)}function _capitalize(i){return i.charAt(0).toUpperCase()+i.slice(1)}const defined=i=>typeof i<"u",isFunction=i=>typeof i=="function",setsEqual=(i,e)=>{if(i.size!==e.size)return!1;for(const s of i)if(!e.has(s))return!1;return!0};function _isClickEvent(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function almostEquals(i,e,s){return Math.abs(i-e)<s}function niceNum(i){const e=Math.round(i);i=almostEquals(i,e,i/1e3)?e:i;const s=Math.pow(10,Math.floor(log10(i))),o=i/s;return(o<=1?1:o<=2?2:o<=5?5:10)*s}function _factorize(i){const e=[],s=Math.sqrt(i);let o;for(o=1;o<s;o++)i%o===0&&(e.push(o),e.push(i/o));return s===(s|0)&&e.push(s),e.sort((a,c)=>a-c).pop(),e}function isNumber(i){return!isNaN(parseFloat(i))&&isFinite(i)}function almostWhole(i,e){const s=Math.round(i);return s-e<=i&&s+e>=i}function _setMinAndMaxByKey(i,e,s){let o,a,c;for(o=0,a=i.length;o<a;o++)c=i[o][s],isNaN(c)||(e.min=Math.min(e.min,c),e.max=Math.max(e.max,c))}function toRadians(i){return i*(PI/180)}function toDegrees(i){return i*(180/PI)}function _decimalPlaces(i){if(!isNumberFinite(i))return;let e=1,s=0;for(;Math.round(i*e)/e!==i;)e*=10,s++;return s}function getAngleFromPoint(i,e){const s=e.x-i.x,o=e.y-i.y,a=Math.sqrt(s*s+o*o);let c=Math.atan2(o,s);return c<-.5*PI&&(c+=TAU),{angle:c,distance:a}}function distanceBetweenPoints(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function _angleDiff(i,e){return(i-e+PITAU)%TAU-PI}function _normalizeAngle(i){return(i%TAU+TAU)%TAU}function _angleBetween(i,e,s,o){const a=_normalizeAngle(i),c=_normalizeAngle(e),d=_normalizeAngle(s),h=_normalizeAngle(c-a),g=_normalizeAngle(d-a),_=_normalizeAngle(a-c),b=_normalizeAngle(a-d);return a===c||a===d||o&&c===d||h>g&&_<b}function _limitValue(i,e,s){return Math.max(e,Math.min(s,i))}function _int16Range(i){return _limitValue(i,-32768,32767)}function _isBetween(i,e,s,o=1e-6){return i>=Math.min(e,s)-o&&i<=Math.max(e,s)+o}function _lookup(i,e,s){s=s||(d=>i[d]<e);let o=i.length-1,a=0,c;for(;o-a>1;)c=a+o>>1,s(c)?a=c:o=c;return{lo:a,hi:o}}const _lookupByKey=(i,e,s,o)=>_lookup(i,s,o?a=>{const c=i[a][e];return c<s||c===s&&i[a+1][e]===s}:a=>i[a][e]<s),_rlookupByKey=(i,e,s)=>_lookup(i,s,o=>i[o][e]>=s);function _filterBetween(i,e,s){let o=0,a=i.length;for(;o<a&&i[o]<e;)o++;for(;a>o&&i[a-1]>s;)a--;return o>0||a<i.length?i.slice(o,a):i}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(i,e){if(i._chartjs){i._chartjs.listeners.push(e);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),arrayEvents.forEach(s=>{const o="_onData"+_capitalize(s),a=i[s];Object.defineProperty(i,s,{configurable:!0,enumerable:!1,value(...c){const d=a.apply(this,c);return i._chartjs.listeners.forEach(h=>{typeof h[o]=="function"&&h[o](...c)}),d}})})}function unlistenArrayEvents(i,e){const s=i._chartjs;if(!s)return;const o=s.listeners,a=o.indexOf(e);a!==-1&&o.splice(a,1),!(o.length>0)&&(arrayEvents.forEach(c=>{delete i[c]}),delete i._chartjs)}function _arrayUnique(i){const e=new Set(i);return e.size===i.length?i:Array.from(e)}const requestAnimFrame=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function throttled(i,e){let s=[],o=!1;return function(...a){s=a,o||(o=!0,requestAnimFrame.call(window,()=>{o=!1,i.apply(e,s)}))}}function debounce(i,e){let s;return function(...o){return e?(clearTimeout(s),s=setTimeout(i,e,o)):i.apply(this,o),e}}const _toLeftRightCenter=i=>i==="start"?"left":i==="end"?"right":"center",_alignStartEnd=(i,e,s)=>i==="start"?e:i==="end"?s:(e+s)/2,_textX=(i,e,s,o)=>i===(o?"left":"right")?s:i==="center"?(e+s)/2:e;function _getStartAndCountOfVisiblePoints(i,e,s){const o=e.length;let a=0,c=o;if(i._sorted){const{iScale:d,_parsed:h}=i,g=d.axis,{min:_,max:b,minDefined:j,maxDefined:$}=d.getUserBounds();j&&(a=_limitValue(Math.min(_lookupByKey(h,g,_).lo,s?o:_lookupByKey(e,g,d.getPixelForValue(_)).lo),0,o-1)),$?c=_limitValue(Math.max(_lookupByKey(h,d.axis,b,!0).hi+1,s?0:_lookupByKey(e,g,d.getPixelForValue(b),!0).hi+1),a,o)-a:c=o-a}return{start:a,count:c}}function _scaleRangesChanged(i){const{xScale:e,yScale:s,_scaleRanges:o}=i,a={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!o)return i._scaleRanges=a,!0;const c=o.xmin!==e.min||o.xmax!==e.max||o.ymin!==s.min||o.ymax!==s.max;return Object.assign(o,a),c}const atEdge=i=>i===0||i===1,elasticIn=(i,e,s)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-e)*TAU/s)),elasticOut=(i,e,s)=>Math.pow(2,-10*i)*Math.sin((i-e)*TAU/s)+1,effects={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*HALF_PI)+1,easeOutSine:i=>Math.sin(i*HALF_PI),easeInOutSine:i=>-.5*(Math.cos(PI*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>atEdge(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>atEdge(i)?i:elasticIn(i,.075,.3),easeOutElastic:i=>atEdge(i)?i:elasticOut(i,.075,.3),easeInOutElastic(i){return atEdge(i)?i:i<.5?.5*elasticIn(i*2,.1125,.45):.5+.5*elasticOut(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let e=1.70158;return(i/=.5)<1?.5*(i*i*(((e*=1.525)+1)*i-e)):.5*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)},easeInBounce:i=>1-effects.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?effects.easeInBounce(i*2)*.5:effects.easeOutBounce(i*2-1)*.5+.5};function isPatternOrGradient(i){if(i&&typeof i=="object"){const e=i.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function color(i){return isPatternOrGradient(i)?i:new Color(i)}function getHoverColor(i){return isPatternOrGradient(i)?i:new Color(i).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),i.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function applyLayoutsDefaults(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(i,e){e=e||{};const s=i+JSON.stringify(e);let o=intlCache.get(s);return o||(o=new Intl.NumberFormat(i,e),intlCache.set(s,o)),o}function formatNumber(i,e,s){return getNumberFormat(e,s).format(i)}const formatters={values(i){return isArray(i)?i:""+i},numeric(i,e,s){if(i===0)return"0";const o=this.chart.options.locale;let a,c=i;if(s.length>1){const _=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(_<1e-4||_>1e15)&&(a="scientific"),c=calculateDelta(i,s)}const d=log10(Math.abs(c)),h=isNaN(d)?1:Math.max(Math.min(-1*Math.floor(d),20),0),g={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(g,this.options.ticks.format),formatNumber(i,o,g)},logarithmic(i,e,s){if(i===0)return"0";const o=s[e].significand||i/Math.pow(10,Math.floor(log10(i)));return[1,2,3,5,10,15].includes(o)||e>.8*s.length?formatters.numeric.call(this,i,e,s):""}};function calculateDelta(i,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&i!==Math.floor(i)&&(s=i-Math.floor(i)),s}var Ticks={formatters};function applyScaleDefaults(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(i,e){if(!e)return i;const s=e.split(".");for(let o=0,a=s.length;o<a;++o){const c=s[o];i=i[c]||(i[c]=Object.create(null))}return i}function set(i,e,s){return typeof e=="string"?merge(getScope$1(i,e),s):merge(getScope$1(i,""),e)}class Defaults{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,a)=>getHoverColor(a.backgroundColor),this.hoverBorderColor=(o,a)=>getHoverColor(a.borderColor),this.hoverColor=(o,a)=>getHoverColor(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return set(this,e,s)}get(e){return getScope$1(this,e)}describe(e,s){return set(descriptors,e,s)}override(e,s){return set(overrides,e,s)}route(e,s,o,a){const c=getScope$1(this,e),d=getScope$1(this,o),h="_"+s;Object.defineProperties(c,{[h]:{value:c[s],writable:!0},[s]:{enumerable:!0,get(){const g=this[h],_=d[a];return isObject(g)?Object.assign({},_,g):valueOrDefault(g,_)},set(g){this[h]=g}}})}apply(e){e.forEach(s=>s(this))}}var defaults=new Defaults({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(i){return!i||isNullOrUndef(i.size)||isNullOrUndef(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function _measureText(i,e,s,o,a){let c=e[a];return c||(c=e[a]=i.measureText(a).width,s.push(a)),c>o&&(o=c),o}function _longestText(i,e,s,o){o=o||{};let a=o.data=o.data||{},c=o.garbageCollect=o.garbageCollect||[];o.font!==e&&(a=o.data={},c=o.garbageCollect=[],o.font=e),i.save(),i.font=e;let d=0;const h=s.length;let g,_,b,j,$;for(g=0;g<h;g++)if(j=s[g],j!=null&&!isArray(j))d=_measureText(i,a,c,d,j);else if(isArray(j))for(_=0,b=j.length;_<b;_++)$=j[_],$!=null&&!isArray($)&&(d=_measureText(i,a,c,d,$));i.restore();const et=c.length/2;if(et>s.length){for(g=0;g<et;g++)delete a[c[g]];c.splice(0,et)}return d}function _alignPixel(i,e,s){const o=i.currentDevicePixelRatio,a=s!==0?Math.max(s/2,.5):0;return Math.round((e-a)*o)/o+a}function clearCanvas(i,e){e=e||i.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,i.width,i.height),e.restore()}function drawPoint(i,e,s,o){drawPointLegend(i,e,s,o,null)}function drawPointLegend(i,e,s,o,a){let c,d,h,g,_,b,j,$;const et=e.pointStyle,_e=e.rotation,nt=e.radius;let st=(_e||0)*RAD_PER_DEG;if(et&&typeof et=="object"&&(c=et.toString(),c==="[object HTMLImageElement]"||c==="[object HTMLCanvasElement]")){i.save(),i.translate(s,o),i.rotate(st),i.drawImage(et,-et.width/2,-et.height/2,et.width,et.height),i.restore();return}if(!(isNaN(nt)||nt<=0)){switch(i.beginPath(),et){default:a?i.ellipse(s,o,a/2,nt,0,0,TAU):i.arc(s,o,nt,0,TAU),i.closePath();break;case"triangle":b=a?a/2:nt,i.moveTo(s+Math.sin(st)*b,o-Math.cos(st)*nt),st+=TWO_THIRDS_PI,i.lineTo(s+Math.sin(st)*b,o-Math.cos(st)*nt),st+=TWO_THIRDS_PI,i.lineTo(s+Math.sin(st)*b,o-Math.cos(st)*nt),i.closePath();break;case"rectRounded":_=nt*.516,g=nt-_,d=Math.cos(st+QUARTER_PI)*g,j=Math.cos(st+QUARTER_PI)*(a?a/2-_:g),h=Math.sin(st+QUARTER_PI)*g,$=Math.sin(st+QUARTER_PI)*(a?a/2-_:g),i.arc(s-j,o-h,_,st-PI,st-HALF_PI),i.arc(s+$,o-d,_,st-HALF_PI,st),i.arc(s+j,o+h,_,st,st+HALF_PI),i.arc(s-$,o+d,_,st+HALF_PI,st+PI),i.closePath();break;case"rect":if(!_e){g=Math.SQRT1_2*nt,b=a?a/2:g,i.rect(s-b,o-g,2*b,2*g);break}st+=QUARTER_PI;case"rectRot":j=Math.cos(st)*(a?a/2:nt),d=Math.cos(st)*nt,h=Math.sin(st)*nt,$=Math.sin(st)*(a?a/2:nt),i.moveTo(s-j,o-h),i.lineTo(s+$,o-d),i.lineTo(s+j,o+h),i.lineTo(s-$,o+d),i.closePath();break;case"crossRot":st+=QUARTER_PI;case"cross":j=Math.cos(st)*(a?a/2:nt),d=Math.cos(st)*nt,h=Math.sin(st)*nt,$=Math.sin(st)*(a?a/2:nt),i.moveTo(s-j,o-h),i.lineTo(s+j,o+h),i.moveTo(s+$,o-d),i.lineTo(s-$,o+d);break;case"star":j=Math.cos(st)*(a?a/2:nt),d=Math.cos(st)*nt,h=Math.sin(st)*nt,$=Math.sin(st)*(a?a/2:nt),i.moveTo(s-j,o-h),i.lineTo(s+j,o+h),i.moveTo(s+$,o-d),i.lineTo(s-$,o+d),st+=QUARTER_PI,j=Math.cos(st)*(a?a/2:nt),d=Math.cos(st)*nt,h=Math.sin(st)*nt,$=Math.sin(st)*(a?a/2:nt),i.moveTo(s-j,o-h),i.lineTo(s+j,o+h),i.moveTo(s+$,o-d),i.lineTo(s-$,o+d);break;case"line":d=a?a/2:Math.cos(st)*nt,h=Math.sin(st)*nt,i.moveTo(s-d,o-h),i.lineTo(s+d,o+h);break;case"dash":i.moveTo(s,o),i.lineTo(s+Math.cos(st)*(a?a/2:nt),o+Math.sin(st)*nt);break;case!1:i.closePath();break}i.fill(),e.borderWidth>0&&i.stroke()}}function _isPointInArea(i,e,s){return s=s||.5,!e||i&&i.x>e.left-s&&i.x<e.right+s&&i.y>e.top-s&&i.y<e.bottom+s}function clipArea(i,e){i.save(),i.beginPath(),i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),i.clip()}function unclipArea(i){i.restore()}function _steppedLineTo(i,e,s,o,a){if(!e)return i.lineTo(s.x,s.y);if(a==="middle"){const c=(e.x+s.x)/2;i.lineTo(c,e.y),i.lineTo(c,s.y)}else a==="after"!=!!o?i.lineTo(e.x,s.y):i.lineTo(s.x,e.y);i.lineTo(s.x,s.y)}function _bezierCurveTo(i,e,s,o){if(!e)return i.lineTo(s.x,s.y);i.bezierCurveTo(o?e.cp1x:e.cp2x,o?e.cp1y:e.cp2y,o?s.cp2x:s.cp1x,o?s.cp2y:s.cp1y,s.x,s.y)}function setRenderOpts(i,e){e.translation&&i.translate(e.translation[0],e.translation[1]),isNullOrUndef(e.rotation)||i.rotate(e.rotation),e.color&&(i.fillStyle=e.color),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline)}function decorateText(i,e,s,o,a){if(a.strikethrough||a.underline){const c=i.measureText(o),d=e-c.actualBoundingBoxLeft,h=e+c.actualBoundingBoxRight,g=s-c.actualBoundingBoxAscent,_=s+c.actualBoundingBoxDescent,b=a.strikethrough?(g+_)/2:_;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=a.decorationWidth||2,i.moveTo(d,b),i.lineTo(h,b),i.stroke()}}function drawBackdrop(i,e){const s=i.fillStyle;i.fillStyle=e.color,i.fillRect(e.left,e.top,e.width,e.height),i.fillStyle=s}function renderText(i,e,s,o,a,c={}){const d=isArray(e)?e:[e],h=c.strokeWidth>0&&c.strokeColor!=="";let g,_;for(i.save(),i.font=a.string,setRenderOpts(i,c),g=0;g<d.length;++g)_=d[g],c.backdrop&&drawBackdrop(i,c.backdrop),h&&(c.strokeColor&&(i.strokeStyle=c.strokeColor),isNullOrUndef(c.strokeWidth)||(i.lineWidth=c.strokeWidth),i.strokeText(_,s,o,c.maxWidth)),i.fillText(_,s,o,c.maxWidth),decorateText(i,s,o,_,c),o+=Number(a.lineHeight);i.restore()}function addRoundedRectPath(i,e){const{x:s,y:o,w:a,h:c,radius:d}=e;i.arc(s+d.topLeft,o+d.topLeft,d.topLeft,1.5*PI,PI,!0),i.lineTo(s,o+c-d.bottomLeft),i.arc(s+d.bottomLeft,o+c-d.bottomLeft,d.bottomLeft,PI,HALF_PI,!0),i.lineTo(s+a-d.bottomRight,o+c),i.arc(s+a-d.bottomRight,o+c-d.bottomRight,d.bottomRight,HALF_PI,0,!0),i.lineTo(s+a,o+d.topRight),i.arc(s+a-d.topRight,o+d.topRight,d.topRight,0,-HALF_PI,!0),i.lineTo(s+d.topLeft,o)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(i,e){const s=(""+i).match(LINE_HEIGHT);if(!s||s[1]==="normal")return e*1.2;switch(i=+s[2],s[3]){case"px":return i;case"%":i/=100;break}return e*i}const numberOrZero=i=>+i||0;function _readValueToProps(i,e){const s={},o=isObject(e),a=o?Object.keys(e):e,c=isObject(i)?o?d=>valueOrDefault(i[d],i[e[d]]):d=>i[d]:()=>i;for(const d of a)s[d]=numberOrZero(c(d));return s}function toTRBL(i){return _readValueToProps(i,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(i){return _readValueToProps(i,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(i){const e=toTRBL(i);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function toFont(i,e){i=i||{},e=e||defaults.font;let s=valueOrDefault(i.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let o=valueOrDefault(i.style,e.style);o&&!(""+o).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);const a={family:valueOrDefault(i.family,e.family),lineHeight:toLineHeight(valueOrDefault(i.lineHeight,e.lineHeight),s),size:s,style:o,weight:valueOrDefault(i.weight,e.weight),string:""};return a.string=toFontString(a),a}function resolve(i,e,s,o){let a=!0,c,d,h;for(c=0,d=i.length;c<d;++c)if(h=i[c],h!==void 0&&(e!==void 0&&typeof h=="function"&&(h=h(e),a=!1),s!==void 0&&isArray(h)&&(h=h[s%h.length],a=!1),h!==void 0))return o&&!a&&(o.cacheable=!1),h}function _addGrace(i,e,s){const{min:o,max:a}=i,c=toDimension(e,(a-o)/2),d=(h,g)=>s&&h===0?0:h+g;return{min:d(o,-Math.abs(c)),max:d(a,c)}}function createContext(i,e){return Object.assign(Object.create(i),e)}function _createResolver(i,e=[""],s,o,a=()=>i[0]){const c=s||i;typeof o>"u"&&(o=_resolve("_fallback",i));const d={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:c,_fallback:o,_getTarget:a,override:h=>_createResolver([h,...i],e,c,o)};return new Proxy(d,{deleteProperty(h,g){return delete h[g],delete h._keys,delete i[0][g],!0},get(h,g){return _cached(h,g,()=>_resolveWithPrefixes(g,e,i,h))},getOwnPropertyDescriptor(h,g){return Reflect.getOwnPropertyDescriptor(h._scopes[0],g)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(h,g){return getKeysFromAllScopes(h).includes(g)},ownKeys(h){return getKeysFromAllScopes(h)},set(h,g,_){const b=h._storage||(h._storage=a());return h[g]=b[g]=_,delete h._keys,!0}})}function _attachContext(i,e,s,o){const a={_cacheable:!1,_proxy:i,_context:e,_subProxy:s,_stack:new Set,_descriptors:_descriptors(i,o),setContext:c=>_attachContext(i,c,s,o),override:c=>_attachContext(i.override(c),e,s,o)};return new Proxy(a,{deleteProperty(c,d){return delete c[d],delete i[d],!0},get(c,d,h){return _cached(c,d,()=>_resolveWithContext(c,d,h))},getOwnPropertyDescriptor(c,d){return c._descriptors.allKeys?Reflect.has(i,d)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,d)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(c,d){return Reflect.has(i,d)},ownKeys(){return Reflect.ownKeys(i)},set(c,d,h){return i[d]=h,delete c[d],!0}})}function _descriptors(i,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:o=e.indexable,_allKeys:a=e.allKeys}=i;return{allKeys:a,scriptable:s,indexable:o,isScriptable:isFunction(s)?s:()=>s,isIndexable:isFunction(o)?o:()=>o}}const readKey=(i,e)=>i?i+_capitalize(e):e,needsSubResolver=(i,e)=>isObject(e)&&i!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _cached(i,e,s){if(Object.prototype.hasOwnProperty.call(i,e))return i[e];const o=s();return i[e]=o,o}function _resolveWithContext(i,e,s){const{_proxy:o,_context:a,_subProxy:c,_descriptors:d}=i;let h=o[e];return isFunction(h)&&d.isScriptable(e)&&(h=_resolveScriptable(e,h,i,s)),isArray(h)&&h.length&&(h=_resolveArray(e,h,i,d.isIndexable)),needsSubResolver(e,h)&&(h=_attachContext(h,a,c&&c[e],d)),h}function _resolveScriptable(i,e,s,o){const{_proxy:a,_context:c,_subProxy:d,_stack:h}=s;if(h.has(i))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+i);h.add(i);let g=e(c,d||o);return h.delete(i),needsSubResolver(i,g)&&(g=createSubResolver(a._scopes,a,i,g)),g}function _resolveArray(i,e,s,o){const{_proxy:a,_context:c,_subProxy:d,_descriptors:h}=s;if(typeof c.index<"u"&&o(i))return e[c.index%e.length];if(isObject(e[0])){const g=e,_=a._scopes.filter(b=>b!==g);e=[];for(const b of g){const j=createSubResolver(_,a,i,b);e.push(_attachContext(j,c,d&&d[i],h))}}return e}function resolveFallback(i,e,s){return isFunction(i)?i(e,s):i}const getScope=(i,e)=>i===!0?e:typeof i=="string"?resolveObjectKey(e,i):void 0;function addScopes(i,e,s,o,a){for(const c of e){const d=getScope(s,c);if(d){i.add(d);const h=resolveFallback(d._fallback,s,a);if(typeof h<"u"&&h!==s&&h!==o)return h}else if(d===!1&&typeof o<"u"&&s!==o)return null}return!1}function createSubResolver(i,e,s,o){const a=e._rootScopes,c=resolveFallback(e._fallback,s,o),d=[...i,...a],h=new Set;h.add(o);let g=addScopesFromKey(h,d,s,c||s,o);return g===null||typeof c<"u"&&c!==s&&(g=addScopesFromKey(h,d,c,g,o),g===null)?!1:_createResolver(Array.from(h),[""],a,c,()=>subGetTarget(e,s,o))}function addScopesFromKey(i,e,s,o,a){for(;s;)s=addScopes(i,e,s,o,a);return s}function subGetTarget(i,e,s){const o=i._getTarget();e in o||(o[e]={});const a=o[e];return isArray(a)&&isObject(s)?s:a||{}}function _resolveWithPrefixes(i,e,s,o){let a;for(const c of e)if(a=_resolve(readKey(c,i),s),typeof a<"u")return needsSubResolver(i,a)?createSubResolver(s,o,i,a):a}function _resolve(i,e){for(const s of e){if(!s)continue;const o=s[i];if(typeof o<"u")return o}}function getKeysFromAllScopes(i){let e=i._keys;return e||(e=i._keys=resolveKeysFromAllScopes(i._scopes)),e}function resolveKeysFromAllScopes(i){const e=new Set;for(const s of i)for(const o of Object.keys(s).filter(a=>!a.startsWith("_")))e.add(o);return Array.from(e)}function _parseObjectDataRadialScale(i,e,s,o){const{iScale:a}=i,{key:c="r"}=this._parsing,d=new Array(o);let h,g,_,b;for(h=0,g=o;h<g;++h)_=h+s,b=e[_],d[h]={r:a.parse(resolveObjectKey(b,c),_)};return d}const EPSILON=Number.EPSILON||1e-14,getPoint=(i,e)=>e<i.length&&!i[e].skip&&i[e],getValueAxis=i=>i==="x"?"y":"x";function splineCurve(i,e,s,o){const a=i.skip?e:i,c=e,d=s.skip?e:s,h=distanceBetweenPoints(c,a),g=distanceBetweenPoints(d,c);let _=h/(h+g),b=g/(h+g);_=isNaN(_)?0:_,b=isNaN(b)?0:b;const j=o*_,$=o*b;return{previous:{x:c.x-j*(d.x-a.x),y:c.y-j*(d.y-a.y)},next:{x:c.x+$*(d.x-a.x),y:c.y+$*(d.y-a.y)}}}function monotoneAdjust(i,e,s){const o=i.length;let a,c,d,h,g,_=getPoint(i,0);for(let b=0;b<o-1;++b)if(g=_,_=getPoint(i,b+1),!(!g||!_)){if(almostEquals(e[b],0,EPSILON)){s[b]=s[b+1]=0;continue}a=s[b]/e[b],c=s[b+1]/e[b],h=Math.pow(a,2)+Math.pow(c,2),!(h<=9)&&(d=3/Math.sqrt(h),s[b]=a*d*e[b],s[b+1]=c*d*e[b])}}function monotoneCompute(i,e,s="x"){const o=getValueAxis(s),a=i.length;let c,d,h,g=getPoint(i,0);for(let _=0;_<a;++_){if(d=h,h=g,g=getPoint(i,_+1),!h)continue;const b=h[s],j=h[o];d&&(c=(b-d[s])/3,h[`cp1${s}`]=b-c,h[`cp1${o}`]=j-c*e[_]),g&&(c=(g[s]-b)/3,h[`cp2${s}`]=b+c,h[`cp2${o}`]=j+c*e[_])}}function splineCurveMonotone(i,e="x"){const s=getValueAxis(e),o=i.length,a=Array(o).fill(0),c=Array(o);let d,h,g,_=getPoint(i,0);for(d=0;d<o;++d)if(h=g,g=_,_=getPoint(i,d+1),!!g){if(_){const b=_[e]-g[e];a[d]=b!==0?(_[s]-g[s])/b:0}c[d]=h?_?sign(a[d-1])!==sign(a[d])?0:(a[d-1]+a[d])/2:a[d-1]:a[d]}monotoneAdjust(i,a,c),monotoneCompute(i,c,e)}function capControlPoint(i,e,s){return Math.max(Math.min(i,s),e)}function capBezierPoints(i,e){let s,o,a,c,d,h=_isPointInArea(i[0],e);for(s=0,o=i.length;s<o;++s)d=c,c=h,h=s<o-1&&_isPointInArea(i[s+1],e),c&&(a=i[s],d&&(a.cp1x=capControlPoint(a.cp1x,e.left,e.right),a.cp1y=capControlPoint(a.cp1y,e.top,e.bottom)),h&&(a.cp2x=capControlPoint(a.cp2x,e.left,e.right),a.cp2y=capControlPoint(a.cp2y,e.top,e.bottom)))}function _updateBezierControlPoints(i,e,s,o,a){let c,d,h,g;if(e.spanGaps&&(i=i.filter(_=>!_.skip)),e.cubicInterpolationMode==="monotone")splineCurveMonotone(i,a);else{let _=o?i[i.length-1]:i[0];for(c=0,d=i.length;c<d;++c)h=i[c],g=splineCurve(_,h,i[Math.min(c+1,d-(o?0:1))%d],e.tension),h.cp1x=g.previous.x,h.cp1y=g.previous.y,h.cp2x=g.next.x,h.cp2y=g.next.y,_=h}e.capBezierPoints&&capBezierPoints(i,s)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(i){let e=i.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function parseMaxStyle(i,e,s){let o;return typeof i=="string"?(o=parseInt(i,10),i.indexOf("%")!==-1&&(o=o/100*e.parentNode[s])):o=i,o}const getComputedStyle$1=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function getStyle(i,e){return getComputedStyle$1(i).getPropertyValue(e)}const positions=["top","right","bottom","left"];function getPositionedStyle(i,e,s){const o={};s=s?"-"+s:"";for(let a=0;a<4;a++){const c=positions[a];o[c]=parseFloat(i[e+"-"+c+s])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const useOffsetPos=(i,e,s)=>(i>0||e>0)&&(!s||!s.shadowRoot);function getCanvasPosition(i,e){const s=i.touches,o=s&&s.length?s[0]:i,{offsetX:a,offsetY:c}=o;let d=!1,h,g;if(useOffsetPos(a,c,i.target))h=a,g=c;else{const _=e.getBoundingClientRect();h=o.clientX-_.left,g=o.clientY-_.top,d=!0}return{x:h,y:g,box:d}}function getRelativePosition(i,e){if("native"in i)return i;const{canvas:s,currentDevicePixelRatio:o}=e,a=getComputedStyle$1(s),c=a.boxSizing==="border-box",d=getPositionedStyle(a,"padding"),h=getPositionedStyle(a,"border","width"),{x:g,y:_,box:b}=getCanvasPosition(i,s),j=d.left+(b&&h.left),$=d.top+(b&&h.top);let{width:et,height:_e}=e;return c&&(et-=d.width+h.width,_e-=d.height+h.height),{x:Math.round((g-j)/et*s.width/o),y:Math.round((_-$)/_e*s.height/o)}}function getContainerSize(i,e,s){let o,a;if(e===void 0||s===void 0){const c=_getParentNode(i);if(!c)e=i.clientWidth,s=i.clientHeight;else{const d=c.getBoundingClientRect(),h=getComputedStyle$1(c),g=getPositionedStyle(h,"border","width"),_=getPositionedStyle(h,"padding");e=d.width-_.width-g.width,s=d.height-_.height-g.height,o=parseMaxStyle(h.maxWidth,c,"clientWidth"),a=parseMaxStyle(h.maxHeight,c,"clientHeight")}}return{width:e,height:s,maxWidth:o||INFINITY,maxHeight:a||INFINITY}}const round1=i=>Math.round(i*10)/10;function getMaximumSize(i,e,s,o){const a=getComputedStyle$1(i),c=getPositionedStyle(a,"margin"),d=parseMaxStyle(a.maxWidth,i,"clientWidth")||INFINITY,h=parseMaxStyle(a.maxHeight,i,"clientHeight")||INFINITY,g=getContainerSize(i,e,s);let{width:_,height:b}=g;if(a.boxSizing==="content-box"){const $=getPositionedStyle(a,"border","width"),et=getPositionedStyle(a,"padding");_-=et.width+$.width,b-=et.height+$.height}return _=Math.max(0,_-c.width),b=Math.max(0,o?_/o:b-c.height),_=round1(Math.min(_,d,g.maxWidth)),b=round1(Math.min(b,h,g.maxHeight)),_&&!b&&(b=round1(_/2)),(e!==void 0||s!==void 0)&&o&&g.height&&b>g.height&&(b=g.height,_=round1(Math.floor(b*o))),{width:_,height:b}}function retinaScale(i,e,s){const o=e||1,a=Math.floor(i.height*o),c=Math.floor(i.width*o);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const d=i.canvas;return d.style&&(s||!d.style.height&&!d.style.width)&&(d.style.height=`${i.height}px`,d.style.width=`${i.width}px`),i.currentDevicePixelRatio!==o||d.height!==a||d.width!==c?(i.currentDevicePixelRatio=o,d.height=a,d.width=c,i.ctx.setTransform(o,0,0,o,0,0),!0):!1}const supportsEventListenerOptions=function(){let i=!1;try{const e={get passive(){return i=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return i}();function readUsedSize(i,e){const s=getStyle(i,e),o=s&&s.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function _pointInLine(i,e,s,o){return{x:i.x+s*(e.x-i.x),y:i.y+s*(e.y-i.y)}}function _steppedInterpolation(i,e,s,o){return{x:i.x+s*(e.x-i.x),y:o==="middle"?s<.5?i.y:e.y:o==="after"?s<1?i.y:e.y:s>0?e.y:i.y}}function _bezierInterpolation(i,e,s,o){const a={x:i.cp2x,y:i.cp2y},c={x:e.cp1x,y:e.cp1y},d=_pointInLine(i,a,s),h=_pointInLine(a,c,s),g=_pointInLine(c,e,s),_=_pointInLine(d,h,s),b=_pointInLine(h,g,s);return _pointInLine(_,b,s)}const getRightToLeftAdapter=function(i,e){return{x(s){return i+i+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,o){return s-o},leftForLtr(s,o){return s-o}}},getLeftToRightAdapter=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,e){return i+e},leftForLtr(i,e){return i}}};function getRtlAdapter(i,e,s){return i?getRightToLeftAdapter(e,s):getLeftToRightAdapter()}function overrideTextDirection(i,e){let s,o;(e==="ltr"||e==="rtl")&&(s=i.canvas.style,o=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),i.prevTextDirection=o)}function restoreTextDirection(i,e){e!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",e[0],e[1]))}function propertyFn(i){return i==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(e,s)=>e-s,normalize:e=>e}}function normalizeSegment({start:i,end:e,count:s,loop:o,style:a}){return{start:i%s,end:e%s,loop:o&&(e-i+1)%s===0,style:a}}function getSegment(i,e,s){const{property:o,start:a,end:c}=s,{between:d,normalize:h}=propertyFn(o),g=e.length;let{start:_,end:b,loop:j}=i,$,et;if(j){for(_+=g,b+=g,$=0,et=g;$<et&&d(h(e[_%g][o]),a,c);++$)_--,b--;_%=g,b%=g}return b<_&&(b+=g),{start:_,end:b,loop:j,style:i.style}}function _boundSegment(i,e,s){if(!s)return[i];const{property:o,start:a,end:c}=s,d=e.length,{compare:h,between:g,normalize:_}=propertyFn(o),{start:b,end:j,loop:$,style:et}=getSegment(i,e,s),_e=[];let nt=!1,st=null,tt,it,ot;const ct=()=>g(a,ot,tt)&&h(a,ot)!==0,rt=()=>h(c,tt)===0||g(c,ot,tt),lt=()=>nt||ct(),mt=()=>!nt||rt();for(let gt=b,ft=b;gt<=j;++gt)it=e[gt%d],!it.skip&&(tt=_(it[o]),tt!==ot&&(nt=g(tt,a,c),st===null&&lt()&&(st=h(tt,a)===0?gt:ft),st!==null&&mt()&&(_e.push(normalizeSegment({start:st,end:gt,loop:$,count:d,style:et})),st=null),ft=gt,ot=tt));return st!==null&&_e.push(normalizeSegment({start:st,end:j,loop:$,count:d,style:et})),_e}function _boundSegments(i,e){const s=[],o=i.segments;for(let a=0;a<o.length;a++){const c=_boundSegment(o[a],i.points,e);c.length&&s.push(...c)}return s}function findStartAndEnd(i,e,s,o){let a=0,c=e-1;if(s&&!o)for(;a<e&&!i[a].skip;)a++;for(;a<e&&i[a].skip;)a++;for(a%=e,s&&(c+=a);c>a&&i[c%e].skip;)c--;return c%=e,{start:a,end:c}}function solidSegments(i,e,s,o){const a=i.length,c=[];let d=e,h=i[e],g;for(g=e+1;g<=s;++g){const _=i[g%a];_.skip||_.stop?h.skip||(o=!1,c.push({start:e%a,end:(g-1)%a,loop:o}),e=d=_.stop?g:null):(d=g,h.skip&&(e=g)),h=_}return d!==null&&c.push({start:e%a,end:d%a,loop:o}),c}function _computeSegments(i,e){const s=i.points,o=i.options.spanGaps,a=s.length;if(!a)return[];const c=!!i._loop,{start:d,end:h}=findStartAndEnd(s,a,c,o);if(o===!0)return splitByStyles(i,[{start:d,end:h,loop:c}],s,e);const g=h<d?h+a:h,_=!!i._fullLoop&&d===0&&h===a-1;return splitByStyles(i,solidSegments(s,d,g,_),s,e)}function splitByStyles(i,e,s,o){return!o||!o.setContext||!s?e:doSplitByStyles(i,e,s,o)}function doSplitByStyles(i,e,s,o){const a=i._chart.getContext(),c=readStyle(i.options),{_datasetIndex:d,options:{spanGaps:h}}=i,g=s.length,_=[];let b=c,j=e[0].start,$=j;function et(_e,nt,st,tt){const it=h?-1:1;if(_e!==nt){for(_e+=g;s[_e%g].skip;)_e-=it;for(;s[nt%g].skip;)nt+=it;_e%g!==nt%g&&(_.push({start:_e%g,end:nt%g,loop:st,style:tt}),b=tt,j=nt%g)}}for(const _e of e){j=h?j:_e.start;let nt=s[j%g],st;for($=j+1;$<=_e.end;$++){const tt=s[$%g];st=readStyle(o.setContext(createContext(a,{type:"segment",p0:nt,p1:tt,p0DataIndex:($-1)%g,p1DataIndex:$%g,datasetIndex:d}))),styleChanged(st,b)&&et(j,$-1,_e.loop,b),nt=tt,b=st}j<$-1&&et(j,$-1,_e.loop,b)}return _}function readStyle(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function styleChanged(i,e){if(!e)return!1;const s=[],o=function(a,c){return isPatternOrGradient(c)?(s.includes(c)||s.push(c),s.indexOf(c)):c};return JSON.stringify(i,o)!==JSON.stringify(e,o)}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,o,a){const c=s.listeners[a],d=s.duration;c.forEach(h=>h({chart:e,initial:s.initial,numSteps:d,currentStep:Math.min(o-s.start,d)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((o,a)=>{if(!o.running||!o.items.length)return;const c=o.items;let d=c.length-1,h=!1,g;for(;d>=0;--d)g=c[d],g._active?(g._total>o.duration&&(o.duration=g._total),g.tick(e),h=!0):(c[d]=c[c.length-1],c.pop());h&&(a.draw(),this._notify(a,o,e,"progress")),c.length||(o.running=!1,this._notify(a,o,e,"complete"),o.initial=!1),s+=c.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let o=s.get(e);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,o)),o}listen(e,s,o){this._getAnims(e).listeners[s].push(o)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((o,a)=>Math.max(o,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const o=s.items;let a=o.length-1;for(;a>=0;--a)o[a].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(i,e,s){return s>.5?e:i},color(i,e,s){const o=color(i||transparent),a=o.valid&&color(e||transparent);return a&&a.valid?a.mix(o,s).hexString():e},number(i,e,s){return i+(e-i)*s}};class Animation{constructor(e,s,o,a){const c=s[o];a=resolve([e.to,a,c,e.from]);const d=resolve([e.from,c,a]);this._active=!0,this._fn=e.fn||interpolators[e.type||typeof d],this._easing=effects[e.easing]||effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=o,this._from=d,this._to=a,this._promises=void 0}active(){return this._active}update(e,s,o){if(this._active){this._notify(!1);const a=this._target[this._prop],c=o-this._start,d=this._duration-c;this._start=o,this._duration=Math.floor(Math.max(d,e.duration)),this._total+=c,this._loop=!!e.loop,this._to=resolve([e.to,s,a,e.from]),this._from=resolve([e.from,a,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,o=this._duration,a=this._prop,c=this._from,d=this._loop,h=this._to;let g;if(this._active=c!==h&&(d||s<o),!this._active){this._target[a]=h,this._notify(!0);return}if(s<0){this._target[a]=c;return}g=s/o%2,g=d&&g>1?2-g:g,g=this._easing(Math.min(1,Math.max(0,g))),this._target[a]=this._fn(c,h,g)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,o)=>{e.push({res:s,rej:o})})}_notify(e){const s=e?"res":"rej",o=this._promises||[];for(let a=0;a<o.length;a++)o[a][s]()}}class Animations{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!isObject(e))return;const s=Object.keys(defaults.animation),o=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const c=e[a];if(!isObject(c))return;const d={};for(const h of s)d[h]=c[h];(isArray(c.properties)&&c.properties||[a]).forEach(h=>{(h===a||!o.has(h))&&o.set(h,d)})})}_animateOptions(e,s){const o=s.options,a=resolveTargetOptions(e,o);if(!a)return[];const c=this._createAnimations(a,o);return o.$shared&&awaitAll(e.options.$animations,o).then(()=>{e.options=o},()=>{}),c}_createAnimations(e,s){const o=this._properties,a=[],c=e.$animations||(e.$animations={}),d=Object.keys(s),h=Date.now();let g;for(g=d.length-1;g>=0;--g){const _=d[g];if(_.charAt(0)==="$")continue;if(_==="options"){a.push(...this._animateOptions(e,s));continue}const b=s[_];let j=c[_];const $=o.get(_);if(j)if($&&j.active()){j.update($,b,h);continue}else j.cancel();if(!$||!$.duration){e[_]=b;continue}c[_]=j=new Animation($,e,_,b),a.push(j)}return a}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const o=this._createAnimations(e,s);if(o.length)return animator.add(this._chart,o),!0}}function awaitAll(i,e){const s=[],o=Object.keys(e);for(let a=0;a<o.length;a++){const c=i[o[a]];c&&c.active()&&s.push(c.wait())}return Promise.all(s)}function resolveTargetOptions(i,e){if(!e)return;let s=i.options;if(!s){i.options=e;return}return s.$shared&&(i.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function scaleClip(i,e){const s=i&&i.options||{},o=s.reverse,a=s.min===void 0?e:0,c=s.max===void 0?e:0;return{start:o?c:a,end:o?a:c}}function defaultClip(i,e,s){if(s===!1)return!1;const o=scaleClip(i,s),a=scaleClip(e,s);return{top:a.end,right:o.end,bottom:a.start,left:o.start}}function toClip(i){let e,s,o,a;return isObject(i)?(e=i.top,s=i.right,o=i.bottom,a=i.left):e=s=o=a=i,{top:e,right:s,bottom:o,left:a,disabled:i===!1}}function getSortedDatasetIndices(i,e){const s=[],o=i._getSortedDatasetMetas(e);let a,c;for(a=0,c=o.length;a<c;++a)s.push(o[a].index);return s}function applyStack(i,e,s,o={}){const a=i.keys,c=o.mode==="single";let d,h,g,_;if(e!==null){for(d=0,h=a.length;d<h;++d){if(g=+a[d],g===s){if(o.all)continue;break}_=i.values[g],isNumberFinite(_)&&(c||e===0||sign(e)===sign(_))&&(e+=_)}return e}}function convertObjectDataToArray(i){const e=Object.keys(i),s=new Array(e.length);let o,a,c;for(o=0,a=e.length;o<a;++o)c=e[o],s[o]={x:c,y:i[c]};return s}function isStacked(i,e){const s=i&&i.options.stacked;return s||s===void 0&&e.stack!==void 0}function getStackKey(i,e,s){return`${i.id}.${e.id}.${s.stack||s.type}`}function getUserBounds(i){const{min:e,max:s,minDefined:o,maxDefined:a}=i.getUserBounds();return{min:o?e:Number.NEGATIVE_INFINITY,max:a?s:Number.POSITIVE_INFINITY}}function getOrCreateStack(i,e,s){const o=i[e]||(i[e]={});return o[s]||(o[s]={})}function getLastIndexInStack(i,e,s,o){for(const a of e.getMatchingVisibleMetas(o).reverse()){const c=i[a.index];if(s&&c>0||!s&&c<0)return a.index}return null}function updateStacks(i,e){const{chart:s,_cachedMeta:o}=i,a=s._stacks||(s._stacks={}),{iScale:c,vScale:d,index:h}=o,g=c.axis,_=d.axis,b=getStackKey(c,d,o),j=e.length;let $;for(let et=0;et<j;++et){const _e=e[et],{[g]:nt,[_]:st}=_e,tt=_e._stacks||(_e._stacks={});$=tt[_]=getOrCreateStack(a,b,nt),$[h]=st,$._top=getLastIndexInStack($,d,!0,o.type),$._bottom=getLastIndexInStack($,d,!1,o.type);const it=$._visualValues||($._visualValues={});it[h]=st}}function getFirstScaleId(i,e){const s=i.scales;return Object.keys(s).filter(o=>s[o].axis===e).shift()}function createDatasetContext(i,e){return createContext(i,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function createDataContext(i,e,s){return createContext(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function clearStacks(i,e){const s=i.controller.index,o=i.vScale&&i.vScale.axis;if(o){e=e||i._parsed;for(const a of e){const c=a._stacks;if(!c||c[o]===void 0||c[o][s]===void 0)return;delete c[o][s],c[o]._visualValues!==void 0&&c[o]._visualValues[s]!==void 0&&delete c[o]._visualValues[s]}}}const isDirectUpdateMode=i=>i==="reset"||i==="none",cloneIfNotShared=(i,e)=>e?i:Object.assign({},i),createStack=(i,e,s)=>i&&!e.hidden&&e._stacked&&{keys:getSortedDatasetIndices(s,!0),values:null};class DatasetController{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=isStacked(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,o=this.getDataset(),a=(j,$,et,_e)=>j==="x"?$:j==="r"?_e:et,c=s.xAxisID=valueOrDefault(o.xAxisID,getFirstScaleId(e,"x")),d=s.yAxisID=valueOrDefault(o.yAxisID,getFirstScaleId(e,"y")),h=s.rAxisID=valueOrDefault(o.rAxisID,getFirstScaleId(e,"r")),g=s.indexAxis,_=s.iAxisID=a(g,c,d,h),b=s.vAxisID=a(g,d,c,h);s.xScale=this.getScaleForId(c),s.yScale=this.getScaleForId(d),s.rScale=this.getScaleForId(h),s.iScale=this.getScaleForId(_),s.vScale=this.getScaleForId(b)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),e._stacked&&clearStacks(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),o=this._data;if(isObject(s))this._data=convertObjectDataToArray(s);else if(o!==s){if(o){unlistenArrayEvents(o,this);const a=this._cachedMeta;clearStacks(a),a._parsed=[]}s&&Object.isExtensible(s)&&listenArrayEvents(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,o=this.getDataset();let a=!1;this._dataCheck();const c=s._stacked;s._stacked=isStacked(s.vScale,s),s.stack!==o.stack&&(a=!0,clearStacks(s),s.stack=o.stack),this._resyncElements(e),(a||c!==s._stacked)&&updateStacks(this,s._parsed)}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:o,_data:a}=this,{iScale:c,_stacked:d}=o,h=c.axis;let g=e===0&&s===a.length?!0:o._sorted,_=e>0&&o._parsed[e-1],b,j,$;if(this._parsing===!1)o._parsed=a,o._sorted=!0,$=a;else{isArray(a[e])?$=this.parseArrayData(o,a,e,s):isObject(a[e])?$=this.parseObjectData(o,a,e,s):$=this.parsePrimitiveData(o,a,e,s);const et=()=>j[h]===null||_&&j[h]<_[h];for(b=0;b<s;++b)o._parsed[b+e]=j=$[b],g&&(et()&&(g=!1),_=j);o._sorted=g}d&&updateStacks(this,$)}parsePrimitiveData(e,s,o,a){const{iScale:c,vScale:d}=e,h=c.axis,g=d.axis,_=c.getLabels(),b=c===d,j=new Array(a);let $,et,_e;for($=0,et=a;$<et;++$)_e=$+o,j[$]={[h]:b||c.parse(_[_e],_e),[g]:d.parse(s[_e],_e)};return j}parseArrayData(e,s,o,a){const{xScale:c,yScale:d}=e,h=new Array(a);let g,_,b,j;for(g=0,_=a;g<_;++g)b=g+o,j=s[b],h[g]={x:c.parse(j[0],b),y:d.parse(j[1],b)};return h}parseObjectData(e,s,o,a){const{xScale:c,yScale:d}=e,{xAxisKey:h="x",yAxisKey:g="y"}=this._parsing,_=new Array(a);let b,j,$,et;for(b=0,j=a;b<j;++b)$=b+o,et=s[$],_[b]={x:c.parse(resolveObjectKey(et,h),$),y:d.parse(resolveObjectKey(et,g),$)};return _}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,o){const a=this.chart,c=this._cachedMeta,d=s[e.axis],h={keys:getSortedDatasetIndices(a,!0),values:s._stacks[e.axis]._visualValues};return applyStack(h,d,c.index,{mode:o})}updateRangeFromParsed(e,s,o,a){const c=o[s.axis];let d=c===null?NaN:c;const h=a&&o._stacks[s.axis];a&&h&&(a.values=h,d=applyStack(a,c,this._cachedMeta.index)),e.min=Math.min(e.min,d),e.max=Math.max(e.max,d)}getMinMax(e,s){const o=this._cachedMeta,a=o._parsed,c=o._sorted&&e===o.iScale,d=a.length,h=this._getOtherScale(e),g=createStack(s,o,this.chart),_={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:b,max:j}=getUserBounds(h);let $,et;function _e(){et=a[$];const nt=et[h.axis];return!isNumberFinite(et[e.axis])||b>nt||j<nt}for($=0;$<d&&!(!_e()&&(this.updateRangeFromParsed(_,e,et,g),c));++$);if(c){for($=d-1;$>=0;--$)if(!_e()){this.updateRangeFromParsed(_,e,et,g);break}}return _}getAllParsedValues(e){const s=this._cachedMeta._parsed,o=[];let a,c,d;for(a=0,c=s.length;a<c;++a)d=s[a][e.axis],isNumberFinite(d)&&o.push(d);return o}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,o=s.iScale,a=s.vScale,c=this.getParsed(e);return{label:o?""+o.getLabelForValue(c[o.axis]):"",value:a?""+a.getLabelForValue(c[a.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=toClip(valueOrDefault(this.options.clip,defaultClip(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,o=this._cachedMeta,a=o.data||[],c=s.chartArea,d=[],h=this._drawStart||0,g=this._drawCount||a.length-h,_=this.options.drawActiveElementsOnTop;let b;for(o.dataset&&o.dataset.draw(e,c,h,g),b=h;b<h+g;++b){const j=a[b];j.hidden||(j.active&&_?d.push(j):j.draw(e,c))}for(b=0;b<d.length;++b)d[b].draw(e,c)}getStyle(e,s){const o=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,s,o){const a=this.getDataset();let c;if(e>=0&&e<this._cachedMeta.data.length){const d=this._cachedMeta.data[e];c=d.$context||(d.$context=createDataContext(this.getContext(),e,d)),c.parsed=this.getParsed(e),c.raw=a.data[e],c.index=c.dataIndex=e}else c=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),c.dataset=a,c.index=c.datasetIndex=this.index;return c.active=!!s,c.mode=o,c}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",o){const a=s==="active",c=this._cachedDataOpts,d=e+"-"+s,h=c[d],g=this.enableOptionSharing&&defined(o);if(h)return cloneIfNotShared(h,g);const _=this.chart.config,b=_.datasetElementScopeKeys(this._type,e),j=a?[`${e}Hover`,"hover",e,""]:[e,""],$=_.getOptionScopes(this.getDataset(),b),et=Object.keys(defaults.elements[e]),_e=()=>this.getContext(o,a,s),nt=_.resolveNamedOptions($,et,_e,j);return nt.$shared&&(nt.$shared=g,c[d]=Object.freeze(cloneIfNotShared(nt,g))),nt}_resolveAnimations(e,s,o){const a=this.chart,c=this._cachedDataOpts,d=`animation-${s}`,h=c[d];if(h)return h;let g;if(a.options.animation!==!1){const b=this.chart.config,j=b.datasetAnimationScopeKeys(this._type,s),$=b.getOptionScopes(this.getDataset(),j);g=b.createResolver($,this.getContext(e,o,s))}const _=new Animations(a,g&&g.animations);return g&&g._cacheable&&(c[d]=Object.freeze(_)),_}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||isDirectUpdateMode(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const o=this.resolveDataElementOptions(e,s),a=this._sharedOptions,c=this.getSharedOptions(o),d=this.includeOptions(s,c)||c!==a;return this.updateSharedOptions(c,s,o),{sharedOptions:c,includeOptions:d}}updateElement(e,s,o,a){isDirectUpdateMode(a)?Object.assign(e,o):this._resolveAnimations(s,a).update(e,o)}updateSharedOptions(e,s,o){e&&!isDirectUpdateMode(s)&&this._resolveAnimations(void 0,s).update(e,o)}_setStyle(e,s,o,a){e.active=a;const c=this.getStyle(s,a);this._resolveAnimations(s,o,a).update(e,{options:!a&&this.getSharedOptions(c)||c})}removeHoverStyle(e,s,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,s,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,o=this._cachedMeta.data;for(const[h,g,_]of this._syncList)this[h](g,_);this._syncList=[];const a=o.length,c=s.length,d=Math.min(c,a);d&&this.parse(0,d),c>a?this._insertElements(a,c-a,e):c<a&&this._removeElements(c,a-c)}_insertElements(e,s,o=!0){const a=this._cachedMeta,c=a.data,d=e+s;let h;const g=_=>{for(_.length+=s,h=_.length-1;h>=d;h--)_[h]=_[h-s]};for(g(c),h=e;h<d;++h)c[h]=new this.dataElementType;this._parsing&&g(a._parsed),this.parse(e,s),o&&this.updateElements(c,e,s,"reset")}updateElements(e,s,o,a){}_removeElements(e,s){const o=this._cachedMeta;if(this._parsing){const a=o._parsed.splice(e,s);o._stacked&&clearStacks(o,a)}o.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,o,a]=e;this[s](o,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}dn(DatasetController,"defaults",{}),dn(DatasetController,"datasetElementType",null),dn(DatasetController,"dataElementType",null);function getAllScaleValues(i,e){if(!i._cache.$bar){const s=i.getMatchingVisibleMetas(e);let o=[];for(let a=0,c=s.length;a<c;a++)o=o.concat(s[a].controller.getAllParsedValues(i));i._cache.$bar=_arrayUnique(o.sort((a,c)=>a-c))}return i._cache.$bar}function computeMinSampleSize(i){const e=i.iScale,s=getAllScaleValues(e,i.type);let o=e._length,a,c,d,h;const g=()=>{d===32767||d===-32768||(defined(h)&&(o=Math.min(o,Math.abs(d-h)||o)),h=d)};for(a=0,c=s.length;a<c;++a)d=e.getPixelForValue(s[a]),g();for(h=void 0,a=0,c=e.ticks.length;a<c;++a)d=e.getPixelForTick(a),g();return o}function computeFitCategoryTraits(i,e,s,o){const a=s.barThickness;let c,d;return isNullOrUndef(a)?(c=e.min*s.categoryPercentage,d=s.barPercentage):(c=a*o,d=1),{chunk:c/o,ratio:d,start:e.pixels[i]-c/2}}function computeFlexCategoryTraits(i,e,s,o){const a=e.pixels,c=a[i];let d=i>0?a[i-1]:null,h=i<a.length-1?a[i+1]:null;const g=s.categoryPercentage;d===null&&(d=c-(h===null?e.end-e.start:h-c)),h===null&&(h=c+c-d);const _=c-(c-Math.min(d,h))/2*g;return{chunk:Math.abs(h-d)/2*g/o,ratio:s.barPercentage,start:_}}function parseFloatBar(i,e,s,o){const a=s.parse(i[0],o),c=s.parse(i[1],o),d=Math.min(a,c),h=Math.max(a,c);let g=d,_=h;Math.abs(d)>Math.abs(h)&&(g=h,_=d),e[s.axis]=_,e._custom={barStart:g,barEnd:_,start:a,end:c,min:d,max:h}}function parseValue(i,e,s,o){return isArray(i)?parseFloatBar(i,e,s,o):e[s.axis]=s.parse(i,o),e}function parseArrayOrPrimitive(i,e,s,o){const a=i.iScale,c=i.vScale,d=a.getLabels(),h=a===c,g=[];let _,b,j,$;for(_=s,b=s+o;_<b;++_)$=e[_],j={},j[a.axis]=h||a.parse(d[_],_),g.push(parseValue($,j,c,_));return g}function isFloatBar(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function barSign(i,e,s){return i!==0?sign(i):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function borderProps(i){let e,s,o,a,c;return i.horizontal?(e=i.base>i.x,s="left",o="right"):(e=i.base<i.y,s="bottom",o="top"),e?(a="end",c="start"):(a="start",c="end"),{start:s,end:o,reverse:e,top:a,bottom:c}}function setBorderSkipped(i,e,s,o){let a=e.borderSkipped;const c={};if(!a){i.borderSkipped=c;return}if(a===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:d,end:h,reverse:g,top:_,bottom:b}=borderProps(i);a==="middle"&&s&&(i.enableBorderRadius=!0,(s._top||0)===o?a=_:(s._bottom||0)===o?a=b:(c[parseEdge(b,d,h,g)]=!0,a=_)),c[parseEdge(a,d,h,g)]=!0,i.borderSkipped=c}function parseEdge(i,e,s,o){return o?(i=swap(i,e,s),i=startEnd(i,s,e)):i=startEnd(i,e,s),i}function swap(i,e,s){return i===e?s:i===s?e:i}function startEnd(i,e,s){return i==="start"?e:i==="end"?s:i}function setInflateAmount(i,{inflateAmount:e},s){i.inflateAmount=e==="auto"?s===1?.33:0:e}class BarController extends DatasetController{parsePrimitiveData(e,s,o,a){return parseArrayOrPrimitive(e,s,o,a)}parseArrayData(e,s,o,a){return parseArrayOrPrimitive(e,s,o,a)}parseObjectData(e,s,o,a){const{iScale:c,vScale:d}=e,{xAxisKey:h="x",yAxisKey:g="y"}=this._parsing,_=c.axis==="x"?h:g,b=d.axis==="x"?h:g,j=[];let $,et,_e,nt;for($=o,et=o+a;$<et;++$)nt=s[$],_e={},_e[c.axis]=c.parse(resolveObjectKey(nt,_),$),j.push(parseValue(resolveObjectKey(nt,b),_e,d,$));return j}updateRangeFromParsed(e,s,o,a){super.updateRangeFromParsed(e,s,o,a);const c=o._custom;c&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,c.min),e.max=Math.max(e.max,c.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:o,vScale:a}=s,c=this.getParsed(e),d=c._custom,h=isFloatBar(d)?"["+d.start+", "+d.end+"]":""+a.getLabelForValue(c[a.axis]);return{label:""+o.getLabelForValue(c[o.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,o,a){const c=a==="reset",{index:d,_cachedMeta:{vScale:h}}=this,g=h.getBasePixel(),_=h.isHorizontal(),b=this._getRuler(),{sharedOptions:j,includeOptions:$}=this._getSharedOptions(s,a);for(let et=s;et<s+o;et++){const _e=this.getParsed(et),nt=c||isNullOrUndef(_e[h.axis])?{base:g,head:g}:this._calculateBarValuePixels(et),st=this._calculateBarIndexPixels(et,b),tt=(_e._stacks||{})[h.axis],it={horizontal:_,base:nt.base,enableBorderRadius:!tt||isFloatBar(_e._custom)||d===tt._top||d===tt._bottom,x:_?nt.head:st.center,y:_?st.center:nt.head,height:_?st.size:Math.abs(nt.size),width:_?Math.abs(nt.size):st.size};$&&(it.options=j||this.resolveDataElementOptions(et,e[et].active?"active":a));const ot=it.options||e[et].options;setBorderSkipped(it,ot,tt,d),setInflateAmount(it,ot,b.ratio),this.updateElement(e[et],et,it,a)}}_getStacks(e,s){const{iScale:o}=this._cachedMeta,a=o.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),c=o.options.stacked,d=[],h=g=>{const _=g.controller.getParsed(s),b=_&&_[g.vScale.axis];if(isNullOrUndef(b)||isNaN(b))return!0};for(const g of a)if(!(s!==void 0&&h(g))&&((c===!1||d.indexOf(g.stack)===-1||c===void 0&&g.stack===void 0)&&d.push(g.stack),g.index===e))break;return d.length||d.push(void 0),d}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,s,o){const a=this._getStacks(e,o),c=s!==void 0?a.indexOf(s):-1;return c===-1?a.length-1:c}_getRuler(){const e=this.options,s=this._cachedMeta,o=s.iScale,a=[];let c,d;for(c=0,d=s.data.length;c<d;++c)a.push(o.getPixelForValue(this.getParsed(c)[o.axis],c));const h=e.barThickness;return{min:h||computeMinSampleSize(s),pixels:a,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:o,index:a},options:{base:c,minBarLength:d}}=this,h=c||0,g=this.getParsed(e),_=g._custom,b=isFloatBar(_);let j=g[s.axis],$=0,et=o?this.applyStack(s,g,o):j,_e,nt;et!==j&&($=et-j,et=j),b&&(j=_.barStart,et=_.barEnd-_.barStart,j!==0&&sign(j)!==sign(_.barEnd)&&($=0),$+=j);const st=!isNullOrUndef(c)&&!b?c:$;let tt=s.getPixelForValue(st);if(this.chart.getDataVisibility(e)?_e=s.getPixelForValue($+et):_e=tt,nt=_e-tt,Math.abs(nt)<d){nt=barSign(nt,s,h)*d,j===h&&(tt-=nt/2);const it=s.getPixelForDecimal(0),ot=s.getPixelForDecimal(1),ct=Math.min(it,ot),rt=Math.max(it,ot);tt=Math.max(Math.min(tt,rt),ct),_e=tt+nt,o&&!b&&(g._stacks[s.axis]._visualValues[a]=s.getValueForPixel(_e)-s.getValueForPixel(tt))}if(tt===s.getPixelForValue(h)){const it=sign(nt)*s.getLineWidthForValue(h)/2;tt+=it,nt-=it}return{size:nt,base:tt,head:_e,center:_e+nt/2}}_calculateBarIndexPixels(e,s){const o=s.scale,a=this.options,c=a.skipNull,d=valueOrDefault(a.maxBarThickness,1/0);let h,g;if(s.grouped){const _=c?this._getStackCount(e):s.stackCount,b=a.barThickness==="flex"?computeFlexCategoryTraits(e,s,a,_):computeFitCategoryTraits(e,s,a,_),j=this._getStackIndex(this.index,this._cachedMeta.stack,c?e:void 0);h=b.start+b.chunk*j+b.chunk/2,g=Math.min(d,b.chunk*b.ratio)}else h=o.getPixelForValue(this.getParsed(e)[o.axis],e),g=Math.min(d,s.min*s.ratio);return{base:h-g/2,head:h+g/2,center:h,size:g}}draw(){const e=this._cachedMeta,s=e.vScale,o=e.data,a=o.length;let c=0;for(;c<a;++c)this.getParsed(c)[s.axis]!==null&&o[c].draw(this._ctx)}}dn(BarController,"id","bar"),dn(BarController,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),dn(BarController,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class BubbleController extends DatasetController{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,s,o,a){const c=super.parsePrimitiveData(e,s,o,a);for(let d=0;d<c.length;d++)c[d]._custom=this.resolveDataElementOptions(d+o).radius;return c}parseArrayData(e,s,o,a){const c=super.parseArrayData(e,s,o,a);for(let d=0;d<c.length;d++){const h=s[o+d];c[d]._custom=valueOrDefault(h[2],this.resolveDataElementOptions(d+o).radius)}return c}parseObjectData(e,s,o,a){const c=super.parseObjectData(e,s,o,a);for(let d=0;d<c.length;d++){const h=s[o+d];c[d]._custom=valueOrDefault(h&&h.r&&+h.r,this.resolveDataElementOptions(d+o).radius)}return c}getMaxOverflow(){const e=this._cachedMeta.data;let s=0;for(let o=e.length-1;o>=0;--o)s=Math.max(s,e[o].size(this.resolveDataElementOptions(o))/2);return s>0&&s}getLabelAndValue(e){const s=this._cachedMeta,o=this.chart.data.labels||[],{xScale:a,yScale:c}=s,d=this.getParsed(e),h=a.getLabelForValue(d.x),g=c.getLabelForValue(d.y),_=d._custom;return{label:o[e]||"",value:"("+h+", "+g+(_?", "+_:"")+")"}}update(e){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,e)}updateElements(e,s,o,a){const c=a==="reset",{iScale:d,vScale:h}=this._cachedMeta,{sharedOptions:g,includeOptions:_}=this._getSharedOptions(s,a),b=d.axis,j=h.axis;for(let $=s;$<s+o;$++){const et=e[$],_e=!c&&this.getParsed($),nt={},st=nt[b]=c?d.getPixelForDecimal(.5):d.getPixelForValue(_e[b]),tt=nt[j]=c?h.getBasePixel():h.getPixelForValue(_e[j]);nt.skip=isNaN(st)||isNaN(tt),_&&(nt.options=g||this.resolveDataElementOptions($,et.active?"active":a),c&&(nt.options.radius=0)),this.updateElement(et,$,nt,a)}}resolveDataElementOptions(e,s){const o=this.getParsed(e);let a=super.resolveDataElementOptions(e,s);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const c=a.radius;return s!=="active"&&(a.radius=0),a.radius+=valueOrDefault(o&&o._custom,c),a}}dn(BubbleController,"id","bubble"),dn(BubbleController,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),dn(BubbleController,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function getRatioAndOffset(i,e,s){let o=1,a=1,c=0,d=0;if(e<TAU){const h=i,g=h+e,_=Math.cos(h),b=Math.sin(h),j=Math.cos(g),$=Math.sin(g),et=(ot,ct,rt)=>_angleBetween(ot,h,g,!0)?1:Math.max(ct,ct*s,rt,rt*s),_e=(ot,ct,rt)=>_angleBetween(ot,h,g,!0)?-1:Math.min(ct,ct*s,rt,rt*s),nt=et(0,_,j),st=et(HALF_PI,b,$),tt=_e(PI,_,j),it=_e(PI+HALF_PI,b,$);o=(nt-tt)/2,a=(st-it)/2,c=-(nt+tt)/2,d=-(st+it)/2}return{ratioX:o,ratioY:a,offsetX:c,offsetY:d}}class DoughnutController extends DatasetController{constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const o=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=o;else{let c=g=>+o[g];if(isObject(o[e])){const{key:g="value"}=this._parsing;c=_=>+resolveObjectKey(o[_],g)}let d,h;for(d=e,h=e+s;d<h;++d)a._parsed[d]=c(d)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let e=TAU,s=-TAU;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){const a=this.chart.getDatasetMeta(o).controller,c=a._getRotation(),d=a._getCircumference();e=Math.min(e,c),s=Math.max(s,c+d)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:o}=s,a=this._cachedMeta,c=a.data,d=this.getMaxBorderWidth()+this.getMaxOffset(c)+this.options.spacing,h=Math.max((Math.min(o.width,o.height)-d)/2,0),g=Math.min(toPercentage(this.options.cutout,h),1),_=this._getRingWeight(this.index),{circumference:b,rotation:j}=this._getRotationExtents(),{ratioX:$,ratioY:et,offsetX:_e,offsetY:nt}=getRatioAndOffset(j,b,g),st=(o.width-d)/$,tt=(o.height-d)/et,it=Math.max(Math.min(st,tt)/2,0),ot=toDimension(this.options.radius,it),ct=Math.max(ot*g,0),rt=(ot-ct)/this._getVisibleDatasetWeightTotal();this.offsetX=_e*ot,this.offsetY=nt*ot,a.total=this.calculateTotal(),this.outerRadius=ot-rt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-rt*_,0),this.updateElements(c,0,c.length,e)}_circumference(e,s){const o=this.options,a=this._cachedMeta,c=this._getCircumference();return s&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*c/TAU)}updateElements(e,s,o,a){const c=a==="reset",d=this.chart,h=d.chartArea,_=d.options.animation,b=(h.left+h.right)/2,j=(h.top+h.bottom)/2,$=c&&_.animateScale,et=$?0:this.innerRadius,_e=$?0:this.outerRadius,{sharedOptions:nt,includeOptions:st}=this._getSharedOptions(s,a);let tt=this._getRotation(),it;for(it=0;it<s;++it)tt+=this._circumference(it,c);for(it=s;it<s+o;++it){const ot=this._circumference(it,c),ct=e[it],rt={x:b+this.offsetX,y:j+this.offsetY,startAngle:tt,endAngle:tt+ot,circumference:ot,outerRadius:_e,innerRadius:et};st&&(rt.options=nt||this.resolveDataElementOptions(it,ct.active?"active":a)),tt+=ot,this.updateElement(ct,it,rt,a)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let o=0,a;for(a=0;a<s.length;a++){const c=e._parsed[a];c!==null&&!isNaN(c)&&this.chart.getDataVisibility(a)&&!s[a].hidden&&(o+=Math.abs(c))}return o}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?TAU*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,o=this.chart,a=o.data.labels||[],c=formatNumber(s._parsed[e],o.options.locale);return{label:a[e]||"",value:c}}getMaxBorderWidth(e){let s=0;const o=this.chart;let a,c,d,h,g;if(!e){for(a=0,c=o.data.datasets.length;a<c;++a)if(o.isDatasetVisible(a)){d=o.getDatasetMeta(a),e=d.data,h=d.controller;break}}if(!e)return 0;for(a=0,c=e.length;a<c;++a)g=h.resolveDataElementOptions(a),g.borderAlign!=="inner"&&(s=Math.max(s,g.borderWidth||0,g.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let o=0,a=e.length;o<a;++o){const c=this.resolveDataElementOptions(o);s=Math.max(s,c.offset||0,c.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let o=0;o<e;++o)this.chart.isDatasetVisible(o)&&(s+=this._getRingWeight(o));return s}_getRingWeight(e){return Math.max(valueOrDefault(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}dn(DoughnutController,"id","doughnut"),dn(DoughnutController,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),dn(DoughnutController,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),dn(DoughnutController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:o,color:a}}=e.legend.options;return s.labels.map((c,d)=>{const g=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:g.backgroundColor,strokeStyle:g.borderColor,fontColor:a,lineWidth:g.borderWidth,pointStyle:o,hidden:!e.getDataVisibility(d),index:d}})}return[]}},onClick(e,s,o){o.chart.toggleDataVisibility(s.index),o.chart.update()}}}});class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:o,data:a=[],_dataset:c}=s,d=this.chart._animationsDisabled;let{start:h,count:g}=_getStartAndCountOfVisiblePoints(s,a,d);this._drawStart=h,this._drawCount=g,_scaleRangesChanged(s)&&(h=0,g=a.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!c._decimated,o.points=a;const _=this.resolveDatasetElementOptions(e);this.options.showLine||(_.borderWidth=0),_.segment=this.options.segment,this.updateElement(o,void 0,{animated:!d,options:_},e),this.updateElements(a,h,g,e)}updateElements(e,s,o,a){const c=a==="reset",{iScale:d,vScale:h,_stacked:g,_dataset:_}=this._cachedMeta,{sharedOptions:b,includeOptions:j}=this._getSharedOptions(s,a),$=d.axis,et=h.axis,{spanGaps:_e,segment:nt}=this.options,st=isNumber(_e)?_e:Number.POSITIVE_INFINITY,tt=this.chart._animationsDisabled||c||a==="none",it=s+o,ot=e.length;let ct=s>0&&this.getParsed(s-1);for(let rt=0;rt<ot;++rt){const lt=e[rt],mt=tt?lt:{};if(rt<s||rt>=it){mt.skip=!0;continue}const gt=this.getParsed(rt),ft=isNullOrUndef(gt[et]),yt=mt[$]=d.getPixelForValue(gt[$],rt),_t=mt[et]=c||ft?h.getBasePixel():h.getPixelForValue(g?this.applyStack(h,gt,g):gt[et],rt);mt.skip=isNaN(yt)||isNaN(_t)||ft,mt.stop=rt>0&&Math.abs(gt[$]-ct[$])>st,nt&&(mt.parsed=gt,mt.raw=_.data[rt]),j&&(mt.options=b||this.resolveDataElementOptions(rt,lt.active?"active":a)),tt||this.updateElement(lt,rt,mt,a),ct=gt}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,o=s.options&&s.options.borderWidth||0,a=e.data||[];if(!a.length)return o;const c=a[0].size(this.resolveDataElementOptions(0)),d=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(o,c,d)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}dn(LineController,"id","line"),dn(LineController,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),dn(LineController,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class PolarAreaController extends DatasetController{constructor(e,s){super(e,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const s=this._cachedMeta,o=this.chart,a=o.data.labels||[],c=formatNumber(s._parsed[e].r,o.options.locale);return{label:a[e]||"",value:c}}parseObjectData(e,s,o,a){return _parseObjectDataRadialScale.bind(this)(e,s,o,a)}update(e){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,e)}getMinMax(){const e=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((o,a)=>{const c=this.getParsed(a).r;!isNaN(c)&&this.chart.getDataVisibility(a)&&(c<s.min&&(s.min=c),c>s.max&&(s.max=c))}),s}_updateRadius(){const e=this.chart,s=e.chartArea,o=e.options,a=Math.min(s.right-s.left,s.bottom-s.top),c=Math.max(a/2,0),d=Math.max(o.cutoutPercentage?c/100*o.cutoutPercentage:1,0),h=(c-d)/e.getVisibleDatasetCount();this.outerRadius=c-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(e,s,o,a){const c=a==="reset",d=this.chart,g=d.options.animation,_=this._cachedMeta.rScale,b=_.xCenter,j=_.yCenter,$=_.getIndexAngle(0)-.5*PI;let et=$,_e;const nt=360/this.countVisibleElements();for(_e=0;_e<s;++_e)et+=this._computeAngle(_e,a,nt);for(_e=s;_e<s+o;_e++){const st=e[_e];let tt=et,it=et+this._computeAngle(_e,a,nt),ot=d.getDataVisibility(_e)?_.getDistanceFromCenterForValue(this.getParsed(_e).r):0;et=it,c&&(g.animateScale&&(ot=0),g.animateRotate&&(tt=it=$));const ct={x:b,y:j,innerRadius:0,outerRadius:ot,startAngle:tt,endAngle:it,options:this.resolveDataElementOptions(_e,st.active?"active":a)};this.updateElement(st,_e,ct,a)}}countVisibleElements(){const e=this._cachedMeta;let s=0;return e.data.forEach((o,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&s++}),s}_computeAngle(e,s,o){return this.chart.getDataVisibility(e)?toRadians(this.resolveDataElementOptions(e,s).angle||o):0}}dn(PolarAreaController,"id","polarArea"),dn(PolarAreaController,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),dn(PolarAreaController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:o,color:a}}=e.legend.options;return s.labels.map((c,d)=>{const g=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:g.backgroundColor,strokeStyle:g.borderColor,fontColor:a,lineWidth:g.borderWidth,pointStyle:o,hidden:!e.getDataVisibility(d),index:d}})}return[]}},onClick(e,s,o){o.chart.toggleDataVisibility(s.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class PieController extends DoughnutController{}dn(PieController,"id","pie"),dn(PieController,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class RadarController extends DatasetController{getLabelAndValue(e){const s=this._cachedMeta.vScale,o=this.getParsed(e);return{label:s.getLabels()[e],value:""+s.getLabelForValue(o[s.axis])}}parseObjectData(e,s,o,a){return _parseObjectDataRadialScale.bind(this)(e,s,o,a)}update(e){const s=this._cachedMeta,o=s.dataset,a=s.data||[],c=s.iScale.getLabels();if(o.points=a,e!=="resize"){const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0);const h={_loop:!0,_fullLoop:c.length===a.length,options:d};this.updateElement(o,void 0,h,e)}this.updateElements(a,0,a.length,e)}updateElements(e,s,o,a){const c=this._cachedMeta.rScale,d=a==="reset";for(let h=s;h<s+o;h++){const g=e[h],_=this.resolveDataElementOptions(h,g.active?"active":a),b=c.getPointPositionForValue(h,this.getParsed(h).r),j=d?c.xCenter:b.x,$=d?c.yCenter:b.y,et={x:j,y:$,angle:b.angle,skip:isNaN(j)||isNaN($),options:_};this.updateElement(g,h,et,a)}}}dn(RadarController,"id","radar"),dn(RadarController,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),dn(RadarController,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ScatterController extends DatasetController{getLabelAndValue(e){const s=this._cachedMeta,o=this.chart.data.labels||[],{xScale:a,yScale:c}=s,d=this.getParsed(e),h=a.getLabelForValue(d.x),g=c.getLabelForValue(d.y);return{label:o[e]||"",value:"("+h+", "+g+")"}}update(e){const s=this._cachedMeta,{data:o=[]}=s,a=this.chart._animationsDisabled;let{start:c,count:d}=_getStartAndCountOfVisiblePoints(s,o,a);if(this._drawStart=c,this._drawCount=d,_scaleRangesChanged(s)&&(c=0,d=o.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:h,_dataset:g}=s;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!g._decimated,h.points=o;const _=this.resolveDatasetElementOptions(e);_.segment=this.options.segment,this.updateElement(h,void 0,{animated:!a,options:_},e)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(o,c,d,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,s,o,a){const c=a==="reset",{iScale:d,vScale:h,_stacked:g,_dataset:_}=this._cachedMeta,b=this.resolveDataElementOptions(s,a),j=this.getSharedOptions(b),$=this.includeOptions(a,j),et=d.axis,_e=h.axis,{spanGaps:nt,segment:st}=this.options,tt=isNumber(nt)?nt:Number.POSITIVE_INFINITY,it=this.chart._animationsDisabled||c||a==="none";let ot=s>0&&this.getParsed(s-1);for(let ct=s;ct<s+o;++ct){const rt=e[ct],lt=this.getParsed(ct),mt=it?rt:{},gt=isNullOrUndef(lt[_e]),ft=mt[et]=d.getPixelForValue(lt[et],ct),yt=mt[_e]=c||gt?h.getBasePixel():h.getPixelForValue(g?this.applyStack(h,lt,g):lt[_e],ct);mt.skip=isNaN(ft)||isNaN(yt)||gt,mt.stop=ct>0&&Math.abs(lt[et]-ot[et])>tt,st&&(mt.parsed=lt,mt.raw=_.data[ct]),$&&(mt.options=j||this.resolveDataElementOptions(ct,rt.active?"active":a)),it||this.updateElement(rt,ct,mt,a),ot=lt}this.updateSharedOptions(j,a,b)}getMaxOverflow(){const e=this._cachedMeta,s=e.data||[];if(!this.options.showLine){let h=0;for(let g=s.length-1;g>=0;--g)h=Math.max(h,s[g].size(this.resolveDataElementOptions(g))/2);return h>0&&h}const o=e.dataset,a=o.options&&o.options.borderWidth||0;if(!s.length)return a;const c=s[0].size(this.resolveDataElementOptions(0)),d=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(a,c,d)/2}}dn(ScatterController,"id","scatter"),dn(ScatterController,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),dn(ScatterController,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var controllers=Object.freeze({__proto__:null,BarController,BubbleController,DoughnutController,LineController,PieController,PolarAreaController,RadarController,ScatterController});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{constructor(e){dn(this,"options");this.options=e||{}}static override(e){Object.assign(DateAdapterBase.prototype,e)}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(i,e,s,o){const{controller:a,data:c,_sorted:d}=i,h=a._cachedMeta.iScale;if(h&&e===h.axis&&e!=="r"&&d&&c.length){const g=h._reversePixels?_rlookupByKey:_lookupByKey;if(o){if(a._sharedOptions){const _=c[0],b=typeof _.getRange=="function"&&_.getRange(e);if(b){const j=g(c,e,s-b),$=g(c,e,s+b);return{lo:j.lo,hi:$.hi}}}}else return g(c,e,s)}return{lo:0,hi:c.length-1}}function evaluateInteractionItems(i,e,s,o,a){const c=i.getSortedVisibleDatasetMetas(),d=s[e];for(let h=0,g=c.length;h<g;++h){const{index:_,data:b}=c[h],{lo:j,hi:$}=binarySearch(c[h],e,d,a);for(let et=j;et<=$;++et){const _e=b[et];_e.skip||o(_e,_,et)}}}function getDistanceMetricForAxis(i){const e=i.indexOf("x")!==-1,s=i.indexOf("y")!==-1;return function(o,a){const c=e?Math.abs(o.x-a.x):0,d=s?Math.abs(o.y-a.y):0;return Math.sqrt(Math.pow(c,2)+Math.pow(d,2))}}function getIntersectItems(i,e,s,o,a){const c=[];return!a&&!i.isPointInArea(e)||evaluateInteractionItems(i,s,e,function(h,g,_){!a&&!_isPointInArea(h,i.chartArea,0)||h.inRange(e.x,e.y,o)&&c.push({element:h,datasetIndex:g,index:_})},!0),c}function getNearestRadialItems(i,e,s,o){let a=[];function c(d,h,g){const{startAngle:_,endAngle:b}=d.getProps(["startAngle","endAngle"],o),{angle:j}=getAngleFromPoint(d,{x:e.x,y:e.y});_angleBetween(j,_,b)&&a.push({element:d,datasetIndex:h,index:g})}return evaluateInteractionItems(i,s,e,c),a}function getNearestCartesianItems(i,e,s,o,a,c){let d=[];const h=getDistanceMetricForAxis(s);let g=Number.POSITIVE_INFINITY;function _(b,j,$){const et=b.inRange(e.x,e.y,a);if(o&&!et)return;const _e=b.getCenterPoint(a);if(!(!!c||i.isPointInArea(_e))&&!et)return;const st=h(e,_e);st<g?(d=[{element:b,datasetIndex:j,index:$}],g=st):st===g&&d.push({element:b,datasetIndex:j,index:$})}return evaluateInteractionItems(i,s,e,_),d}function getNearestItems(i,e,s,o,a,c){return!c&&!i.isPointInArea(e)?[]:s==="r"&&!o?getNearestRadialItems(i,e,s,a):getNearestCartesianItems(i,e,s,o,a,c)}function getAxisItems(i,e,s,o,a){const c=[],d=s==="x"?"inXRange":"inYRange";let h=!1;return evaluateInteractionItems(i,s,e,(g,_,b)=>{g[d](e[s],a)&&(c.push({element:g,datasetIndex:_,index:b}),h=h||g.inRange(e.x,e.y,a))}),o&&!h?[]:c}var Interaction={evaluateInteractionItems,modes:{index(i,e,s,o){const a=getRelativePosition(e,i),c=s.axis||"x",d=s.includeInvisible||!1,h=s.intersect?getIntersectItems(i,a,c,o,d):getNearestItems(i,a,c,!1,o,d),g=[];return h.length?(i.getSortedVisibleDatasetMetas().forEach(_=>{const b=h[0].index,j=_.data[b];j&&!j.skip&&g.push({element:j,datasetIndex:_.index,index:b})}),g):[]},dataset(i,e,s,o){const a=getRelativePosition(e,i),c=s.axis||"xy",d=s.includeInvisible||!1;let h=s.intersect?getIntersectItems(i,a,c,o,d):getNearestItems(i,a,c,!1,o,d);if(h.length>0){const g=h[0].datasetIndex,_=i.getDatasetMeta(g).data;h=[];for(let b=0;b<_.length;++b)h.push({element:_[b],datasetIndex:g,index:b})}return h},point(i,e,s,o){const a=getRelativePosition(e,i),c=s.axis||"xy",d=s.includeInvisible||!1;return getIntersectItems(i,a,c,o,d)},nearest(i,e,s,o){const a=getRelativePosition(e,i),c=s.axis||"xy",d=s.includeInvisible||!1;return getNearestItems(i,a,c,s.intersect,o,d)},x(i,e,s,o){const a=getRelativePosition(e,i);return getAxisItems(i,a,"x",s.intersect,o)},y(i,e,s,o){const a=getRelativePosition(e,i);return getAxisItems(i,a,"y",s.intersect,o)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(i,e){return i.filter(s=>s.pos===e)}function filterDynamicPositionByAxis(i,e){return i.filter(s=>STATIC_POSITIONS.indexOf(s.pos)===-1&&s.box.axis===e)}function sortByWeight(i,e){return i.sort((s,o)=>{const a=e?o:s,c=e?s:o;return a.weight===c.weight?a.index-c.index:a.weight-c.weight})}function wrapBoxes(i){const e=[];let s,o,a,c,d,h;for(s=0,o=(i||[]).length;s<o;++s)a=i[s],{position:c,options:{stack:d,stackWeight:h=1}}=a,e.push({index:s,box:a,pos:c,horizontal:a.isHorizontal(),weight:a.weight,stack:d&&c+d,stackWeight:h});return e}function buildStacks(i){const e={};for(const s of i){const{stack:o,pos:a,stackWeight:c}=s;if(!o||!STATIC_POSITIONS.includes(a))continue;const d=e[o]||(e[o]={count:0,placed:0,weight:0,size:0});d.count++,d.weight+=c}return e}function setLayoutDims(i,e){const s=buildStacks(i),{vBoxMaxWidth:o,hBoxMaxHeight:a}=e;let c,d,h;for(c=0,d=i.length;c<d;++c){h=i[c];const{fullSize:g}=h.box,_=s[h.stack],b=_&&h.stackWeight/_.weight;h.horizontal?(h.width=b?b*o:g&&e.availableWidth,h.height=a):(h.width=o,h.height=b?b*a:g&&e.availableHeight)}return s}function buildLayoutBoxes(i){const e=wrapBoxes(i),s=sortByWeight(e.filter(_=>_.box.fullSize),!0),o=sortByWeight(filterByPosition(e,"left"),!0),a=sortByWeight(filterByPosition(e,"right")),c=sortByWeight(filterByPosition(e,"top"),!0),d=sortByWeight(filterByPosition(e,"bottom")),h=filterDynamicPositionByAxis(e,"x"),g=filterDynamicPositionByAxis(e,"y");return{fullSize:s,leftAndTop:o.concat(c),rightAndBottom:a.concat(g).concat(d).concat(h),chartArea:filterByPosition(e,"chartArea"),vertical:o.concat(a).concat(g),horizontal:c.concat(d).concat(h)}}function getCombinedMax(i,e,s,o){return Math.max(i[s],e[s])+Math.max(i[o],e[o])}function updateMaxPadding(i,e){i.top=Math.max(i.top,e.top),i.left=Math.max(i.left,e.left),i.bottom=Math.max(i.bottom,e.bottom),i.right=Math.max(i.right,e.right)}function updateDims(i,e,s,o){const{pos:a,box:c}=s,d=i.maxPadding;if(!isObject(a)){s.size&&(i[a]-=s.size);const j=o[s.stack]||{size:0,count:1};j.size=Math.max(j.size,s.horizontal?c.height:c.width),s.size=j.size/j.count,i[a]+=s.size}c.getPadding&&updateMaxPadding(d,c.getPadding());const h=Math.max(0,e.outerWidth-getCombinedMax(d,i,"left","right")),g=Math.max(0,e.outerHeight-getCombinedMax(d,i,"top","bottom")),_=h!==i.w,b=g!==i.h;return i.w=h,i.h=g,s.horizontal?{same:_,other:b}:{same:b,other:_}}function handleMaxPadding(i){const e=i.maxPadding;function s(o){const a=Math.max(e[o]-i[o],0);return i[o]+=a,a}i.y+=s("top"),i.x+=s("left"),s("right"),s("bottom")}function getMargins(i,e){const s=e.maxPadding;function o(a){const c={left:0,top:0,right:0,bottom:0};return a.forEach(d=>{c[d]=Math.max(e[d],s[d])}),c}return o(i?["left","right"]:["top","bottom"])}function fitBoxes(i,e,s,o){const a=[];let c,d,h,g,_,b;for(c=0,d=i.length,_=0;c<d;++c){h=i[c],g=h.box,g.update(h.width||e.w,h.height||e.h,getMargins(h.horizontal,e));const{same:j,other:$}=updateDims(e,s,h,o);_|=j&&a.length,b=b||$,g.fullSize||a.push(h)}return _&&fitBoxes(a,e,s,o)||b}function setBoxDims(i,e,s,o,a){i.top=s,i.left=e,i.right=e+o,i.bottom=s+a,i.width=o,i.height=a}function placeBoxes(i,e,s,o){const a=s.padding;let{x:c,y:d}=e;for(const h of i){const g=h.box,_=o[h.stack]||{count:1,placed:0,weight:1},b=h.stackWeight/_.weight||1;if(h.horizontal){const j=e.w*b,$=_.size||g.height;defined(_.start)&&(d=_.start),g.fullSize?setBoxDims(g,a.left,d,s.outerWidth-a.right-a.left,$):setBoxDims(g,e.left+_.placed,d,j,$),_.start=d,_.placed+=j,d=g.bottom}else{const j=e.h*b,$=_.size||g.width;defined(_.start)&&(c=_.start),g.fullSize?setBoxDims(g,c,a.top,$,s.outerHeight-a.bottom-a.top):setBoxDims(g,c,e.top+_.placed,$,j),_.start=c,_.placed+=j,c=g.right}}e.x=c,e.y=d}var layouts={addBox(i,e){i.boxes||(i.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},i.boxes.push(e)},removeBox(i,e){const s=i.boxes?i.boxes.indexOf(e):-1;s!==-1&&i.boxes.splice(s,1)},configure(i,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(i,e,s,o){if(!i)return;const a=toPadding(i.options.layout.padding),c=Math.max(e-a.width,0),d=Math.max(s-a.height,0),h=buildLayoutBoxes(i.boxes),g=h.vertical,_=h.horizontal;each(i.boxes,nt=>{typeof nt.beforeLayout=="function"&&nt.beforeLayout()});const b=g.reduce((nt,st)=>st.box.options&&st.box.options.display===!1?nt:nt+1,0)||1,j=Object.freeze({outerWidth:e,outerHeight:s,padding:a,availableWidth:c,availableHeight:d,vBoxMaxWidth:c/2/b,hBoxMaxHeight:d/2}),$=Object.assign({},a);updateMaxPadding($,toPadding(o));const et=Object.assign({maxPadding:$,w:c,h:d,x:a.left,y:a.top},a),_e=setLayoutDims(g.concat(_),j);fitBoxes(h.fullSize,et,j,_e),fitBoxes(g,et,j,_e),fitBoxes(_,et,j,_e)&&fitBoxes(g,et,j,_e),handleMaxPadding(et),placeBoxes(h.leftAndTop,et,j,_e),et.x+=et.w,et.y+=et.h,placeBoxes(h.rightAndBottom,et,j,_e),i.chartArea={left:et.left,top:et.top,right:et.left+et.w,bottom:et.top+et.h,height:et.h,width:et.w},each(h.chartArea,nt=>{const st=nt.box;Object.assign(st,i.chartArea),st.update(et.w,et.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,o){}removeEventListener(e,s,o){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,o,a){return s=Math.max(0,s||e.width),o=o||e.height,{width:s,height:Math.max(0,a?Math.floor(s/a):o)}}isAttached(e){return!0}updateConfig(e){}}class BasicPlatform extends BasePlatform{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=i=>i===null||i==="";function initCanvas(i,e){const s=i.style,o=i.getAttribute("height"),a=i.getAttribute("width");if(i[EXPANDO_KEY]={initial:{height:o,width:a,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",isNullOrEmpty(a)){const c=readUsedSize(i,"width");c!==void 0&&(i.width=c)}if(isNullOrEmpty(o))if(i.style.height==="")i.height=i.width/(e||2);else{const c=readUsedSize(i,"height");c!==void 0&&(i.height=c)}return i}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(i,e,s){i&&i.addEventListener(e,s,eventListenerOptions)}function removeListener(i,e,s){i&&i.canvas&&i.canvas.removeEventListener(e,s,eventListenerOptions)}function fromNativeEvent(i,e){const s=EVENT_TYPES[i.type]||i.type,{x:o,y:a}=getRelativePosition(i,e);return{type:s,chart:e,native:i,x:o!==void 0?o:null,y:a!==void 0?a:null}}function nodeListContains(i,e){for(const s of i)if(s===e||s.contains(e))return!0}function createAttachObserver(i,e,s){const o=i.canvas,a=new MutationObserver(c=>{let d=!1;for(const h of c)d=d||nodeListContains(h.addedNodes,o),d=d&&!nodeListContains(h.removedNodes,o);d&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}function createDetachObserver(i,e,s){const o=i.canvas,a=new MutationObserver(c=>{let d=!1;for(const h of c)d=d||nodeListContains(h.removedNodes,o),d=d&&!nodeListContains(h.addedNodes,o);d&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const i=window.devicePixelRatio;i!==oldDevicePixelRatio&&(oldDevicePixelRatio=i,drpListeningCharts.forEach((e,s)=>{s.currentDevicePixelRatio!==i&&e()}))}function listenDevicePixelRatioChanges(i,e){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(i,e)}function unlistenDevicePixelRatioChanges(i){drpListeningCharts.delete(i),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(i,e,s){const o=i.canvas,a=o&&_getParentNode(o);if(!a)return;const c=throttled((h,g)=>{const _=a.clientWidth;s(h,g),_<a.clientWidth&&s()},window),d=new ResizeObserver(h=>{const g=h[0],_=g.contentRect.width,b=g.contentRect.height;_===0&&b===0||c(_,b)});return d.observe(a),listenDevicePixelRatioChanges(i,c),d}function releaseObserver(i,e,s){s&&s.disconnect(),e==="resize"&&unlistenDevicePixelRatioChanges(i)}function createProxyAndListen(i,e,s){const o=i.canvas,a=throttled(c=>{i.ctx!==null&&s(fromNativeEvent(c,i))},i);return addListener(o,e,a),a}class DomPlatform extends BasePlatform{acquireContext(e,s){const o=e&&e.getContext&&e.getContext("2d");return o&&o.canvas===e?(initCanvas(e,s),o):null}releaseContext(e){const s=e.canvas;if(!s[EXPANDO_KEY])return!1;const o=s[EXPANDO_KEY].initial;["height","width"].forEach(c=>{const d=o[c];isNullOrUndef(d)?s.removeAttribute(c):s.setAttribute(c,d)});const a=o.style||{};return Object.keys(a).forEach(c=>{s.style[c]=a[c]}),s.width=s.width,delete s[EXPANDO_KEY],!0}addEventListener(e,s,o){this.removeEventListener(e,s);const a=e.$proxies||(e.$proxies={}),d={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[s]||createProxyAndListen;a[s]=d(e,s,o)}removeEventListener(e,s){const o=e.$proxies||(e.$proxies={}),a=o[s];if(!a)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[s]||removeListener)(e,s,a),o[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,o,a){return getMaximumSize(e,s,o,a)}isAttached(e){const s=_getParentNode(e);return!!(s&&s.isConnected)}}function _detectPlatform(i){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?BasicPlatform:DomPlatform}class Element{constructor(){dn(this,"x");dn(this,"y");dn(this,"active",!1);dn(this,"options");dn(this,"$animations")}tooltipPosition(e){const{x:s,y:o}=this.getProps(["x","y"],e);return{x:s,y:o}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(e,s){const o=this.$animations;if(!s||!o)return this;const a={};return e.forEach(c=>{a[c]=o[c]&&o[c].active()?o[c]._to:this[c]}),a}}dn(Element,"defaults",{}),dn(Element,"defaultRoutes");function autoSkip(i,e){const s=i.options.ticks,o=determineMaxTicks(i),a=Math.min(s.maxTicksLimit||o,o),c=s.major.enabled?getMajorIndices(e):[],d=c.length,h=c[0],g=c[d-1],_=[];if(d>a)return skipMajors(e,_,c,d/a),_;const b=calculateSpacing(c,e,a);if(d>0){let j,$;const et=d>1?Math.round((g-h)/(d-1)):null;for(skip(e,_,b,isNullOrUndef(et)?0:h-et,h),j=0,$=d-1;j<$;j++)skip(e,_,b,c[j],c[j+1]);return skip(e,_,b,g,isNullOrUndef(et)?e.length:g+et),_}return skip(e,_,b),_}function determineMaxTicks(i){const e=i.options.offset,s=i._tickSize(),o=i._length/s+(e?0:1),a=i._maxLength/s;return Math.floor(Math.min(o,a))}function calculateSpacing(i,e,s){const o=getEvenSpacing(i),a=e.length/s;if(!o)return Math.max(a,1);const c=_factorize(o);for(let d=0,h=c.length-1;d<h;d++){const g=c[d];if(g>a)return g}return Math.max(a,1)}function getMajorIndices(i){const e=[];let s,o;for(s=0,o=i.length;s<o;s++)i[s].major&&e.push(s);return e}function skipMajors(i,e,s,o){let a=0,c=s[0],d;for(o=Math.ceil(o),d=0;d<i.length;d++)d===c&&(e.push(i[d]),a++,c=s[a*o])}function skip(i,e,s,o,a){const c=valueOrDefault(o,0),d=Math.min(valueOrDefault(a,i.length),i.length);let h=0,g,_,b;for(s=Math.ceil(s),a&&(g=a-o,s=g/Math.floor(g/s)),b=c;b<0;)h++,b=Math.round(c+h*s);for(_=Math.max(c,0);_<d;_++)_===b&&(e.push(i[_]),h++,b=Math.round(c+h*s))}function getEvenSpacing(i){const e=i.length;let s,o;if(e<2)return!1;for(o=i[0],s=1;s<e;++s)if(i[s]-i[s-1]!==o)return!1;return o}const reverseAlign=i=>i==="left"?"right":i==="right"?"left":i,offsetFromEdge=(i,e,s)=>e==="top"||e==="left"?i[e]+s:i[e]-s,getTicksLimit=(i,e)=>Math.min(e||i,i);function sample(i,e){const s=[],o=i.length/e,a=i.length;let c=0;for(;c<a;c+=o)s.push(i[Math.floor(c)]);return s}function getPixelForGridLine(i,e,s){const o=i.ticks.length,a=Math.min(e,o-1),c=i._startPixel,d=i._endPixel,h=1e-6;let g=i.getPixelForTick(a),_;if(!(s&&(o===1?_=Math.max(g-c,d-g):e===0?_=(i.getPixelForTick(1)-g)/2:_=(g-i.getPixelForTick(a-1))/2,g+=a<e?_:-_,g<c-h||g>d+h)))return g}function garbageCollect(i,e){each(i,s=>{const o=s.gc,a=o.length/2;let c;if(a>e){for(c=0;c<a;++c)delete s.data[o[c]];o.splice(0,a)}})}function getTickMarkLength(i){return i.drawTicks?i.tickLength:0}function getTitleHeight(i,e){if(!i.display)return 0;const s=toFont(i.font,e),o=toPadding(i.padding);return(isArray(i.text)?i.text.length:1)*s.lineHeight+o.height}function createScaleContext(i,e){return createContext(i,{scale:e,type:"scale"})}function createTickContext(i,e,s){return createContext(i,{tick:s,index:e,type:"tick"})}function titleAlign(i,e,s){let o=_toLeftRightCenter(i);return(s&&e!=="right"||!s&&e==="right")&&(o=reverseAlign(o)),o}function titleArgs(i,e,s,o){const{top:a,left:c,bottom:d,right:h,chart:g}=i,{chartArea:_,scales:b}=g;let j=0,$,et,_e;const nt=d-a,st=h-c;if(i.isHorizontal()){if(et=_alignStartEnd(o,c,h),isObject(s)){const tt=Object.keys(s)[0],it=s[tt];_e=b[tt].getPixelForValue(it)+nt-e}else s==="center"?_e=(_.bottom+_.top)/2+nt-e:_e=offsetFromEdge(i,s,e);$=h-c}else{if(isObject(s)){const tt=Object.keys(s)[0],it=s[tt];et=b[tt].getPixelForValue(it)-st+e}else s==="center"?et=(_.left+_.right)/2-st+e:et=offsetFromEdge(i,s,e);_e=_alignStartEnd(o,d,a),j=s==="left"?-HALF_PI:HALF_PI}return{titleX:et,titleY:_e,maxWidth:$,rotation:j}}class Scale extends Element{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:o,_suggestedMax:a}=this;return e=finiteOrDefault(e,Number.POSITIVE_INFINITY),s=finiteOrDefault(s,Number.NEGATIVE_INFINITY),o=finiteOrDefault(o,Number.POSITIVE_INFINITY),a=finiteOrDefault(a,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(e,o),max:finiteOrDefault(s,a),minDefined:isNumberFinite(e),maxDefined:isNumberFinite(s)}}getMinMax(e){let{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds(),d;if(a&&c)return{min:s,max:o};const h=this.getMatchingVisibleMetas();for(let g=0,_=h.length;g<_;++g)d=h[g].controller.getMinMax(this,e),a||(s=Math.min(s,d.min)),c||(o=Math.max(o,d.max));return s=c&&s>o?o:s,o=a&&s>o?s:o,{min:finiteOrDefault(s,finiteOrDefault(o,s)),max:finiteOrDefault(o,finiteOrDefault(s,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(e,s,o){const{beginAtZero:a,grace:c,ticks:d}=this.options,h=d.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,c,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const g=h<this.ticks.length;this._convertTicksToLabels(g?sample(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),d.display&&(d.autoSkip||d.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),g&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,o;this.isHorizontal()?(s=this.left,o=this.right):(s=this.top,o=this.bottom,e=!e),this._startPixel=s,this._endPixel=o,this._reversePixels=e,this._length=o-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),callback(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let o,a,c;for(o=0,a=e.length;o<a;o++)c=e[o],c.label=callback(s.callback,[c.value,o,e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,o=getTicksLimit(this.ticks.length,e.ticks.maxTicksLimit),a=s.minRotation||0,c=s.maxRotation;let d=a,h,g,_;if(!this._isVisible()||!s.display||a>=c||o<=1||!this.isHorizontal()){this.labelRotation=a;return}const b=this._getLabelSizes(),j=b.widest.width,$=b.highest.height,et=_limitValue(this.chart.width-j,0,this.maxWidth);h=e.offset?this.maxWidth/o:et/(o-1),j+6>h&&(h=et/(o-(e.offset?.5:1)),g=this.maxHeight-getTickMarkLength(e.grid)-s.padding-getTitleHeight(e.title,this.chart.options.font),_=Math.sqrt(j*j+$*$),d=toDegrees(Math.min(Math.asin(_limitValue((b.highest.height+6)/h,-1,1)),Math.asin(_limitValue(g/_,-1,1))-Math.asin(_limitValue($/_,-1,1)))),d=Math.max(a,Math.min(c,d))),this.labelRotation=d}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:o,title:a,grid:c}}=this,d=this._isVisible(),h=this.isHorizontal();if(d){const g=getTitleHeight(a,s.options.font);if(h?(e.width=this.maxWidth,e.height=getTickMarkLength(c)+g):(e.height=this.maxHeight,e.width=getTickMarkLength(c)+g),o.display&&this.ticks.length){const{first:_,last:b,widest:j,highest:$}=this._getLabelSizes(),et=o.padding*2,_e=toRadians(this.labelRotation),nt=Math.cos(_e),st=Math.sin(_e);if(h){const tt=o.mirror?0:st*j.width+nt*$.height;e.height=Math.min(this.maxHeight,e.height+tt+et)}else{const tt=o.mirror?0:nt*j.width+st*$.height;e.width=Math.min(this.maxWidth,e.width+tt+et)}this._calculatePadding(_,b,st,nt)}}this._handleMargins(),h?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,o,a){const{ticks:{align:c,padding:d},position:h}=this.options,g=this.labelRotation!==0,_=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const b=this.getPixelForTick(0)-this.left,j=this.right-this.getPixelForTick(this.ticks.length-1);let $=0,et=0;g?_?($=a*e.width,et=o*s.height):($=o*e.height,et=a*s.width):c==="start"?et=s.width:c==="end"?$=e.width:c!=="inner"&&($=e.width/2,et=s.width/2),this.paddingLeft=Math.max(($-b+d)*this.width/(this.width-b),0),this.paddingRight=Math.max((et-j+d)*this.width/(this.width-j),0)}else{let b=s.height/2,j=e.height/2;c==="start"?(b=0,j=e.height):c==="end"&&(b=s.height,j=0),this.paddingTop=b+d,this.paddingBottom=j+d}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,o;for(s=0,o=e.length;s<o;s++)isNullOrUndef(e[s].label)&&(e.splice(s,1),o--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let o=this.ticks;s<o.length&&(o=sample(o,s)),this._labelSizes=e=this._computeLabelSizes(o,o.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,o){const{ctx:a,_longestTextCache:c}=this,d=[],h=[],g=Math.floor(s/getTicksLimit(s,o));let _=0,b=0,j,$,et,_e,nt,st,tt,it,ot,ct,rt;for(j=0;j<s;j+=g){if(_e=e[j].label,nt=this._resolveTickFontOptions(j),a.font=st=nt.string,tt=c[st]=c[st]||{data:{},gc:[]},it=nt.lineHeight,ot=ct=0,!isNullOrUndef(_e)&&!isArray(_e))ot=_measureText(a,tt.data,tt.gc,ot,_e),ct=it;else if(isArray(_e))for($=0,et=_e.length;$<et;++$)rt=_e[$],!isNullOrUndef(rt)&&!isArray(rt)&&(ot=_measureText(a,tt.data,tt.gc,ot,rt),ct+=it);d.push(ot),h.push(ct),_=Math.max(ot,_),b=Math.max(ct,b)}garbageCollect(c,s);const lt=d.indexOf(_),mt=h.indexOf(b),gt=ft=>({width:d[ft]||0,height:h[ft]||0});return{first:gt(0),last:gt(s-1),widest:gt(lt),highest:gt(mt),widths:d,heights:h}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const o=s[e];return o.$context||(o.$context=createTickContext(this.getContext(),e,o))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=toRadians(this.labelRotation),o=Math.abs(Math.cos(s)),a=Math.abs(Math.sin(s)),c=this._getLabelSizes(),d=e.autoSkipPadding||0,h=c?c.widest.width+d:0,g=c?c.highest.height+d:0;return this.isHorizontal()?g*o>h*a?h/o:g/a:g*a<h*o?g/o:h/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,o=this.chart,a=this.options,{grid:c,position:d,border:h}=a,g=c.offset,_=this.isHorizontal(),j=this.ticks.length+(g?1:0),$=getTickMarkLength(c),et=[],_e=h.setContext(this.getContext()),nt=_e.display?_e.width:0,st=nt/2,tt=function(It){return _alignPixel(o,It,nt)};let it,ot,ct,rt,lt,mt,gt,ft,yt,_t,kt,Ot;if(d==="top")it=tt(this.bottom),mt=this.bottom-$,ft=it-st,_t=tt(e.top)+st,Ot=e.bottom;else if(d==="bottom")it=tt(this.top),_t=e.top,Ot=tt(e.bottom)-st,mt=it+st,ft=this.top+$;else if(d==="left")it=tt(this.right),lt=this.right-$,gt=it-st,yt=tt(e.left)+st,kt=e.right;else if(d==="right")it=tt(this.left),yt=e.left,kt=tt(e.right)-st,lt=it+st,gt=this.left+$;else if(s==="x"){if(d==="center")it=tt((e.top+e.bottom)/2+.5);else if(isObject(d)){const It=Object.keys(d)[0],zt=d[It];it=tt(this.chart.scales[It].getPixelForValue(zt))}_t=e.top,Ot=e.bottom,mt=it+st,ft=mt+$}else if(s==="y"){if(d==="center")it=tt((e.left+e.right)/2);else if(isObject(d)){const It=Object.keys(d)[0],zt=d[It];it=tt(this.chart.scales[It].getPixelForValue(zt))}lt=it-st,gt=lt-$,yt=e.left,kt=e.right}const St=valueOrDefault(a.ticks.maxTicksLimit,j),Dt=Math.max(1,Math.ceil(j/St));for(ot=0;ot<j;ot+=Dt){const It=this.getContext(ot),zt=c.setContext(It),wt=h.setContext(It),Lt=zt.lineWidth,Yt=zt.color,tn=wt.dash||[],rn=wt.dashOffset,At=zt.tickWidth,ut=zt.tickColor,pt=zt.tickBorderDash||[],ht=zt.tickBorderDashOffset;ct=getPixelForGridLine(this,ot,g),ct!==void 0&&(rt=_alignPixel(o,ct,Lt),_?lt=gt=yt=kt=rt:mt=ft=_t=Ot=rt,et.push({tx1:lt,ty1:mt,tx2:gt,ty2:ft,x1:yt,y1:_t,x2:kt,y2:Ot,width:Lt,color:Yt,borderDash:tn,borderDashOffset:rn,tickWidth:At,tickColor:ut,tickBorderDash:pt,tickBorderDashOffset:ht}))}return this._ticksLength=j,this._borderValue=it,et}_computeLabelItems(e){const s=this.axis,o=this.options,{position:a,ticks:c}=o,d=this.isHorizontal(),h=this.ticks,{align:g,crossAlign:_,padding:b,mirror:j}=c,$=getTickMarkLength(o.grid),et=$+b,_e=j?-b:et,nt=-toRadians(this.labelRotation),st=[];let tt,it,ot,ct,rt,lt,mt,gt,ft,yt,_t,kt,Ot="middle";if(a==="top")lt=this.bottom-_e,mt=this._getXAxisLabelAlignment();else if(a==="bottom")lt=this.top+_e,mt=this._getXAxisLabelAlignment();else if(a==="left"){const Dt=this._getYAxisLabelAlignment($);mt=Dt.textAlign,rt=Dt.x}else if(a==="right"){const Dt=this._getYAxisLabelAlignment($);mt=Dt.textAlign,rt=Dt.x}else if(s==="x"){if(a==="center")lt=(e.top+e.bottom)/2+et;else if(isObject(a)){const Dt=Object.keys(a)[0],It=a[Dt];lt=this.chart.scales[Dt].getPixelForValue(It)+et}mt=this._getXAxisLabelAlignment()}else if(s==="y"){if(a==="center")rt=(e.left+e.right)/2-et;else if(isObject(a)){const Dt=Object.keys(a)[0],It=a[Dt];rt=this.chart.scales[Dt].getPixelForValue(It)}mt=this._getYAxisLabelAlignment($).textAlign}s==="y"&&(g==="start"?Ot="top":g==="end"&&(Ot="bottom"));const St=this._getLabelSizes();for(tt=0,it=h.length;tt<it;++tt){ot=h[tt],ct=ot.label;const Dt=c.setContext(this.getContext(tt));gt=this.getPixelForTick(tt)+c.labelOffset,ft=this._resolveTickFontOptions(tt),yt=ft.lineHeight,_t=isArray(ct)?ct.length:1;const It=_t/2,zt=Dt.color,wt=Dt.textStrokeColor,Lt=Dt.textStrokeWidth;let Yt=mt;d?(rt=gt,mt==="inner"&&(tt===it-1?Yt=this.options.reverse?"left":"right":tt===0?Yt=this.options.reverse?"right":"left":Yt="center"),a==="top"?_==="near"||nt!==0?kt=-_t*yt+yt/2:_==="center"?kt=-St.highest.height/2-It*yt+yt:kt=-St.highest.height+yt/2:_==="near"||nt!==0?kt=yt/2:_==="center"?kt=St.highest.height/2-It*yt:kt=St.highest.height-_t*yt,j&&(kt*=-1),nt!==0&&!Dt.showLabelBackdrop&&(rt+=yt/2*Math.sin(nt))):(lt=gt,kt=(1-_t)*yt/2);let tn;if(Dt.showLabelBackdrop){const rn=toPadding(Dt.backdropPadding),At=St.heights[tt],ut=St.widths[tt];let pt=kt-rn.top,ht=0-rn.left;switch(Ot){case"middle":pt-=At/2;break;case"bottom":pt-=At;break}switch(mt){case"center":ht-=ut/2;break;case"right":ht-=ut;break;case"inner":tt===it-1?ht-=ut:tt>0&&(ht-=ut/2);break}tn={left:ht,top:pt,width:ut+rn.width,height:At+rn.height,color:Dt.backdropColor}}st.push({label:ct,font:ft,textOffset:kt,options:{rotation:nt,color:zt,strokeColor:wt,strokeWidth:Lt,textAlign:Yt,textBaseline:Ot,translation:[rt,lt],backdrop:tn}})}return st}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-toRadians(this.labelRotation))return e==="top"?"left":"right";let a="center";return s.align==="start"?a="left":s.align==="end"?a="right":s.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:o,mirror:a,padding:c}}=this.options,d=this._getLabelSizes(),h=e+c,g=d.widest.width;let _,b;return s==="left"?a?(b=this.right+c,o==="near"?_="left":o==="center"?(_="center",b+=g/2):(_="right",b+=g)):(b=this.right-h,o==="near"?_="right":o==="center"?(_="center",b-=g/2):(_="left",b=this.left)):s==="right"?a?(b=this.left+c,o==="near"?_="right":o==="center"?(_="center",b-=g/2):(_="left",b-=g)):(b=this.left+h,o==="near"?_="left":o==="center"?(_="center",b+=g/2):(_="right",b=this.right)):_="right",{textAlign:_,x:b}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:o,top:a,width:c,height:d}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(o,a,c,d),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const a=this.ticks.findIndex(c=>c.value===e);return a>=0?s.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const s=this.options.grid,o=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let c,d;const h=(g,_,b)=>{!b.width||!b.color||(o.save(),o.lineWidth=b.width,o.strokeStyle=b.color,o.setLineDash(b.borderDash||[]),o.lineDashOffset=b.borderDashOffset,o.beginPath(),o.moveTo(g.x,g.y),o.lineTo(_.x,_.y),o.stroke(),o.restore())};if(s.display)for(c=0,d=a.length;c<d;++c){const g=a[c];s.drawOnChartArea&&h({x:g.x1,y:g.y1},{x:g.x2,y:g.y2},g),s.drawTicks&&h({x:g.tx1,y:g.ty1},{x:g.tx2,y:g.ty2},{color:g.tickColor,width:g.tickWidth,borderDash:g.tickBorderDash,borderDashOffset:g.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:o,grid:a}}=this,c=o.setContext(this.getContext()),d=o.display?c.width:0;if(!d)return;const h=a.setContext(this.getContext(0)).lineWidth,g=this._borderValue;let _,b,j,$;this.isHorizontal()?(_=_alignPixel(e,this.left,d)-d/2,b=_alignPixel(e,this.right,h)+h/2,j=$=g):(j=_alignPixel(e,this.top,d)-d/2,$=_alignPixel(e,this.bottom,h)+h/2,_=b=g),s.save(),s.lineWidth=c.width,s.strokeStyle=c.color,s.beginPath(),s.moveTo(_,j),s.lineTo(b,$),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const o=this.ctx,a=this._computeLabelArea();a&&clipArea(o,a);const c=this.getLabelItems(e);for(const d of c){const h=d.options,g=d.font,_=d.label,b=d.textOffset;renderText(o,_,0,b,g,h)}a&&unclipArea(o)}drawTitle(){const{ctx:e,options:{position:s,title:o,reverse:a}}=this;if(!o.display)return;const c=toFont(o.font),d=toPadding(o.padding),h=o.align;let g=c.lineHeight/2;s==="bottom"||s==="center"||isObject(s)?(g+=d.bottom,isArray(o.text)&&(g+=c.lineHeight*(o.text.length-1))):g+=d.top;const{titleX:_,titleY:b,maxWidth:j,rotation:$}=titleArgs(this,g,s,h);renderText(e,o.text,0,0,c,{color:o.color,maxWidth:j,rotation:$,textAlign:titleAlign(h,s,a),textBaseline:"middle",translation:[_,b]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,o=valueOrDefault(e.grid&&e.grid.z,-1),a=valueOrDefault(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:s,draw:c=>{this.draw(c)}}]:[{z:o,draw:c=>{this.drawBackground(),this.drawGrid(c),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:s,draw:c=>{this.drawLabels(c)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",a=[];let c,d;for(c=0,d=s.length;c<d;++c){const h=s[c];h[o]===this.id&&(!e||h.type===e)&&a.push(h)}return a}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return toFont(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class TypedRegistry{constructor(e,s,o){this.type=e,this.scope=s,this.override=o,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let o;isIChartComponent(s)&&(o=this.register(s));const a=this.items,c=e.id,d=this.scope+"."+c;if(!c)throw new Error("class does not have id: "+e);return c in a||(a[c]=e,registerDefaults(e,d,o),this.override&&defaults.override(e.id,e.overrides)),d}get(e){return this.items[e]}unregister(e){const s=this.items,o=e.id,a=this.scope;o in s&&delete s[o],a&&o in defaults[a]&&(delete defaults[a][o],this.override&&delete overrides[o])}}function registerDefaults(i,e,s){const o=merge(Object.create(null),[s?defaults.get(s):{},defaults.get(e),i.defaults]);defaults.set(e,o),i.defaultRoutes&&routeDefaults(e,i.defaultRoutes),i.descriptors&&defaults.describe(e,i.descriptors)}function routeDefaults(i,e){Object.keys(e).forEach(s=>{const o=s.split("."),a=o.pop(),c=[i].concat(o).join("."),d=e[s].split("."),h=d.pop(),g=d.join(".");defaults.route(c,a,g,h)})}function isIChartComponent(i){return"id"in i&&"defaults"in i}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,o){[...s].forEach(a=>{const c=o||this._getRegistryForType(a);o||c.isForType(a)||c===this.plugins&&a.id?this._exec(e,c,a):each(a,d=>{const h=o||this._getRegistryForType(d);this._exec(e,h,d)})})}_exec(e,s,o){const a=_capitalize(e);callback(o["before"+a],[],o),s[e](o),callback(o["after"+a],[],o)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const o=this._typedRegistries[s];if(o.isForType(e))return o}return this.plugins}_get(e,s,o){const a=s.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+o+".");return a}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(e,s,o,a){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const c=a?this._descriptors(e).filter(a):this._descriptors(e),d=this._notify(c,e,s,o);return s==="afterDestroy"&&(this._notify(c,e,"stop"),this._notify(this._init,e,"uninstall")),d}_notify(e,s,o,a){a=a||{};for(const c of e){const d=c.plugin,h=d[o],g=[s,a,c.options];if(callback(h,g,d)===!1&&a.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const o=e&&e.config,a=valueOrDefault(o.options&&o.options.plugins,{}),c=allPlugins(o);return a===!1&&!s?[]:createDescriptors(e,c,a,s)}_notifyStateChanges(e){const s=this._oldCache||[],o=this._cache,a=(c,d)=>c.filter(h=>!d.some(g=>h.plugin.id===g.plugin.id));this._notify(a(s,o),e,"stop"),this._notify(a(o,s),e,"start")}}function allPlugins(i){const e={},s=[],o=Object.keys(registry.plugins.items);for(let c=0;c<o.length;c++)s.push(registry.getPlugin(o[c]));const a=i.plugins||[];for(let c=0;c<a.length;c++){const d=a[c];s.indexOf(d)===-1&&(s.push(d),e[d.id]=!0)}return{plugins:s,localIds:e}}function getOpts(i,e){return!e&&i===!1?null:i===!0?{}:i}function createDescriptors(i,{plugins:e,localIds:s},o,a){const c=[],d=i.getContext();for(const h of e){const g=h.id,_=getOpts(o[g],a);_!==null&&c.push({plugin:h,options:pluginOpts(i.config,{plugin:h,local:s[g]},_,d)})}return c}function pluginOpts(i,{plugin:e,local:s},o,a){const c=i.pluginScopeKeys(e),d=i.getOptionScopes(o,c);return s&&e.defaults&&d.push(e.defaults),i.createResolver(d,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(i,e){const s=defaults.datasets[i]||{};return((e.datasets||{})[i]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function getAxisFromDefaultScaleID(i,e){let s=i;return i==="_index_"?s=e:i==="_value_"&&(s=e==="x"?"y":"x"),s}function getDefaultScaleIDFromAxis(i,e){return i===e?"_index_":"_value_"}function idMatchesAxis(i){if(i==="x"||i==="y"||i==="r")return i}function axisFromPosition(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function determineAxis(i,...e){if(idMatchesAxis(i))return i;for(const s of e){const o=s.axis||axisFromPosition(s.position)||i.length>1&&idMatchesAxis(i[0].toLowerCase());if(o)return o}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(i,e,s){if(s[e+"AxisID"]===i)return{axis:e}}function retrieveAxisFromDatasets(i,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(o=>o.xAxisID===i||o.yAxisID===i);if(s.length)return getAxisFromDataset(i,"x",s[0])||getAxisFromDataset(i,"y",s[0])}return{}}function mergeScaleConfig(i,e){const s=overrides[i.type]||{scales:{}},o=e.scales||{},a=getIndexAxis(i.type,e),c=Object.create(null);return Object.keys(o).forEach(d=>{const h=o[d];if(!isObject(h))return console.error(`Invalid scale configuration for scale: ${d}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${d}`);const g=determineAxis(d,h,retrieveAxisFromDatasets(d,i),defaults.scales[h.type]),_=getDefaultScaleIDFromAxis(g,a),b=s.scales||{};c[d]=mergeIf(Object.create(null),[{axis:g},h,b[g],b[_]])}),i.data.datasets.forEach(d=>{const h=d.type||i.type,g=d.indexAxis||getIndexAxis(h,e),b=(overrides[h]||{}).scales||{};Object.keys(b).forEach(j=>{const $=getAxisFromDefaultScaleID(j,g),et=d[$+"AxisID"]||$;c[et]=c[et]||Object.create(null),mergeIf(c[et],[{axis:$},o[et],b[j]])})}),Object.keys(c).forEach(d=>{const h=c[d];mergeIf(h,[defaults.scales[h.type],defaults.scale])}),c}function initOptions(i){const e=i.options||(i.options={});e.plugins=valueOrDefault(e.plugins,{}),e.scales=mergeScaleConfig(i,e)}function initData(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function initConfig(i){return i=i||{},i.data=initData(i.data),initOptions(i),i}const keyCache=new Map,keysCached=new Set;function cachedKeys(i,e){let s=keyCache.get(i);return s||(s=e(),keyCache.set(i,s),keysCached.add(s)),s}const addIfFound=(i,e,s)=>{const o=resolveObjectKey(e,s);o!==void 0&&i.add(o)};class Config{constructor(e){this._config=initConfig(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=initData(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),initOptions(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cachedKeys(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return cachedKeys(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return cachedKeys(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,o=this.type;return cachedKeys(`${o}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const o=this._scopeCache;let a=o.get(e);return(!a||s)&&(a=new Map,o.set(e,a)),a}getOptionScopes(e,s,o){const{options:a,type:c}=this,d=this._cachedScopes(e,o),h=d.get(s);if(h)return h;const g=new Set;s.forEach(b=>{e&&(g.add(e),b.forEach(j=>addIfFound(g,e,j))),b.forEach(j=>addIfFound(g,a,j)),b.forEach(j=>addIfFound(g,overrides[c]||{},j)),b.forEach(j=>addIfFound(g,defaults,j)),b.forEach(j=>addIfFound(g,descriptors,j))});const _=Array.from(g);return _.length===0&&_.push(Object.create(null)),keysCached.has(s)&&d.set(s,_),_}chartOptionScopes(){const{options:e,type:s}=this;return[e,overrides[s]||{},defaults.datasets[s]||{},{type:s},defaults,descriptors]}resolveNamedOptions(e,s,o,a=[""]){const c={$shared:!0},{resolver:d,subPrefixes:h}=getResolver(this._resolverCache,e,a);let g=d;if(needContext(d,s)){c.$shared=!1,o=isFunction(o)?o():o;const _=this.createResolver(e,o,h);g=_attachContext(d,o,_)}for(const _ of s)c[_]=g[_];return c}createResolver(e,s,o=[""],a){const{resolver:c}=getResolver(this._resolverCache,e,o);return isObject(s)?_attachContext(c,s,void 0,a):c}}function getResolver(i,e,s){let o=i.get(e);o||(o=new Map,i.set(e,o));const a=s.join();let c=o.get(a);return c||(c={resolver:_createResolver(e,s),subPrefixes:s.filter(h=>!h.toLowerCase().includes("hover"))},o.set(a,c)),c}const hasFunction=i=>isObject(i)&&Object.getOwnPropertyNames(i).some(e=>isFunction(i[e]));function needContext(i,e){const{isScriptable:s,isIndexable:o}=_descriptors(i);for(const a of e){const c=s(a),d=o(a),h=(d||c)&&i[a];if(c&&(isFunction(h)||hasFunction(h))||d&&isArray(h))return!0}return!1}var version="4.4.2";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(i,e){return i==="top"||i==="bottom"||KNOWN_POSITIONS.indexOf(i)===-1&&e==="x"}function compare2Level(i,e){return function(s,o){return s[i]===o[i]?s[e]-o[e]:s[i]-o[i]}}function onAnimationsComplete(i){const e=i.chart,s=e.options.animation;e.notifyPlugins("afterRender"),callback(s&&s.onComplete,[i],e)}function onAnimationProgress(i){const e=i.chart,s=e.options.animation;callback(s&&s.onProgress,[i],e)}function getCanvas(i){return _isDomSupported()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const instances={},getChart=i=>{const e=getCanvas(i);return Object.values(instances).filter(s=>s.canvas===e).pop()};function moveNumericKeys(i,e,s){const o=Object.keys(i);for(const a of o){const c=+a;if(c>=e){const d=i[a];delete i[a],(s>0||c>e)&&(i[c+s]=d)}}}function determineLastEvent(i,e,s,o){return!s||i.type==="mouseout"?null:o?e:i}function getSizeForArea(i,e,s){return i.options.clip?i[s]:e[s]}function getDatasetArea(i,e){const{xScale:s,yScale:o}=i;return s&&o?{left:getSizeForArea(s,e,"left"),right:getSizeForArea(s,e,"right"),top:getSizeForArea(o,e,"top"),bottom:getSizeForArea(o,e,"bottom")}:e}var Kn;let Chart$1=(Kn=class{static register(...e){registry.add(...e),invalidatePlugins()}static unregister(...e){registry.remove(...e),invalidatePlugins()}constructor(e,s){const o=this.config=new Config(s),a=getCanvas(e),c=getChart(a);if(c)throw new Error("Canvas is already in use. Chart with ID '"+c.id+"' must be destroyed before the canvas with ID '"+c.canvas.id+"' can be reused.");const d=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||_detectPlatform(a)),this.platform.updateConfig(o);const h=this.platform.acquireContext(a,d.aspectRatio),g=h&&h.canvas,_=g&&g.height,b=g&&g.width;if(this.id=uid(),this.ctx=h,this.canvas=g,this.width=b,this.height=_,this._options=d,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(j=>this.update(j),d.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!h||!g){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:o,height:a,_aspectRatio:c}=this;return isNullOrUndef(e)?s&&c?c:a?o/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(e,s){animator.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const o=this.options,a=this.canvas,c=o.maintainAspectRatio&&this.aspectRatio,d=this.platform.getMaximumSize(a,e,s,c),h=o.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=d.width,this.height=d.height,this._aspectRatio=this.aspectRatio,retinaScale(this,h,!0)&&(this.notifyPlugins("resize",{size:d}),callback(o.onResize,[this,d],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};each(s,(o,a)=>{o.id=a})}buildOrUpdateScales(){const e=this.options,s=e.scales,o=this.scales,a=Object.keys(o).reduce((d,h)=>(d[h]=!1,d),{});let c=[];s&&(c=c.concat(Object.keys(s).map(d=>{const h=s[d],g=determineAxis(d,h),_=g==="r",b=g==="x";return{options:h,dposition:_?"chartArea":b?"bottom":"left",dtype:_?"radialLinear":b?"category":"linear"}}))),each(c,d=>{const h=d.options,g=h.id,_=determineAxis(g,h),b=valueOrDefault(h.type,d.dtype);(h.position===void 0||positionIsHorizontal(h.position,_)!==positionIsHorizontal(d.dposition))&&(h.position=d.dposition),a[g]=!0;let j=null;if(g in o&&o[g].type===b)j=o[g];else{const $=registry.getScale(b);j=new $({id:g,type:b,ctx:this.ctx,chart:this}),o[j.id]=j}j.init(h,e)}),each(a,(d,h)=>{d||delete o[h]}),each(o,d=>{layouts.configure(this,d,d.options),layouts.addBox(this,d)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,o=e.length;if(e.sort((a,c)=>a.index-c.index),o>s){for(let a=s;a<o;++a)this._destroyDatasetMeta(a);e.splice(s,o-s)}this._sortedMetasets=e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((o,a)=>{s.filter(c=>c===o._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let o,a;for(this._removeUnreferencedMetasets(),o=0,a=s.length;o<a;o++){const c=s[o];let d=this.getDatasetMeta(o);const h=c.type||this.config.type;if(d.type&&d.type!==h&&(this._destroyDatasetMeta(o),d=this.getDatasetMeta(o)),d.type=h,d.indexAxis=c.indexAxis||getIndexAxis(h,this.options),d.order=c.order||0,d.index=o,d.label=""+c.label,d.visible=this.isDatasetVisible(o),d.controller)d.controller.updateIndex(o),d.controller.linkScales();else{const g=registry.getController(h),{datasetElementType:_,dataElementType:b}=defaults.datasets[h];Object.assign(g,{dataElementType:registry.getElement(b),datasetElementType:_&&registry.getElement(_)}),d.controller=new g(this,o),e.push(d.controller)}}return this._updateMetasets(),e}_resetElements(){each(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const o=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const c=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let d=0;for(let _=0,b=this.data.datasets.length;_<b;_++){const{controller:j}=this.getDatasetMeta(_),$=!a&&c.indexOf(j)===-1;j.buildOrUpdateElements($),d=Math.max(+j.getMaxOverflow(),d)}d=this._minPadding=o.layout.autoPadding?d:0,this._updateLayout(d),a||each(c,_=>{_.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(compare2Level("z","_idx"));const{_active:h,_lastEvent:g}=this;g?this._eventHandler(g,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){each(this.scales,e=>{layouts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!setsEqual(s,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:o,start:a,count:c}of s){const d=o==="_removeElements"?-c:c;moveNumericKeys(e,a,d)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,o=c=>new Set(e.filter(d=>d[0]===c).map((d,h)=>h+","+d.splice(1).join(","))),a=o(0);for(let c=1;c<s;c++)if(!setsEqual(a,o(c)))return;return Array.from(a).map(c=>c.split(",")).map(c=>({method:c[1],start:+c[2],count:+c[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,e);const s=this.chartArea,o=s.width<=0||s.height<=0;this._layers=[],each(this.boxes,a=>{o&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,c)=>{a._idx=c}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,o=this.data.datasets.length;s<o;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,o=this.data.datasets.length;s<o;++s)this._updateDataset(s,isFunction(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const o=this.getDatasetMeta(e),a={meta:o,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(o.controller._update(s),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:o,height:a}=this._resizeBeforeDraw;this._resize(o,a),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,o=[];let a,c;for(a=0,c=s.length;a<c;++a){const d=s[a];(!e||d.visible)&&o.push(d)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,o=e._clip,a=!o.disabled,c=getDatasetArea(e,this.chartArea),d={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",d)!==!1&&(a&&clipArea(s,{left:o.left===!1?0:c.left-o.left,right:o.right===!1?this.width:c.right+o.right,top:o.top===!1?0:c.top-o.top,bottom:o.bottom===!1?this.height:c.bottom+o.bottom}),e.controller.draw(),a&&unclipArea(s),d.cancelable=!1,this.notifyPlugins("afterDatasetDraw",d))}isPointInArea(e){return _isPointInArea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,o,a){const c=Interaction.modes[s];return typeof c=="function"?c(this,e,o,a):[]}getDatasetMeta(e){const s=this.data.datasets[e],o=this._metasets;let a=o.filter(c=>c&&c._dataset===s).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},o.push(a)),a}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const o=this.getDatasetMeta(e);return typeof o.hidden=="boolean"?!o.hidden:!s.hidden}setDatasetVisibility(e,s){const o=this.getDatasetMeta(e);o.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,o){const a=o?"show":"hide",c=this.getDatasetMeta(e),d=c.controller._resolveAnimations(void 0,a);defined(s)?(c.data[s].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),d.update(c,{visible:o}),this.update(h=>h.datasetIndex===e?a:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),animator.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),clearCanvas(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,o=(c,d)=>{s.addEventListener(this,c,d),e[c]=d},a=(c,d,h)=>{c.offsetX=d,c.offsetY=h,this._eventHandler(c)};each(this.options.events,c=>o(c,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,o=(g,_)=>{s.addEventListener(this,g,_),e[g]=_},a=(g,_)=>{e[g]&&(s.removeEventListener(this,g,_),delete e[g])},c=(g,_)=>{this.canvas&&this.resize(g,_)};let d;const h=()=>{a("attach",h),this.attached=!0,this.resize(),o("resize",c),o("detach",d)};d=()=>{this.attached=!1,a("resize",c),this._stop(),this._resize(0,0),o("attach",h)},s.isAttached(this.canvas)?h():d()}unbindEvents(){each(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},each(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,o){const a=o?"set":"remove";let c,d,h,g;for(s==="dataset"&&(c=this.getDatasetMeta(e[0].datasetIndex),c.controller["_"+a+"DatasetHoverStyle"]()),h=0,g=e.length;h<g;++h){d=e[h];const _=d&&this.getDatasetMeta(d.datasetIndex).controller;_&&_[a+"HoverStyle"](d.element,d.datasetIndex,d.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],o=e.map(({datasetIndex:c,index:d})=>{const h=this.getDatasetMeta(c);if(!h)throw new Error("No dataset found at index "+c);return{datasetIndex:c,element:h.data[d],index:d}});!_elementsEqual(o,s)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,s))}notifyPlugins(e,s,o){return this._plugins.notify(this,e,s,o)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,o){const a=this.options.hover,c=(g,_)=>g.filter(b=>!_.some(j=>b.datasetIndex===j.datasetIndex&&b.index===j.index)),d=c(s,e),h=o?e:c(e,s);d.length&&this.updateHoverStyle(d,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(e,s){const o={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},a=d=>(d.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",o,a)===!1)return;const c=this._handleEvent(e,s,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,a),(c||o.changed)&&this.render(),this}_handleEvent(e,s,o){const{_active:a=[],options:c}=this,d=s,h=this._getActiveElements(e,a,o,d),g=_isClickEvent(e),_=determineLastEvent(e,this._lastEvent,o,g);o&&(this._lastEvent=null,callback(c.onHover,[e,h,this],this),g&&callback(c.onClick,[e,h,this],this));const b=!_elementsEqual(h,a);return(b||s)&&(this._active=h,this._updateHoverStyles(h,a,s)),this._lastEvent=_,b}_getActiveElements(e,s,o,a){if(e.type==="mouseout")return[];if(!o)return s;const c=this.options.hover;return this.getElementsAtEventForMode(e,c.mode,c,a)}},dn(Kn,"defaults",defaults),dn(Kn,"instances",instances),dn(Kn,"overrides",overrides),dn(Kn,"registry",registry),dn(Kn,"version",version),dn(Kn,"getChart",getChart),Kn);function invalidatePlugins(){return each(Chart$1.instances,i=>i._plugins.invalidate())}function clipArc(i,e,s){const{startAngle:o,pixelMargin:a,x:c,y:d,outerRadius:h,innerRadius:g}=e;let _=a/h;i.beginPath(),i.arc(c,d,h,o-_,s+_),g>a?(_=a/g,i.arc(c,d,g,s+_,o-_,!0)):i.arc(c,d,a,s+HALF_PI,o-HALF_PI),i.closePath(),i.clip()}function toRadiusCorners(i){return _readValueToProps(i,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(i,e,s,o){const a=toRadiusCorners(i.options.borderRadius),c=(s-e)/2,d=Math.min(c,o*e/2),h=g=>{const _=(s-Math.min(c,g))*o/2;return _limitValue(g,0,Math.min(c,_))};return{outerStart:h(a.outerStart),outerEnd:h(a.outerEnd),innerStart:_limitValue(a.innerStart,0,d),innerEnd:_limitValue(a.innerEnd,0,d)}}function rThetaToXY(i,e,s,o){return{x:s+i*Math.cos(e),y:o+i*Math.sin(e)}}function pathArc(i,e,s,o,a,c){const{x:d,y:h,startAngle:g,pixelMargin:_,innerRadius:b}=e,j=Math.max(e.outerRadius+o+s-_,0),$=b>0?b+o+s+_:0;let et=0;const _e=a-g;if(o){const Dt=b>0?b-o:0,It=j>0?j-o:0,zt=(Dt+It)/2,wt=zt!==0?_e*zt/(zt+o):_e;et=(_e-wt)/2}const nt=Math.max(.001,_e*j-s/PI)/j,st=(_e-nt)/2,tt=g+st+et,it=a-st-et,{outerStart:ot,outerEnd:ct,innerStart:rt,innerEnd:lt}=parseBorderRadius$1(e,$,j,it-tt),mt=j-ot,gt=j-ct,ft=tt+ot/mt,yt=it-ct/gt,_t=$+rt,kt=$+lt,Ot=tt+rt/_t,St=it-lt/kt;if(i.beginPath(),c){const Dt=(ft+yt)/2;if(i.arc(d,h,j,ft,Dt),i.arc(d,h,j,Dt,yt),ct>0){const Lt=rThetaToXY(gt,yt,d,h);i.arc(Lt.x,Lt.y,ct,yt,it+HALF_PI)}const It=rThetaToXY(kt,it,d,h);if(i.lineTo(It.x,It.y),lt>0){const Lt=rThetaToXY(kt,St,d,h);i.arc(Lt.x,Lt.y,lt,it+HALF_PI,St+Math.PI)}const zt=(it-lt/$+(tt+rt/$))/2;if(i.arc(d,h,$,it-lt/$,zt,!0),i.arc(d,h,$,zt,tt+rt/$,!0),rt>0){const Lt=rThetaToXY(_t,Ot,d,h);i.arc(Lt.x,Lt.y,rt,Ot+Math.PI,tt-HALF_PI)}const wt=rThetaToXY(mt,tt,d,h);if(i.lineTo(wt.x,wt.y),ot>0){const Lt=rThetaToXY(mt,ft,d,h);i.arc(Lt.x,Lt.y,ot,tt-HALF_PI,ft)}}else{i.moveTo(d,h);const Dt=Math.cos(ft)*j+d,It=Math.sin(ft)*j+h;i.lineTo(Dt,It);const zt=Math.cos(yt)*j+d,wt=Math.sin(yt)*j+h;i.lineTo(zt,wt)}i.closePath()}function drawArc(i,e,s,o,a){const{fullCircles:c,startAngle:d,circumference:h}=e;let g=e.endAngle;if(c){pathArc(i,e,s,o,g,a);for(let _=0;_<c;++_)i.fill();isNaN(h)||(g=d+(h%TAU||TAU))}return pathArc(i,e,s,o,g,a),i.fill(),g}function drawBorder(i,e,s,o,a){const{fullCircles:c,startAngle:d,circumference:h,options:g}=e,{borderWidth:_,borderJoinStyle:b,borderDash:j,borderDashOffset:$}=g,et=g.borderAlign==="inner";if(!_)return;i.setLineDash(j||[]),i.lineDashOffset=$,et?(i.lineWidth=_*2,i.lineJoin=b||"round"):(i.lineWidth=_,i.lineJoin=b||"bevel");let _e=e.endAngle;if(c){pathArc(i,e,s,o,_e,a);for(let nt=0;nt<c;++nt)i.stroke();isNaN(h)||(_e=d+(h%TAU||TAU))}et&&clipArc(i,e,_e),c||(pathArc(i,e,s,o,_e,a),i.stroke())}class ArcElement extends Element{constructor(s){super();dn(this,"circumference");dn(this,"endAngle");dn(this,"fullCircles");dn(this,"innerRadius");dn(this,"outerRadius");dn(this,"pixelMargin");dn(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,o,a){const c=this.getProps(["x","y"],a),{angle:d,distance:h}=getAngleFromPoint(c,{x:s,y:o}),{startAngle:g,endAngle:_,innerRadius:b,outerRadius:j,circumference:$}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),et=(this.options.spacing+this.options.borderWidth)/2,nt=valueOrDefault($,_-g)>=TAU||_angleBetween(d,g,_),st=_isBetween(h,b+et,j+et);return nt&&st}getCenterPoint(s){const{x:o,y:a,startAngle:c,endAngle:d,innerRadius:h,outerRadius:g}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:_,spacing:b}=this.options,j=(c+d)/2,$=(h+g+b+_)/2;return{x:o+Math.cos(j)*$,y:a+Math.sin(j)*$}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:o,circumference:a}=this,c=(o.offset||0)/4,d=(o.spacing||0)/2,h=o.circular;if(this.pixelMargin=o.borderAlign==="inner"?.33:0,this.fullCircles=a>TAU?Math.floor(a/TAU):0,a===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const g=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(g)*c,Math.sin(g)*c);const _=1-Math.sin(Math.min(PI,a||0)),b=c*_;s.fillStyle=o.backgroundColor,s.strokeStyle=o.borderColor,drawArc(s,this,b,d,h),drawBorder(s,this,b,d,h),s.restore()}}dn(ArcElement,"id","arc"),dn(ArcElement,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),dn(ArcElement,"defaultRoutes",{backgroundColor:"backgroundColor"}),dn(ArcElement,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function setStyle(i,e,s=e){i.lineCap=valueOrDefault(s.borderCapStyle,e.borderCapStyle),i.setLineDash(valueOrDefault(s.borderDash,e.borderDash)),i.lineDashOffset=valueOrDefault(s.borderDashOffset,e.borderDashOffset),i.lineJoin=valueOrDefault(s.borderJoinStyle,e.borderJoinStyle),i.lineWidth=valueOrDefault(s.borderWidth,e.borderWidth),i.strokeStyle=valueOrDefault(s.borderColor,e.borderColor)}function lineTo(i,e,s){i.lineTo(s.x,s.y)}function getLineMethod(i){return i.stepped?_steppedLineTo:i.tension||i.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(i,e,s={}){const o=i.length,{start:a=0,end:c=o-1}=s,{start:d,end:h}=e,g=Math.max(a,d),_=Math.min(c,h),b=a<d&&c<d||a>h&&c>h;return{count:o,start:g,loop:e.loop,ilen:_<g&&!b?o+_-g:_-g}}function pathSegment(i,e,s,o){const{points:a,options:c}=e,{count:d,start:h,loop:g,ilen:_}=pathVars(a,s,o),b=getLineMethod(c);let{move:j=!0,reverse:$}=o||{},et,_e,nt;for(et=0;et<=_;++et)_e=a[(h+($?_-et:et))%d],!_e.skip&&(j?(i.moveTo(_e.x,_e.y),j=!1):b(i,nt,_e,$,c.stepped),nt=_e);return g&&(_e=a[(h+($?_:0))%d],b(i,nt,_e,$,c.stepped)),!!g}function fastPathSegment(i,e,s,o){const a=e.points,{count:c,start:d,ilen:h}=pathVars(a,s,o),{move:g=!0,reverse:_}=o||{};let b=0,j=0,$,et,_e,nt,st,tt;const it=ct=>(d+(_?h-ct:ct))%c,ot=()=>{nt!==st&&(i.lineTo(b,st),i.lineTo(b,nt),i.lineTo(b,tt))};for(g&&(et=a[it(0)],i.moveTo(et.x,et.y)),$=0;$<=h;++$){if(et=a[it($)],et.skip)continue;const ct=et.x,rt=et.y,lt=ct|0;lt===_e?(rt<nt?nt=rt:rt>st&&(st=rt),b=(j*b+ct)/++j):(ot(),i.lineTo(ct,rt),_e=lt,j=0,nt=st=rt),tt=rt}ot()}function _getSegmentMethod(i){const e=i.options,s=e.borderDash&&e.borderDash.length;return!i._decimated&&!i._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?fastPathSegment:pathSegment}function _getInterpolationMethod(i){return i.stepped?_steppedInterpolation:i.tension||i.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(i,e,s,o){let a=e._path;a||(a=e._path=new Path2D,e.path(a,s,o)&&a.closePath()),setStyle(i,e.options),i.stroke(a)}function strokePathDirect(i,e,s,o){const{segments:a,options:c}=e,d=_getSegmentMethod(e);for(const h of a)setStyle(i,c,h.style),i.beginPath(),d(i,e,h,{start:s,end:s+o-1})&&i.closePath(),i.stroke()}const usePath2D=typeof Path2D=="function";function draw(i,e,s,o){usePath2D&&!e.options.segment?strokePathWithCache(i,e,s,o):strokePathDirect(i,e,s,o)}class LineElement extends Element{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){const a=o.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,o,e,a,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,o=e.length;return o&&s[e[o-1].end]}interpolate(e,s){const o=this.options,a=e[s],c=this.points,d=_boundSegments(this,{property:s,start:a,end:a});if(!d.length)return;const h=[],g=_getInterpolationMethod(o);let _,b;for(_=0,b=d.length;_<b;++_){const{start:j,end:$}=d[_],et=c[j],_e=c[$];if(et===_e){h.push(et);continue}const nt=Math.abs((a-et[s])/(_e[s]-et[s])),st=g(et,_e,nt,o.stepped);st[s]=e[s],h.push(st)}return h.length===1?h[0]:h}pathSegment(e,s,o){return _getSegmentMethod(this)(e,this,s,o)}path(e,s,o){const a=this.segments,c=_getSegmentMethod(this);let d=this._loop;s=s||0,o=o||this.points.length-s;for(const h of a)d&=c(e,this,h,{start:s,end:s+o-1});return!!d}draw(e,s,o,a){const c=this.options||{};(this.points||[]).length&&c.borderWidth&&(e.save(),draw(e,this,o,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}dn(LineElement,"id","line"),dn(LineElement,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),dn(LineElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),dn(LineElement,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function inRange$1(i,e,s,o){const a=i.options,{[s]:c}=i.getProps([s],o);return Math.abs(e-c)<a.radius+a.hitRadius}class PointElement extends Element{constructor(s){super();dn(this,"parsed");dn(this,"skip");dn(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,o,a){const c=this.options,{x:d,y:h}=this.getProps(["x","y"],a);return Math.pow(s-d,2)+Math.pow(o-h,2)<Math.pow(c.hitRadius+c.radius,2)}inXRange(s,o){return inRange$1(this,s,"x",o)}inYRange(s,o){return inRange$1(this,s,"y",o)}getCenterPoint(s){const{x:o,y:a}=this.getProps(["x","y"],s);return{x:o,y:a}}size(s){s=s||this.options||{};let o=s.radius||0;o=Math.max(o,o&&s.hoverRadius||0);const a=o&&s.borderWidth||0;return(o+a)*2}draw(s,o){const a=this.options;this.skip||a.radius<.1||!_isPointInArea(this,o,this.size(a)/2)||(s.strokeStyle=a.borderColor,s.lineWidth=a.borderWidth,s.fillStyle=a.backgroundColor,drawPoint(s,a,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}dn(PointElement,"id","point"),dn(PointElement,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),dn(PointElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function getBarBounds(i,e){const{x:s,y:o,base:a,width:c,height:d}=i.getProps(["x","y","base","width","height"],e);let h,g,_,b,j;return i.horizontal?(j=d/2,h=Math.min(s,a),g=Math.max(s,a),_=o-j,b=o+j):(j=c/2,h=s-j,g=s+j,_=Math.min(o,a),b=Math.max(o,a)),{left:h,top:_,right:g,bottom:b}}function skipOrLimit(i,e,s,o){return i?0:_limitValue(e,s,o)}function parseBorderWidth(i,e,s){const o=i.options.borderWidth,a=i.borderSkipped,c=toTRBL(o);return{t:skipOrLimit(a.top,c.top,0,s),r:skipOrLimit(a.right,c.right,0,e),b:skipOrLimit(a.bottom,c.bottom,0,s),l:skipOrLimit(a.left,c.left,0,e)}}function parseBorderRadius(i,e,s){const{enableBorderRadius:o}=i.getProps(["enableBorderRadius"]),a=i.options.borderRadius,c=toTRBLCorners(a),d=Math.min(e,s),h=i.borderSkipped,g=o||isObject(a);return{topLeft:skipOrLimit(!g||h.top||h.left,c.topLeft,0,d),topRight:skipOrLimit(!g||h.top||h.right,c.topRight,0,d),bottomLeft:skipOrLimit(!g||h.bottom||h.left,c.bottomLeft,0,d),bottomRight:skipOrLimit(!g||h.bottom||h.right,c.bottomRight,0,d)}}function boundingRects(i){const e=getBarBounds(i),s=e.right-e.left,o=e.bottom-e.top,a=parseBorderWidth(i,s/2,o/2),c=parseBorderRadius(i,s/2,o/2);return{outer:{x:e.left,y:e.top,w:s,h:o,radius:c},inner:{x:e.left+a.l,y:e.top+a.t,w:s-a.l-a.r,h:o-a.t-a.b,radius:{topLeft:Math.max(0,c.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,c.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,c.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,c.bottomRight-Math.max(a.b,a.r))}}}}function inRange(i,e,s,o){const a=e===null,c=s===null,h=i&&!(a&&c)&&getBarBounds(i,o);return h&&(a||_isBetween(e,h.left,h.right))&&(c||_isBetween(s,h.top,h.bottom))}function hasRadius(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function addNormalRectPath(i,e){i.rect(e.x,e.y,e.w,e.h)}function inflateRect(i,e,s={}){const o=i.x!==s.x?-e:0,a=i.y!==s.y?-e:0,c=(i.x+i.w!==s.x+s.w?e:0)-o,d=(i.y+i.h!==s.y+s.h?e:0)-a;return{x:i.x+o,y:i.y+a,w:i.w+c,h:i.h+d,radius:i.radius}}class BarElement extends Element{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:o,backgroundColor:a}}=this,{inner:c,outer:d}=boundingRects(this),h=hasRadius(d.radius)?addRoundedRectPath:addNormalRectPath;e.save(),(d.w!==c.w||d.h!==c.h)&&(e.beginPath(),h(e,inflateRect(d,s,c)),e.clip(),h(e,inflateRect(c,-s,d)),e.fillStyle=o,e.fill("evenodd")),e.beginPath(),h(e,inflateRect(c,s)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,s,o){return inRange(this,e,s,o)}inXRange(e,s){return inRange(this,e,null,s)}inYRange(e,s){return inRange(this,null,e,s)}getCenterPoint(e){const{x:s,y:o,base:a,horizontal:c}=this.getProps(["x","y","base","horizontal"],e);return{x:c?(s+a)/2:s,y:c?o:(o+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}dn(BarElement,"id","bar"),dn(BarElement,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),dn(BarElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var elements=Object.freeze({__proto__:null,ArcElement,BarElement,LineElement,PointElement});const BORDER_COLORS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],BACKGROUND_COLORS=BORDER_COLORS.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function getBorderColor(i){return BORDER_COLORS[i%BORDER_COLORS.length]}function getBackgroundColor(i){return BACKGROUND_COLORS[i%BACKGROUND_COLORS.length]}function colorizeDefaultDataset(i,e){return i.borderColor=getBorderColor(e),i.backgroundColor=getBackgroundColor(e),++e}function colorizeDoughnutDataset(i,e){return i.backgroundColor=i.data.map(()=>getBorderColor(e++)),e}function colorizePolarAreaDataset(i,e){return i.backgroundColor=i.data.map(()=>getBackgroundColor(e++)),e}function getColorizer(i){let e=0;return(s,o)=>{const a=i.getDatasetMeta(o).controller;a instanceof DoughnutController?e=colorizeDoughnutDataset(s,e):a instanceof PolarAreaController?e=colorizePolarAreaDataset(s,e):a&&(e=colorizeDefaultDataset(s,e))}}function containsColorsDefinitions(i){let e;for(e in i)if(i[e].borderColor||i[e].backgroundColor)return!0;return!1}function containsColorsDefinition(i){return i&&(i.borderColor||i.backgroundColor)}var plugin_colors={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,e,s){if(!s.enabled)return;const{data:{datasets:o},options:a}=i.config,{elements:c}=a;if(!s.forceOverride&&(containsColorsDefinitions(o)||containsColorsDefinition(a)||c&&containsColorsDefinitions(c)))return;const d=getColorizer(i);o.forEach(d)}};function lttbDecimation(i,e,s,o,a){const c=a.samples||o;if(c>=s)return i.slice(e,e+s);const d=[],h=(s-2)/(c-2);let g=0;const _=e+s-1;let b=e,j,$,et,_e,nt;for(d[g++]=i[b],j=0;j<c-2;j++){let st=0,tt=0,it;const ot=Math.floor((j+1)*h)+1+e,ct=Math.min(Math.floor((j+2)*h)+1,s)+e,rt=ct-ot;for(it=ot;it<ct;it++)st+=i[it].x,tt+=i[it].y;st/=rt,tt/=rt;const lt=Math.floor(j*h)+1+e,mt=Math.min(Math.floor((j+1)*h)+1,s)+e,{x:gt,y:ft}=i[b];for(et=_e=-1,it=lt;it<mt;it++)_e=.5*Math.abs((gt-st)*(i[it].y-ft)-(gt-i[it].x)*(tt-ft)),_e>et&&(et=_e,$=i[it],nt=it);d[g++]=$,b=nt}return d[g++]=i[_],d}function minMaxDecimation(i,e,s,o){let a=0,c=0,d,h,g,_,b,j,$,et,_e,nt;const st=[],tt=e+s-1,it=i[e].x,ct=i[tt].x-it;for(d=e;d<e+s;++d){h=i[d],g=(h.x-it)/ct*o,_=h.y;const rt=g|0;if(rt===b)_<_e?(_e=_,j=d):_>nt&&(nt=_,$=d),a=(c*a+h.x)/++c;else{const lt=d-1;if(!isNullOrUndef(j)&&!isNullOrUndef($)){const mt=Math.min(j,$),gt=Math.max(j,$);mt!==et&&mt!==lt&&st.push({...i[mt],x:a}),gt!==et&&gt!==lt&&st.push({...i[gt],x:a})}d>0&&lt!==et&&st.push(i[lt]),st.push(h),b=rt,c=0,_e=nt=_,j=$=et=d}}return st}function cleanDecimatedDataset(i){if(i._decimated){const e=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function cleanDecimatedData(i){i.data.datasets.forEach(e=>{cleanDecimatedDataset(e)})}function getStartAndCountOfVisiblePointsSimplified(i,e){const s=e.length;let o=0,a;const{iScale:c}=i,{min:d,max:h,minDefined:g,maxDefined:_}=c.getUserBounds();return g&&(o=_limitValue(_lookupByKey(e,c.axis,d).lo,0,s-1)),_?a=_limitValue(_lookupByKey(e,c.axis,h).hi+1,o,s)-o:a=s-o,{start:o,count:a}}var plugin_decimation={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,e,s)=>{if(!s.enabled){cleanDecimatedData(i);return}const o=i.width;i.data.datasets.forEach((a,c)=>{const{_data:d,indexAxis:h}=a,g=i.getDatasetMeta(c),_=d||a.data;if(resolve([h,i.options.indexAxis])==="y"||!g.controller.supportsDecimation)return;const b=i.scales[g.xAxisID];if(b.type!=="linear"&&b.type!=="time"||i.options.parsing)return;let{start:j,count:$}=getStartAndCountOfVisiblePointsSimplified(g,_);const et=s.threshold||4*o;if($<=et){cleanDecimatedDataset(a);return}isNullOrUndef(d)&&(a._data=_,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(nt){this._data=nt}}));let _e;switch(s.algorithm){case"lttb":_e=lttbDecimation(_,j,$,o,s);break;case"min-max":_e=minMaxDecimation(_,j,$,o);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}a._decimated=_e})},destroy(i){cleanDecimatedData(i)}};function _segments(i,e,s){const o=i.segments,a=i.points,c=e.points,d=[];for(const h of o){let{start:g,end:_}=h;_=_findSegmentEnd(g,_,a);const b=_getBounds(s,a[g],a[_],h.loop);if(!e.segments){d.push({source:h,target:b,start:a[g],end:a[_]});continue}const j=_boundSegments(e,b);for(const $ of j){const et=_getBounds(s,c[$.start],c[$.end],$.loop),_e=_boundSegment(h,a,et);for(const nt of _e)d.push({source:nt,target:$,start:{[s]:_getEdge(b,et,"start",Math.max)},end:{[s]:_getEdge(b,et,"end",Math.min)}})}}return d}function _getBounds(i,e,s,o){if(o)return;let a=e[i],c=s[i];return i==="angle"&&(a=_normalizeAngle(a),c=_normalizeAngle(c)),{property:i,start:a,end:c}}function _pointsFromSegments(i,e){const{x:s=null,y:o=null}=i||{},a=e.points,c=[];return e.segments.forEach(({start:d,end:h})=>{h=_findSegmentEnd(d,h,a);const g=a[d],_=a[h];o!==null?(c.push({x:g.x,y:o}),c.push({x:_.x,y:o})):s!==null&&(c.push({x:s,y:g.y}),c.push({x:s,y:_.y}))}),c}function _findSegmentEnd(i,e,s){for(;e>i;e--){const o=s[e];if(!isNaN(o.x)&&!isNaN(o.y))break}return e}function _getEdge(i,e,s,o){return i&&e?o(i[s],e[s]):i?i[s]:e?e[s]:0}function _createBoundaryLine(i,e){let s=[],o=!1;return isArray(i)?(o=!0,s=i):s=_pointsFromSegments(i,e),s.length?new LineElement({points:s,options:{tension:0},_loop:o,_fullLoop:o}):null}function _shouldApplyFill(i){return i&&i.fill!==!1}function _resolveTarget(i,e,s){let a=i[e].fill;const c=[e];let d;if(!s)return a;for(;a!==!1&&c.indexOf(a)===-1;){if(!isNumberFinite(a))return a;if(d=i[a],!d)return!1;if(d.visible)return a;c.push(a),a=d.fill}return!1}function _decodeFill(i,e,s){const o=parseFillOption(i);if(isObject(o))return isNaN(o.value)?!1:o;let a=parseFloat(o);return isNumberFinite(a)&&Math.floor(a)===a?decodeTargetIndex(o[0],e,a,s):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function decodeTargetIndex(i,e,s,o){return(i==="-"||i==="+")&&(s=e+s),s===e||s<0||s>=o?!1:s}function _getTargetPixel(i,e){let s=null;return i==="start"?s=e.bottom:i==="end"?s=e.top:isObject(i)?s=e.getPixelForValue(i.value):e.getBasePixel&&(s=e.getBasePixel()),s}function _getTargetValue(i,e,s){let o;return i==="start"?o=s:i==="end"?o=e.options.reverse?e.min:e.max:isObject(i)?o=i.value:o=e.getBaseValue(),o}function parseFillOption(i){const e=i.options,s=e.fill;let o=valueOrDefault(s&&s.target,s);return o===void 0&&(o=!!e.backgroundColor),o===!1||o===null?!1:o===!0?"origin":o}function _buildStackLine(i){const{scale:e,index:s,line:o}=i,a=[],c=o.segments,d=o.points,h=getLinesBelow(e,s);h.push(_createBoundaryLine({x:null,y:e.bottom},o));for(let g=0;g<c.length;g++){const _=c[g];for(let b=_.start;b<=_.end;b++)addPointsBelow(a,d[b],h)}return new LineElement({points:a,options:{}})}function getLinesBelow(i,e){const s=[],o=i.getMatchingVisibleMetas("line");for(let a=0;a<o.length;a++){const c=o[a];if(c.index===e)break;c.hidden||s.unshift(c.dataset)}return s}function addPointsBelow(i,e,s){const o=[];for(let a=0;a<s.length;a++){const c=s[a],{first:d,last:h,point:g}=findPoint(c,e,"x");if(!(!g||d&&h)){if(d)o.unshift(g);else if(i.push(g),!h)break}}i.push(...o)}function findPoint(i,e,s){const o=i.interpolate(e,s);if(!o)return{};const a=o[s],c=i.segments,d=i.points;let h=!1,g=!1;for(let _=0;_<c.length;_++){const b=c[_],j=d[b.start][s],$=d[b.end][s];if(_isBetween(a,j,$)){h=a===j,g=a===$;break}}return{first:h,last:g,point:o}}class simpleArc{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,s,o){const{x:a,y:c,radius:d}=this;return s=s||{start:0,end:TAU},e.arc(a,c,d,s.end,s.start,!0),!o.bounds}interpolate(e){const{x:s,y:o,radius:a}=this,c=e.angle;return{x:s+Math.cos(c)*a,y:o+Math.sin(c)*a,angle:c}}}function _getTarget(i){const{chart:e,fill:s,line:o}=i;if(isNumberFinite(s))return getLineByIndex(e,s);if(s==="stack")return _buildStackLine(i);if(s==="shape")return!0;const a=computeBoundary(i);return a instanceof simpleArc?a:_createBoundaryLine(a,o)}function getLineByIndex(i,e){const s=i.getDatasetMeta(e);return s&&i.isDatasetVisible(e)?s.dataset:null}function computeBoundary(i){return(i.scale||{}).getPointPositionForValue?computeCircularBoundary(i):computeLinearBoundary(i)}function computeLinearBoundary(i){const{scale:e={},fill:s}=i,o=_getTargetPixel(s,e);if(isNumberFinite(o)){const a=e.isHorizontal();return{x:a?o:null,y:a?null:o}}return null}function computeCircularBoundary(i){const{scale:e,fill:s}=i,o=e.options,a=e.getLabels().length,c=o.reverse?e.max:e.min,d=_getTargetValue(s,e,c),h=[];if(o.grid.circular){const g=e.getPointPositionForValue(0,c);return new simpleArc({x:g.x,y:g.y,radius:e.getDistanceFromCenterForValue(d)})}for(let g=0;g<a;++g)h.push(e.getPointPositionForValue(g,d));return h}function _drawfill(i,e,s){const o=_getTarget(e),{line:a,scale:c,axis:d}=e,h=a.options,g=h.fill,_=h.backgroundColor,{above:b=_,below:j=_}=g||{};o&&a.points.length&&(clipArea(i,s),doFill(i,{line:a,target:o,above:b,below:j,area:s,scale:c,axis:d}),unclipArea(i))}function doFill(i,e){const{line:s,target:o,above:a,below:c,area:d,scale:h}=e,g=s._loop?"angle":e.axis;i.save(),g==="x"&&c!==a&&(clipVertical(i,o,d.top),fill(i,{line:s,target:o,color:a,scale:h,property:g}),i.restore(),i.save(),clipVertical(i,o,d.bottom)),fill(i,{line:s,target:o,color:c,scale:h,property:g}),i.restore()}function clipVertical(i,e,s){const{segments:o,points:a}=e;let c=!0,d=!1;i.beginPath();for(const h of o){const{start:g,end:_}=h,b=a[g],j=a[_findSegmentEnd(g,_,a)];c?(i.moveTo(b.x,b.y),c=!1):(i.lineTo(b.x,s),i.lineTo(b.x,b.y)),d=!!e.pathSegment(i,h,{move:d}),d?i.closePath():i.lineTo(j.x,s)}i.lineTo(e.first().x,s),i.closePath(),i.clip()}function fill(i,e){const{line:s,target:o,property:a,color:c,scale:d}=e,h=_segments(s,o,a);for(const{source:g,target:_,start:b,end:j}of h){const{style:{backgroundColor:$=c}={}}=g,et=o!==!0;i.save(),i.fillStyle=$,clipBounds(i,d,et&&_getBounds(a,b,j)),i.beginPath();const _e=!!s.pathSegment(i,g);let nt;if(et){_e?i.closePath():interpolatedLineTo(i,o,j,a);const st=!!o.pathSegment(i,_,{move:_e,reverse:!0});nt=_e&&st,nt||interpolatedLineTo(i,o,b,a)}i.closePath(),i.fill(nt?"evenodd":"nonzero"),i.restore()}}function clipBounds(i,e,s){const{top:o,bottom:a}=e.chart.chartArea,{property:c,start:d,end:h}=s||{};c==="x"&&(i.beginPath(),i.rect(d,o,h-d,a-o),i.clip())}function interpolatedLineTo(i,e,s,o){const a=e.interpolate(s,o);a&&i.lineTo(a.x,a.y)}var index={id:"filler",afterDatasetsUpdate(i,e,s){const o=(i.data.datasets||[]).length,a=[];let c,d,h,g;for(d=0;d<o;++d)c=i.getDatasetMeta(d),h=c.dataset,g=null,h&&h.options&&h instanceof LineElement&&(g={visible:i.isDatasetVisible(d),index:d,fill:_decodeFill(h,d,o),chart:i,axis:c.controller.options.indexAxis,scale:c.vScale,line:h}),c.$filler=g,a.push(g);for(d=0;d<o;++d)g=a[d],!(!g||g.fill===!1)&&(g.fill=_resolveTarget(a,d,s.propagate))},beforeDraw(i,e,s){const o=s.drawTime==="beforeDraw",a=i.getSortedVisibleDatasetMetas(),c=i.chartArea;for(let d=a.length-1;d>=0;--d){const h=a[d].$filler;h&&(h.line.updateControlPoints(c,h.axis),o&&h.fill&&_drawfill(i.ctx,h,c))}},beforeDatasetsDraw(i,e,s){if(s.drawTime!=="beforeDatasetsDraw")return;const o=i.getSortedVisibleDatasetMetas();for(let a=o.length-1;a>=0;--a){const c=o[a].$filler;_shouldApplyFill(c)&&_drawfill(i.ctx,c,i.chartArea)}},beforeDatasetDraw(i,e,s){const o=e.meta.$filler;!_shouldApplyFill(o)||s.drawTime!=="beforeDatasetDraw"||_drawfill(i.ctx,o,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(i,e)=>{let{boxHeight:s=e,boxWidth:o=e}=i;return i.usePointStyle&&(s=Math.min(s,e),o=i.pointStyleWidth||Math.min(o,e)),{boxWidth:o,boxHeight:s,itemHeight:Math.max(e,s)}},itemsEqual=(i,e)=>i!==null&&e!==null&&i.datasetIndex===e.datasetIndex&&i.index===e.index;class Legend extends Element{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,o){this.maxWidth=e,this.maxHeight=s,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=callback(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(o=>e.filter(o,this.chart.data))),e.sort&&(s=s.sort((o,a)=>e.sort(o,a,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const o=e.labels,a=toFont(o.font),c=a.size,d=this._computeTitleHeight(),{boxWidth:h,itemHeight:g}=getBoxSize(o,c);let _,b;s.font=a.string,this.isHorizontal()?(_=this.maxWidth,b=this._fitRows(d,c,h,g)+10):(b=this.maxHeight,_=this._fitCols(d,a,h,g)+10),this.width=Math.min(_,e.maxWidth||this.maxWidth),this.height=Math.min(b,e.maxHeight||this.maxHeight)}_fitRows(e,s,o,a){const{ctx:c,maxWidth:d,options:{labels:{padding:h}}}=this,g=this.legendHitBoxes=[],_=this.lineWidths=[0],b=a+h;let j=e;c.textAlign="left",c.textBaseline="middle";let $=-1,et=-b;return this.legendItems.forEach((_e,nt)=>{const st=o+s/2+c.measureText(_e.text).width;(nt===0||_[_.length-1]+st+2*h>d)&&(j+=b,_[_.length-(nt>0?0:1)]=0,et+=b,$++),g[nt]={left:0,top:et,row:$,width:st,height:a},_[_.length-1]+=st+h}),j}_fitCols(e,s,o,a){const{ctx:c,maxHeight:d,options:{labels:{padding:h}}}=this,g=this.legendHitBoxes=[],_=this.columnSizes=[],b=d-e;let j=h,$=0,et=0,_e=0,nt=0;return this.legendItems.forEach((st,tt)=>{const{itemWidth:it,itemHeight:ot}=calculateItemSize(o,s,c,st,a);tt>0&&et+ot+2*h>b&&(j+=$+h,_.push({width:$,height:et}),_e+=$+h,nt++,$=et=0),g[tt]={left:_e,top:et,col:nt,width:it,height:ot},$=Math.max($,it),et+=ot+h}),j+=$,_.push({width:$,height:et}),j}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:o,labels:{padding:a},rtl:c}}=this,d=getRtlAdapter(c,this.left,this.width);if(this.isHorizontal()){let h=0,g=_alignStartEnd(o,this.left+a,this.right-this.lineWidths[h]);for(const _ of s)h!==_.row&&(h=_.row,g=_alignStartEnd(o,this.left+a,this.right-this.lineWidths[h])),_.top+=this.top+e+a,_.left=d.leftForLtr(d.x(g),_.width),g+=_.width+a}else{let h=0,g=_alignStartEnd(o,this.top+e+a,this.bottom-this.columnSizes[h].height);for(const _ of s)_.col!==h&&(h=_.col,g=_alignStartEnd(o,this.top+e+a,this.bottom-this.columnSizes[h].height)),_.top=g,_.left+=this.left+a,_.left=d.leftForLtr(d.x(_.left),_.width),g+=_.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;clipArea(e,this),this._draw(),unclipArea(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:o,ctx:a}=this,{align:c,labels:d}=e,h=defaults.color,g=getRtlAdapter(e.rtl,this.left,this.width),_=toFont(d.font),{padding:b}=d,j=_.size,$=j/2;let et;this.drawTitle(),a.textAlign=g.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=_.string;const{boxWidth:_e,boxHeight:nt,itemHeight:st}=getBoxSize(d,j),tt=function(lt,mt,gt){if(isNaN(_e)||_e<=0||isNaN(nt)||nt<0)return;a.save();const ft=valueOrDefault(gt.lineWidth,1);if(a.fillStyle=valueOrDefault(gt.fillStyle,h),a.lineCap=valueOrDefault(gt.lineCap,"butt"),a.lineDashOffset=valueOrDefault(gt.lineDashOffset,0),a.lineJoin=valueOrDefault(gt.lineJoin,"miter"),a.lineWidth=ft,a.strokeStyle=valueOrDefault(gt.strokeStyle,h),a.setLineDash(valueOrDefault(gt.lineDash,[])),d.usePointStyle){const yt={radius:nt*Math.SQRT2/2,pointStyle:gt.pointStyle,rotation:gt.rotation,borderWidth:ft},_t=g.xPlus(lt,_e/2),kt=mt+$;drawPointLegend(a,yt,_t,kt,d.pointStyleWidth&&_e)}else{const yt=mt+Math.max((j-nt)/2,0),_t=g.leftForLtr(lt,_e),kt=toTRBLCorners(gt.borderRadius);a.beginPath(),Object.values(kt).some(Ot=>Ot!==0)?addRoundedRectPath(a,{x:_t,y:yt,w:_e,h:nt,radius:kt}):a.rect(_t,yt,_e,nt),a.fill(),ft!==0&&a.stroke()}a.restore()},it=function(lt,mt,gt){renderText(a,gt.text,lt,mt+st/2,_,{strikethrough:gt.hidden,textAlign:g.textAlign(gt.textAlign)})},ot=this.isHorizontal(),ct=this._computeTitleHeight();ot?et={x:_alignStartEnd(c,this.left+b,this.right-o[0]),y:this.top+b+ct,line:0}:et={x:this.left+b,y:_alignStartEnd(c,this.top+ct+b,this.bottom-s[0].height),line:0},overrideTextDirection(this.ctx,e.textDirection);const rt=st+b;this.legendItems.forEach((lt,mt)=>{a.strokeStyle=lt.fontColor,a.fillStyle=lt.fontColor;const gt=a.measureText(lt.text).width,ft=g.textAlign(lt.textAlign||(lt.textAlign=d.textAlign)),yt=_e+$+gt;let _t=et.x,kt=et.y;g.setWidth(this.width),ot?mt>0&&_t+yt+b>this.right&&(kt=et.y+=rt,et.line++,_t=et.x=_alignStartEnd(c,this.left+b,this.right-o[et.line])):mt>0&&kt+rt>this.bottom&&(_t=et.x=_t+s[et.line].width+b,et.line++,kt=et.y=_alignStartEnd(c,this.top+ct+b,this.bottom-s[et.line].height));const Ot=g.x(_t);if(tt(Ot,kt,lt),_t=_textX(ft,_t+_e+$,ot?_t+yt:this.right,e.rtl),it(g.x(_t),kt,lt),ot)et.x+=yt+b;else if(typeof lt.text!="string"){const St=_.lineHeight;et.y+=calculateLegendItemHeight(lt,St)+b}else et.y+=rt}),restoreTextDirection(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,o=toFont(s.font),a=toPadding(s.padding);if(!s.display)return;const c=getRtlAdapter(e.rtl,this.left,this.width),d=this.ctx,h=s.position,g=o.size/2,_=a.top+g;let b,j=this.left,$=this.width;if(this.isHorizontal())$=Math.max(...this.lineWidths),b=this.top+_,j=_alignStartEnd(e.align,j,this.right-$);else{const _e=this.columnSizes.reduce((nt,st)=>Math.max(nt,st.height),0);b=_+_alignStartEnd(e.align,this.top,this.bottom-_e-e.labels.padding-this._computeTitleHeight())}const et=_alignStartEnd(h,j,j+$);d.textAlign=c.textAlign(_toLeftRightCenter(h)),d.textBaseline="middle",d.strokeStyle=s.color,d.fillStyle=s.color,d.font=o.string,renderText(d,s.text,et,b,o)}_computeTitleHeight(){const e=this.options.title,s=toFont(e.font),o=toPadding(e.padding);return e.display?s.lineHeight+o.height:0}_getLegendItemAt(e,s){let o,a,c;if(_isBetween(e,this.left,this.right)&&_isBetween(s,this.top,this.bottom)){for(c=this.legendHitBoxes,o=0;o<c.length;++o)if(a=c[o],_isBetween(e,a.left,a.left+a.width)&&_isBetween(s,a.top,a.top+a.height))return this.legendItems[o]}return null}handleEvent(e){const s=this.options;if(!isListened(e.type,s))return;const o=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,c=itemsEqual(a,o);a&&!c&&callback(s.onLeave,[e,a,this],this),this._hoveredItem=o,o&&!c&&callback(s.onHover,[e,o,this],this)}else o&&callback(s.onClick,[e,o,this],this)}}function calculateItemSize(i,e,s,o,a){const c=calculateItemWidth(o,i,e,s),d=calculateItemHeight(a,o,e.lineHeight);return{itemWidth:c,itemHeight:d}}function calculateItemWidth(i,e,s,o){let a=i.text;return a&&typeof a!="string"&&(a=a.reduce((c,d)=>c.length>d.length?c:d)),e+s.size/2+o.measureText(a).width}function calculateItemHeight(i,e,s){let o=i;return typeof e.text!="string"&&(o=calculateLegendItemHeight(e,s)),o}function calculateLegendItemHeight(i,e){const s=i.text?i.text.length:0;return e*s}function isListened(i,e){return!!((i==="mousemove"||i==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(i==="click"||i==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(i,e,s){const o=i.legend=new Legend({ctx:i.ctx,options:s,chart:i});layouts.configure(i,o,s),layouts.addBox(i,o)},stop(i){layouts.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,e,s){const o=i.legend;layouts.configure(i,o,s),o.options=s},afterUpdate(i){const e=i.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(i,e){e.replay||i.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,e,s){const o=e.datasetIndex,a=s.chart;a.isDatasetVisible(o)?(a.hide(o),e.hidden=!0):(a.show(o),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const e=i.data.datasets,{labels:{usePointStyle:s,pointStyle:o,textAlign:a,color:c,useBorderRadius:d,borderRadius:h}}=i.legend.options;return i._getSortedDatasetMetas().map(g=>{const _=g.controller.getStyle(s?0:void 0),b=toPadding(_.borderWidth);return{text:e[g.index].label,fillStyle:_.backgroundColor,fontColor:c,hidden:!g.visible,lineCap:_.borderCapStyle,lineDash:_.borderDash,lineDashOffset:_.borderDashOffset,lineJoin:_.borderJoinStyle,lineWidth:(b.width+b.height)/4,strokeStyle:_.borderColor,pointStyle:o||_.pointStyle,rotation:_.rotation,textAlign:a||_.textAlign,borderRadius:d&&(h||_.borderRadius),datasetIndex:g.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class Title extends Element{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const o=this.options;if(this.left=0,this.top=0,!o.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const a=isArray(o.text)?o.text.length:1;this._padding=toPadding(o.padding);const c=a*toFont(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=c:this.width=c}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:o,bottom:a,right:c,options:d}=this,h=d.align;let g=0,_,b,j;return this.isHorizontal()?(b=_alignStartEnd(h,o,c),j=s+e,_=c-o):(d.position==="left"?(b=o+e,j=_alignStartEnd(h,a,s),g=PI*-.5):(b=c-e,j=_alignStartEnd(h,s,a),g=PI*.5),_=a-s),{titleX:b,titleY:j,maxWidth:_,rotation:g}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const o=toFont(s.font),c=o.lineHeight/2+this._padding.top,{titleX:d,titleY:h,maxWidth:g,rotation:_}=this._drawArgs(c);renderText(e,s.text,0,0,o,{color:s.color,maxWidth:g,rotation:_,textAlign:_toLeftRightCenter(s.align),textBaseline:"middle",translation:[d,h]})}}function createTitle(i,e){const s=new Title({ctx:i.ctx,options:e,chart:i});layouts.configure(i,s,e),layouts.addBox(i,s),i.titleBlock=s}var plugin_title={id:"title",_element:Title,start(i,e,s){createTitle(i,s)},stop(i){const e=i.titleBlock;layouts.removeBox(i,e),delete i.titleBlock},beforeUpdate(i,e,s){const o=i.titleBlock;layouts.configure(i,o,s),o.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const map=new WeakMap;var plugin_subtitle={id:"subtitle",start(i,e,s){const o=new Title({ctx:i.ctx,options:s,chart:i});layouts.configure(i,o,s),layouts.addBox(i,o),map.set(i,o)},stop(i){layouts.removeBox(i,map.get(i)),map.delete(i)},beforeUpdate(i,e,s){const o=map.get(i);layouts.configure(i,o,s),o.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(i){if(!i.length)return!1;let e,s,o=new Set,a=0,c=0;for(e=0,s=i.length;e<s;++e){const h=i[e].element;if(h&&h.hasValue()){const g=h.tooltipPosition();o.add(g.x),a+=g.y,++c}}return{x:[...o].reduce((h,g)=>h+g)/o.size,y:a/c}},nearest(i,e){if(!i.length)return!1;let s=e.x,o=e.y,a=Number.POSITIVE_INFINITY,c,d,h;for(c=0,d=i.length;c<d;++c){const g=i[c].element;if(g&&g.hasValue()){const _=g.getCenterPoint(),b=distanceBetweenPoints(e,_);b<a&&(a=b,h=g)}}if(h){const g=h.tooltipPosition();s=g.x,o=g.y}return{x:s,y:o}}};function pushOrConcat(i,e){return e&&(isArray(e)?Array.prototype.push.apply(i,e):i.push(e)),i}function splitNewlines(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function createTooltipItem(i,e){const{element:s,datasetIndex:o,index:a}=e,c=i.getDatasetMeta(o).controller,{label:d,value:h}=c.getLabelAndValue(a);return{chart:i,label:d,parsed:c.getParsed(a),raw:i.data.datasets[o].data[a],formattedValue:h,dataset:c.getDataset(),dataIndex:a,datasetIndex:o,element:s}}function getTooltipSize(i,e){const s=i.chart.ctx,{body:o,footer:a,title:c}=i,{boxWidth:d,boxHeight:h}=e,g=toFont(e.bodyFont),_=toFont(e.titleFont),b=toFont(e.footerFont),j=c.length,$=a.length,et=o.length,_e=toPadding(e.padding);let nt=_e.height,st=0,tt=o.reduce((ct,rt)=>ct+rt.before.length+rt.lines.length+rt.after.length,0);if(tt+=i.beforeBody.length+i.afterBody.length,j&&(nt+=j*_.lineHeight+(j-1)*e.titleSpacing+e.titleMarginBottom),tt){const ct=e.displayColors?Math.max(h,g.lineHeight):g.lineHeight;nt+=et*ct+(tt-et)*g.lineHeight+(tt-1)*e.bodySpacing}$&&(nt+=e.footerMarginTop+$*b.lineHeight+($-1)*e.footerSpacing);let it=0;const ot=function(ct){st=Math.max(st,s.measureText(ct).width+it)};return s.save(),s.font=_.string,each(i.title,ot),s.font=g.string,each(i.beforeBody.concat(i.afterBody),ot),it=e.displayColors?d+2+e.boxPadding:0,each(o,ct=>{each(ct.before,ot),each(ct.lines,ot),each(ct.after,ot)}),it=0,s.font=b.string,each(i.footer,ot),s.restore(),st+=_e.width,{width:st,height:nt}}function determineYAlign(i,e){const{y:s,height:o}=e;return s<o/2?"top":s>i.height-o/2?"bottom":"center"}function doesNotFitWithAlign(i,e,s,o){const{x:a,width:c}=o,d=s.caretSize+s.caretPadding;if(i==="left"&&a+c+d>e.width||i==="right"&&a-c-d<0)return!0}function determineXAlign(i,e,s,o){const{x:a,width:c}=s,{width:d,chartArea:{left:h,right:g}}=i;let _="center";return o==="center"?_=a<=(h+g)/2?"left":"right":a<=c/2?_="left":a>=d-c/2&&(_="right"),doesNotFitWithAlign(_,i,e,s)&&(_="center"),_}function determineAlignment(i,e,s){const o=s.yAlign||e.yAlign||determineYAlign(i,s);return{xAlign:s.xAlign||e.xAlign||determineXAlign(i,e,s,o),yAlign:o}}function alignX(i,e){let{x:s,width:o}=i;return e==="right"?s-=o:e==="center"&&(s-=o/2),s}function alignY(i,e,s){let{y:o,height:a}=i;return e==="top"?o+=s:e==="bottom"?o-=a+s:o-=a/2,o}function getBackgroundPoint(i,e,s,o){const{caretSize:a,caretPadding:c,cornerRadius:d}=i,{xAlign:h,yAlign:g}=s,_=a+c,{topLeft:b,topRight:j,bottomLeft:$,bottomRight:et}=toTRBLCorners(d);let _e=alignX(e,h);const nt=alignY(e,g,_);return g==="center"?h==="left"?_e+=_:h==="right"&&(_e-=_):h==="left"?_e-=Math.max(b,$)+a:h==="right"&&(_e+=Math.max(j,et)+a),{x:_limitValue(_e,0,o.width-e.width),y:_limitValue(nt,0,o.height-e.height)}}function getAlignedX(i,e,s){const o=toPadding(s.padding);return e==="center"?i.x+i.width/2:e==="right"?i.x+i.width-o.right:i.x+o.left}function getBeforeAfterBodyLines(i){return pushOrConcat([],splitNewlines(i))}function createTooltipContext(i,e,s){return createContext(i,{tooltip:e,tooltipItems:s,type:"tooltip"})}function overrideCallbacks(i,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?i.override(s):i}const defaultCallbacks={beforeTitle:noop,title(i){if(i.length>0){const e=i[0],s=e.chart.data.labels,o=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(o>0&&e.dataIndex<o)return s[e.dataIndex]}return""},afterTitle:noop,beforeBody:noop,beforeLabel:noop,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let e=i.dataset.label||"";e&&(e+=": ");const s=i.formattedValue;return isNullOrUndef(s)||(e+=s),e},labelColor(i){const s=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const s=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:noop,afterBody:noop,beforeFooter:noop,footer:noop,afterFooter:noop};function invokeCallbackWithFallback(i,e,s,o){const a=i[e].call(s,o);return typeof a>"u"?defaultCallbacks[e].call(s,o):a}class Tooltip extends Element{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,o=this.options.setContext(this.getContext()),a=o.enabled&&s.options.animation&&o.animations,c=new Animations(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(c)),c}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:o}=s,a=invokeCallbackWithFallback(o,"beforeTitle",this,e),c=invokeCallbackWithFallback(o,"title",this,e),d=invokeCallbackWithFallback(o,"afterTitle",this,e);let h=[];return h=pushOrConcat(h,splitNewlines(a)),h=pushOrConcat(h,splitNewlines(c)),h=pushOrConcat(h,splitNewlines(d)),h}getBeforeBody(e,s){return getBeforeAfterBodyLines(invokeCallbackWithFallback(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:o}=s,a=[];return each(e,c=>{const d={before:[],lines:[],after:[]},h=overrideCallbacks(o,c);pushOrConcat(d.before,splitNewlines(invokeCallbackWithFallback(h,"beforeLabel",this,c))),pushOrConcat(d.lines,invokeCallbackWithFallback(h,"label",this,c)),pushOrConcat(d.after,splitNewlines(invokeCallbackWithFallback(h,"afterLabel",this,c))),a.push(d)}),a}getAfterBody(e,s){return getBeforeAfterBodyLines(invokeCallbackWithFallback(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:o}=s,a=invokeCallbackWithFallback(o,"beforeFooter",this,e),c=invokeCallbackWithFallback(o,"footer",this,e),d=invokeCallbackWithFallback(o,"afterFooter",this,e);let h=[];return h=pushOrConcat(h,splitNewlines(a)),h=pushOrConcat(h,splitNewlines(c)),h=pushOrConcat(h,splitNewlines(d)),h}_createItems(e){const s=this._active,o=this.chart.data,a=[],c=[],d=[];let h=[],g,_;for(g=0,_=s.length;g<_;++g)h.push(createTooltipItem(this.chart,s[g]));return e.filter&&(h=h.filter((b,j,$)=>e.filter(b,j,$,o))),e.itemSort&&(h=h.sort((b,j)=>e.itemSort(b,j,o))),each(h,b=>{const j=overrideCallbacks(e.callbacks,b);a.push(invokeCallbackWithFallback(j,"labelColor",this,b)),c.push(invokeCallbackWithFallback(j,"labelPointStyle",this,b)),d.push(invokeCallbackWithFallback(j,"labelTextColor",this,b))}),this.labelColors=a,this.labelPointStyles=c,this.labelTextColors=d,this.dataPoints=h,h}update(e,s){const o=this.options.setContext(this.getContext()),a=this._active;let c,d=[];if(!a.length)this.opacity!==0&&(c={opacity:0});else{const h=positioners[o.position].call(this,a,this._eventPosition);d=this._createItems(o),this.title=this.getTitle(d,o),this.beforeBody=this.getBeforeBody(d,o),this.body=this.getBody(d,o),this.afterBody=this.getAfterBody(d,o),this.footer=this.getFooter(d,o);const g=this._size=getTooltipSize(this,o),_=Object.assign({},h,g),b=determineAlignment(this.chart,o,_),j=getBackgroundPoint(o,_,b,this.chart);this.xAlign=b.xAlign,this.yAlign=b.yAlign,c={opacity:1,x:j.x,y:j.y,width:g.width,height:g.height,caretX:h.x,caretY:h.y}}this._tooltipItems=d,this.$context=void 0,c&&this._resolveAnimations().update(this,c),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,o,a){const c=this.getCaretPosition(e,o,a);s.lineTo(c.x1,c.y1),s.lineTo(c.x2,c.y2),s.lineTo(c.x3,c.y3)}getCaretPosition(e,s,o){const{xAlign:a,yAlign:c}=this,{caretSize:d,cornerRadius:h}=o,{topLeft:g,topRight:_,bottomLeft:b,bottomRight:j}=toTRBLCorners(h),{x:$,y:et}=e,{width:_e,height:nt}=s;let st,tt,it,ot,ct,rt;return c==="center"?(ct=et+nt/2,a==="left"?(st=$,tt=st-d,ot=ct+d,rt=ct-d):(st=$+_e,tt=st+d,ot=ct-d,rt=ct+d),it=st):(a==="left"?tt=$+Math.max(g,b)+d:a==="right"?tt=$+_e-Math.max(_,j)-d:tt=this.caretX,c==="top"?(ot=et,ct=ot-d,st=tt-d,it=tt+d):(ot=et+nt,ct=ot+d,st=tt+d,it=tt-d),rt=ot),{x1:st,x2:tt,x3:it,y1:ot,y2:ct,y3:rt}}drawTitle(e,s,o){const a=this.title,c=a.length;let d,h,g;if(c){const _=getRtlAdapter(o.rtl,this.x,this.width);for(e.x=getAlignedX(this,o.titleAlign,o),s.textAlign=_.textAlign(o.titleAlign),s.textBaseline="middle",d=toFont(o.titleFont),h=o.titleSpacing,s.fillStyle=o.titleColor,s.font=d.string,g=0;g<c;++g)s.fillText(a[g],_.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+h,g+1===c&&(e.y+=o.titleMarginBottom-h)}}_drawColorBox(e,s,o,a,c){const d=this.labelColors[o],h=this.labelPointStyles[o],{boxHeight:g,boxWidth:_}=c,b=toFont(c.bodyFont),j=getAlignedX(this,"left",c),$=a.x(j),et=g<b.lineHeight?(b.lineHeight-g)/2:0,_e=s.y+et;if(c.usePointStyle){const nt={radius:Math.min(_,g)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},st=a.leftForLtr($,_)+_/2,tt=_e+g/2;e.strokeStyle=c.multiKeyBackground,e.fillStyle=c.multiKeyBackground,drawPoint(e,nt,st,tt),e.strokeStyle=d.borderColor,e.fillStyle=d.backgroundColor,drawPoint(e,nt,st,tt)}else{e.lineWidth=isObject(d.borderWidth)?Math.max(...Object.values(d.borderWidth)):d.borderWidth||1,e.strokeStyle=d.borderColor,e.setLineDash(d.borderDash||[]),e.lineDashOffset=d.borderDashOffset||0;const nt=a.leftForLtr($,_),st=a.leftForLtr(a.xPlus($,1),_-2),tt=toTRBLCorners(d.borderRadius);Object.values(tt).some(it=>it!==0)?(e.beginPath(),e.fillStyle=c.multiKeyBackground,addRoundedRectPath(e,{x:nt,y:_e,w:_,h:g,radius:tt}),e.fill(),e.stroke(),e.fillStyle=d.backgroundColor,e.beginPath(),addRoundedRectPath(e,{x:st,y:_e+1,w:_-2,h:g-2,radius:tt}),e.fill()):(e.fillStyle=c.multiKeyBackground,e.fillRect(nt,_e,_,g),e.strokeRect(nt,_e,_,g),e.fillStyle=d.backgroundColor,e.fillRect(st,_e+1,_-2,g-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,s,o){const{body:a}=this,{bodySpacing:c,bodyAlign:d,displayColors:h,boxHeight:g,boxWidth:_,boxPadding:b}=o,j=toFont(o.bodyFont);let $=j.lineHeight,et=0;const _e=getRtlAdapter(o.rtl,this.x,this.width),nt=function(gt){s.fillText(gt,_e.x(e.x+et),e.y+$/2),e.y+=$+c},st=_e.textAlign(d);let tt,it,ot,ct,rt,lt,mt;for(s.textAlign=d,s.textBaseline="middle",s.font=j.string,e.x=getAlignedX(this,st,o),s.fillStyle=o.bodyColor,each(this.beforeBody,nt),et=h&&st!=="right"?d==="center"?_/2+b:_+2+b:0,ct=0,lt=a.length;ct<lt;++ct){for(tt=a[ct],it=this.labelTextColors[ct],s.fillStyle=it,each(tt.before,nt),ot=tt.lines,h&&ot.length&&(this._drawColorBox(s,e,ct,_e,o),$=Math.max(j.lineHeight,g)),rt=0,mt=ot.length;rt<mt;++rt)nt(ot[rt]),$=j.lineHeight;each(tt.after,nt)}et=0,$=j.lineHeight,each(this.afterBody,nt),e.y-=c}drawFooter(e,s,o){const a=this.footer,c=a.length;let d,h;if(c){const g=getRtlAdapter(o.rtl,this.x,this.width);for(e.x=getAlignedX(this,o.footerAlign,o),e.y+=o.footerMarginTop,s.textAlign=g.textAlign(o.footerAlign),s.textBaseline="middle",d=toFont(o.footerFont),s.fillStyle=o.footerColor,s.font=d.string,h=0;h<c;++h)s.fillText(a[h],g.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+o.footerSpacing}}drawBackground(e,s,o,a){const{xAlign:c,yAlign:d}=this,{x:h,y:g}=e,{width:_,height:b}=o,{topLeft:j,topRight:$,bottomLeft:et,bottomRight:_e}=toTRBLCorners(a.cornerRadius);s.fillStyle=a.backgroundColor,s.strokeStyle=a.borderColor,s.lineWidth=a.borderWidth,s.beginPath(),s.moveTo(h+j,g),d==="top"&&this.drawCaret(e,s,o,a),s.lineTo(h+_-$,g),s.quadraticCurveTo(h+_,g,h+_,g+$),d==="center"&&c==="right"&&this.drawCaret(e,s,o,a),s.lineTo(h+_,g+b-_e),s.quadraticCurveTo(h+_,g+b,h+_-_e,g+b),d==="bottom"&&this.drawCaret(e,s,o,a),s.lineTo(h+et,g+b),s.quadraticCurveTo(h,g+b,h,g+b-et),d==="center"&&c==="left"&&this.drawCaret(e,s,o,a),s.lineTo(h,g+j),s.quadraticCurveTo(h,g,h+j,g),s.closePath(),s.fill(),a.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,o=this.$animations,a=o&&o.x,c=o&&o.y;if(a||c){const d=positioners[e.position].call(this,this._active,this._eventPosition);if(!d)return;const h=this._size=getTooltipSize(this,e),g=Object.assign({},d,this._size),_=determineAlignment(s,e,g),b=getBackgroundPoint(e,g,_,s);(a._to!==b.x||c._to!==b.y)&&(this.xAlign=_.xAlign,this.yAlign=_.yAlign,this.width=h.width,this.height=h.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,b))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(s);const a={width:this.width,height:this.height},c={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const d=toPadding(s.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&h&&(e.save(),e.globalAlpha=o,this.drawBackground(c,e,a,s),overrideTextDirection(e,s.textDirection),c.y+=d.top,this.drawTitle(c,e,s),this.drawBody(c,e,s),this.drawFooter(c,e,s),restoreTextDirection(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const o=this._active,a=e.map(({datasetIndex:h,index:g})=>{const _=this.chart.getDatasetMeta(h);if(!_)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:_.data[g],index:g}}),c=!_elementsEqual(o,a),d=this._positionChanged(a,s);(c||d)&&(this._active=a,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,o=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,c=this._active||[],d=this._getActiveElements(e,c,s,o),h=this._positionChanged(d,e),g=s||!_elementsEqual(d,c)||h;return g&&(this._active=d,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),g}_getActiveElements(e,s,o,a){const c=this.options;if(e.type==="mouseout")return[];if(!a)return s.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const d=this.chart.getElementsAtEventForMode(e,c.mode,c,o);return c.reverse&&d.reverse(),d}_positionChanged(e,s){const{caretX:o,caretY:a,options:c}=this,d=positioners[c.position].call(this,e,s);return d!==!1&&(o!==d.x||a!==d.y)}}dn(Tooltip,"positioners",positioners);var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners,afterInit(i,e,s){s&&(i.tooltip=new Tooltip({chart:i,options:s}))},beforeUpdate(i,e,s){i.tooltip&&i.tooltip.initialize(s)},reset(i,e,s){i.tooltip&&i.tooltip.initialize(s)},afterDraw(i){const e=i.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(i.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",s)}},afterEvent(i,e){if(i.tooltip){const s=e.replay;i.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,e)=>e.bodyFont.size,boxWidth:(i,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},plugins=Object.freeze({__proto__:null,Colors:plugin_colors,Decimation:plugin_decimation,Filler:index,Legend:plugin_legend,SubTitle:plugin_subtitle,Title:plugin_title,Tooltip:plugin_tooltip});const addIfString=(i,e,s,o)=>(typeof e=="string"?(s=i.push(e)-1,o.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function findOrAddLabel(i,e,s,o){const a=i.indexOf(e);if(a===-1)return addIfString(i,e,s,o);const c=i.lastIndexOf(e);return a!==c?s:a}const validIndex=(i,e)=>i===null?null:_limitValue(Math.round(i),0,e);function _getLabelForValue(i){const e=this.getLabels();return i>=0&&i<e.length?e[i]:i}class CategoryScale extends Scale{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const o=this.getLabels();for(const{index:a,label:c}of s)o[a]===c&&o.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(isNullOrUndef(e))return null;const o=this.getLabels();return s=isFinite(s)&&o[s]===e?s:findOrAddLabel(o,e,valueOrDefault(s,e),this._addedLabels),validIndex(s,o.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:o,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(o=0),s||(a=this.getLabels().length-1)),this.min=o,this.max=a}buildTicks(){const e=this.min,s=this.max,o=this.options.offset,a=[];let c=this.getLabels();c=e===0&&s===c.length-1?c:c.slice(e,s+1),this._valueRange=Math.max(c.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let d=e;d<=s;d++)a.push({value:d});return a}getLabelForValue(e){return _getLabelForValue.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}dn(CategoryScale,"id","category"),dn(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(i,e){const s=[],{bounds:a,step:c,min:d,max:h,precision:g,count:_,maxTicks:b,maxDigits:j,includeBounds:$}=i,et=c||1,_e=b-1,{min:nt,max:st}=e,tt=!isNullOrUndef(d),it=!isNullOrUndef(h),ot=!isNullOrUndef(_),ct=(st-nt)/(j+1);let rt=niceNum((st-nt)/_e/et)*et,lt,mt,gt,ft;if(rt<1e-14&&!tt&&!it)return[{value:nt},{value:st}];ft=Math.ceil(st/rt)-Math.floor(nt/rt),ft>_e&&(rt=niceNum(ft*rt/_e/et)*et),isNullOrUndef(g)||(lt=Math.pow(10,g),rt=Math.ceil(rt*lt)/lt),a==="ticks"?(mt=Math.floor(nt/rt)*rt,gt=Math.ceil(st/rt)*rt):(mt=nt,gt=st),tt&&it&&c&&almostWhole((h-d)/c,rt/1e3)?(ft=Math.round(Math.min((h-d)/rt,b)),rt=(h-d)/ft,mt=d,gt=h):ot?(mt=tt?d:mt,gt=it?h:gt,ft=_-1,rt=(gt-mt)/ft):(ft=(gt-mt)/rt,almostEquals(ft,Math.round(ft),rt/1e3)?ft=Math.round(ft):ft=Math.ceil(ft));const yt=Math.max(_decimalPlaces(rt),_decimalPlaces(mt));lt=Math.pow(10,isNullOrUndef(g)?yt:g),mt=Math.round(mt*lt)/lt,gt=Math.round(gt*lt)/lt;let _t=0;for(tt&&($&&mt!==d?(s.push({value:d}),mt<d&&_t++,almostEquals(Math.round((mt+_t*rt)*lt)/lt,d,relativeLabelSize(d,ct,i))&&_t++):mt<d&&_t++);_t<ft;++_t){const kt=Math.round((mt+_t*rt)*lt)/lt;if(it&&kt>h)break;s.push({value:kt})}return it&&$&&gt!==h?s.length&&almostEquals(s[s.length-1].value,h,relativeLabelSize(h,ct,i))?s[s.length-1].value=h:s.push({value:h}):(!it||gt===h)&&s.push({value:gt}),s}function relativeLabelSize(i,e,{horizontal:s,minRotation:o}){const a=toRadians(o),c=(s?Math.sin(a):Math.cos(a))||.001,d=.75*e*(""+i).length;return Math.min(e/c,d)}class LinearScaleBase extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return isNullOrUndef(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:o}=this.getUserBounds();let{min:a,max:c}=this;const d=g=>a=s?a:g,h=g=>c=o?c:g;if(e){const g=sign(a),_=sign(c);g<0&&_<0?h(0):g>0&&_>0&&d(0)}if(a===c){let g=c===0?1:Math.abs(c*.05);h(c+g),e||d(a-g)}this.min=a,this.max=c}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:o}=e,a;return o?(a=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),s=s||11),s&&(a=Math.min(s,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let o=this.getTickLimit();o=Math.max(2,o);const a={maxTicks:o,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},c=this._range||this,d=generateTicks$1(a,c);return e.bounds==="ticks"&&_setMinAndMaxByKey(d,this,"value"),e.reverse?(d.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),d}configure(){const e=this.ticks;let s=this.min,o=this.max;if(super.configure(),this.options.offset&&e.length){const a=(o-s)/Math.max(e.length-1,1)/2;s-=a,o+=a}this._startValue=s,this._endValue=o,this._valueRange=o-s}getLabelForValue(e){return formatNumber(e,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=isNumberFinite(e)?e:0,this.max=isNumberFinite(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,o=toRadians(this.options.ticks.minRotation),a=(e?Math.sin(o):Math.cos(o))||.001,c=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,c.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}dn(LinearScale,"id","linear"),dn(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});const log10Floor=i=>Math.floor(log10(i)),changeExponent=(i,e)=>Math.pow(10,log10Floor(i)+e);function isMajor(i){return i/Math.pow(10,log10Floor(i))===1}function steps(i,e,s){const o=Math.pow(10,s),a=Math.floor(i/o);return Math.ceil(e/o)-a}function startExp(i,e){const s=e-i;let o=log10Floor(s);for(;steps(i,e,o)>10;)o++;for(;steps(i,e,o)<10;)o--;return Math.min(o,log10Floor(i))}function generateTicks(i,{min:e,max:s}){e=finiteOrDefault(i.min,e);const o=[],a=log10Floor(e);let c=startExp(e,s),d=c<0?Math.pow(10,Math.abs(c)):1;const h=Math.pow(10,c),g=a>c?Math.pow(10,a):0,_=Math.round((e-g)*d)/d,b=Math.floor((e-g)/h/10)*h*10;let j=Math.floor((_-b)/Math.pow(10,c)),$=finiteOrDefault(i.min,Math.round((g+b+j*Math.pow(10,c))*d)/d);for(;$<s;)o.push({value:$,major:isMajor($),significand:j}),j>=10?j=j<15?15:20:j++,j>=20&&(c++,j=2,d=c>=0?1:d),$=Math.round((g+b+j*Math.pow(10,c))*d)/d;const et=finiteOrDefault(i.max,$);return o.push({value:et,major:isMajor(et),significand:j}),o}class LogarithmicScale extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,s){const o=LinearScaleBase.prototype.parse.apply(this,[e,s]);if(o===0){this._zero=!0;return}return isNumberFinite(o)&&o>0?o:null}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=isNumberFinite(e)?Math.max(0,e):null,this.max=isNumberFinite(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!isNumberFinite(this._userMin)&&(this.min=e===changeExponent(this.min,0)?changeExponent(this.min,-1):changeExponent(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let o=this.min,a=this.max;const c=h=>o=e?o:h,d=h=>a=s?a:h;o===a&&(o<=0?(c(1),d(10)):(c(changeExponent(o,-1)),d(changeExponent(a,1)))),o<=0&&c(changeExponent(a,-1)),a<=0&&d(changeExponent(o,1)),this.min=o,this.max=a}buildTicks(){const e=this.options,s={min:this._userMin,max:this._userMax},o=generateTicks(s,this);return e.bounds==="ticks"&&_setMinAndMaxByKey(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(e){return e===void 0?"0":formatNumber(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=log10(e),this._valueRange=log10(this.max)-log10(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(log10(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const s=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+s*this._valueRange)}}dn(LogarithmicScale,"id","logarithmic"),dn(LogarithmicScale,"defaults",{ticks:{callback:Ticks.formatters.logarithmic,major:{enabled:!0}}});function getTickBackdropHeight(i){const e=i.ticks;if(e.display&&i.display){const s=toPadding(e.backdropPadding);return valueOrDefault(e.font&&e.font.size,defaults.font.size)+s.height}return 0}function measureLabelSize(i,e,s){return s=isArray(s)?s:[s],{w:_longestText(i,e.string,s),h:s.length*e.lineHeight}}function determineLimits(i,e,s,o,a){return i===o||i===a?{start:e-s/2,end:e+s/2}:i<o||i>a?{start:e-s,end:e}:{start:e,end:e+s}}function fitWithPointLabels(i){const e={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},s=Object.assign({},e),o=[],a=[],c=i._pointLabels.length,d=i.options.pointLabels,h=d.centerPointLabels?PI/c:0;for(let g=0;g<c;g++){const _=d.setContext(i.getPointLabelContext(g));a[g]=_.padding;const b=i.getPointPosition(g,i.drawingArea+a[g],h),j=toFont(_.font),$=measureLabelSize(i.ctx,j,i._pointLabels[g]);o[g]=$;const et=_normalizeAngle(i.getIndexAngle(g)+h),_e=Math.round(toDegrees(et)),nt=determineLimits(_e,b.x,$.w,0,180),st=determineLimits(_e,b.y,$.h,90,270);updateLimits(s,e,et,nt,st)}i.setCenterPoint(e.l-s.l,s.r-e.r,e.t-s.t,s.b-e.b),i._pointLabelItems=buildPointLabelItems(i,o,a)}function updateLimits(i,e,s,o,a){const c=Math.abs(Math.sin(s)),d=Math.abs(Math.cos(s));let h=0,g=0;o.start<e.l?(h=(e.l-o.start)/c,i.l=Math.min(i.l,e.l-h)):o.end>e.r&&(h=(o.end-e.r)/c,i.r=Math.max(i.r,e.r+h)),a.start<e.t?(g=(e.t-a.start)/d,i.t=Math.min(i.t,e.t-g)):a.end>e.b&&(g=(a.end-e.b)/d,i.b=Math.max(i.b,e.b+g))}function createPointLabelItem(i,e,s){const o=i.drawingArea,{extra:a,additionalAngle:c,padding:d,size:h}=s,g=i.getPointPosition(e,o+a+d,c),_=Math.round(toDegrees(_normalizeAngle(g.angle+HALF_PI))),b=yForAngle(g.y,h.h,_),j=getTextAlignForAngle(_),$=leftForTextAlign(g.x,h.w,j);return{visible:!0,x:g.x,y:b,textAlign:j,left:$,top:b,right:$+h.w,bottom:b+h.h}}function isNotOverlapped(i,e){if(!e)return!0;const{left:s,top:o,right:a,bottom:c}=i;return!(_isPointInArea({x:s,y:o},e)||_isPointInArea({x:s,y:c},e)||_isPointInArea({x:a,y:o},e)||_isPointInArea({x:a,y:c},e))}function buildPointLabelItems(i,e,s){const o=[],a=i._pointLabels.length,c=i.options,{centerPointLabels:d,display:h}=c.pointLabels,g={extra:getTickBackdropHeight(c)/2,additionalAngle:d?PI/a:0};let _;for(let b=0;b<a;b++){g.padding=s[b],g.size=e[b];const j=createPointLabelItem(i,b,g);o.push(j),h==="auto"&&(j.visible=isNotOverlapped(j,_),j.visible&&(_=j))}return o}function getTextAlignForAngle(i){return i===0||i===180?"center":i<180?"left":"right"}function leftForTextAlign(i,e,s){return s==="right"?i-=e:s==="center"&&(i-=e/2),i}function yForAngle(i,e,s){return s===90||s===270?i-=e/2:(s>270||s<90)&&(i-=e),i}function drawPointLabelBox(i,e,s){const{left:o,top:a,right:c,bottom:d}=s,{backdropColor:h}=e;if(!isNullOrUndef(h)){const g=toTRBLCorners(e.borderRadius),_=toPadding(e.backdropPadding);i.fillStyle=h;const b=o-_.left,j=a-_.top,$=c-o+_.width,et=d-a+_.height;Object.values(g).some(_e=>_e!==0)?(i.beginPath(),addRoundedRectPath(i,{x:b,y:j,w:$,h:et,radius:g}),i.fill()):i.fillRect(b,j,$,et)}}function drawPointLabels(i,e){const{ctx:s,options:{pointLabels:o}}=i;for(let a=e-1;a>=0;a--){const c=i._pointLabelItems[a];if(!c.visible)continue;const d=o.setContext(i.getPointLabelContext(a));drawPointLabelBox(s,d,c);const h=toFont(d.font),{x:g,y:_,textAlign:b}=c;renderText(s,i._pointLabels[a],g,_+h.lineHeight/2,h,{color:d.color,textAlign:b,textBaseline:"middle"})}}function pathRadiusLine(i,e,s,o){const{ctx:a}=i;if(s)a.arc(i.xCenter,i.yCenter,e,0,TAU);else{let c=i.getPointPosition(0,e);a.moveTo(c.x,c.y);for(let d=1;d<o;d++)c=i.getPointPosition(d,e),a.lineTo(c.x,c.y)}}function drawRadiusLine(i,e,s,o,a){const c=i.ctx,d=e.circular,{color:h,lineWidth:g}=e;!d&&!o||!h||!g||s<0||(c.save(),c.strokeStyle=h,c.lineWidth=g,c.setLineDash(a.dash),c.lineDashOffset=a.dashOffset,c.beginPath(),pathRadiusLine(i,s,d,o),c.closePath(),c.stroke(),c.restore())}function createPointLabelContext(i,e,s){return createContext(i,{label:s,index:e,type:"pointLabel"})}class RadialLinearScale extends LinearScaleBase{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=toPadding(getTickBackdropHeight(this.options)/2),s=this.width=this.maxWidth-e.width,o=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+s/2+e.left),this.yCenter=Math.floor(this.top+o/2+e.top),this.drawingArea=Math.floor(Math.min(s,o)/2)}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!1);this.min=isNumberFinite(e)&&!isNaN(e)?e:0,this.max=isNumberFinite(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}generateTickLabels(e){LinearScaleBase.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((s,o)=>{const a=callback(this.options.pointLabels.callback,[s,o],this);return a||a===0?a:""}).filter((s,o)=>this.chart.getDataVisibility(o))}fit(){const e=this.options;e.display&&e.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,s,o,a){this.xCenter+=Math.floor((e-s)/2),this.yCenter+=Math.floor((o-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,s,o,a))}getIndexAngle(e){const s=TAU/(this._pointLabels.length||1),o=this.options.startAngle||0;return _normalizeAngle(e*s+toRadians(o))}getDistanceFromCenterForValue(e){if(isNullOrUndef(e))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*s:(e-this.min)*s}getValueForDistanceFromCenter(e){if(isNullOrUndef(e))return NaN;const s=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(e){const s=this._pointLabels||[];if(e>=0&&e<s.length){const o=s[e];return createPointLabelContext(this.getContext(),e,o)}}getPointPosition(e,s,o=0){const a=this.getIndexAngle(e)-HALF_PI+o;return{x:Math.cos(a)*s+this.xCenter,y:Math.sin(a)*s+this.yCenter,angle:a}}getPointPositionForValue(e,s){return this.getPointPosition(e,this.getDistanceFromCenterForValue(s))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:s,top:o,right:a,bottom:c}=this._pointLabelItems[e];return{left:s,top:o,right:a,bottom:c}}drawBackground(){const{backgroundColor:e,grid:{circular:s}}=this.options;if(e){const o=this.ctx;o.save(),o.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),o.closePath(),o.fillStyle=e,o.fill(),o.restore()}}drawGrid(){const e=this.ctx,s=this.options,{angleLines:o,grid:a,border:c}=s,d=this._pointLabels.length;let h,g,_;if(s.pointLabels.display&&drawPointLabels(this,d),a.display&&this.ticks.forEach((b,j)=>{if(j!==0||j===0&&this.min<0){g=this.getDistanceFromCenterForValue(b.value);const $=this.getContext(j),et=a.setContext($),_e=c.setContext($);drawRadiusLine(this,et,g,d,_e)}}),o.display){for(e.save(),h=d-1;h>=0;h--){const b=o.setContext(this.getPointLabelContext(h)),{color:j,lineWidth:$}=b;!$||!j||(e.lineWidth=$,e.strokeStyle=j,e.setLineDash(b.borderDash),e.lineDashOffset=b.borderDashOffset,g=this.getDistanceFromCenterForValue(s.ticks.reverse?this.min:this.max),_=this.getPointPosition(h,g),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(_.x,_.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,s=this.options,o=s.ticks;if(!o.display)return;const a=this.getIndexAngle(0);let c,d;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((h,g)=>{if(g===0&&this.min>=0&&!s.reverse)return;const _=o.setContext(this.getContext(g)),b=toFont(_.font);if(c=this.getDistanceFromCenterForValue(this.ticks[g].value),_.showLabelBackdrop){e.font=b.string,d=e.measureText(h.label).width,e.fillStyle=_.backdropColor;const j=toPadding(_.backdropPadding);e.fillRect(-d/2-j.left,-c-b.size/2-j.top,d+j.width,b.size+j.height)}renderText(e,h.label,0,-c,b,{color:_.color,strokeColor:_.textStrokeColor,strokeWidth:_.textStrokeWidth})}),e.restore()}drawTitle(){}}dn(RadialLinearScale,"id","radialLinear"),dn(RadialLinearScale,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ticks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),dn(RadialLinearScale,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),dn(RadialLinearScale,"descriptors",{angleLines:{_fallback:"grid"}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(i,e){return i-e}function parse(i,e){if(isNullOrUndef(e))return null;const s=i._adapter,{parser:o,round:a,isoWeekday:c}=i._parseOpts;let d=e;return typeof o=="function"&&(d=o(d)),isNumberFinite(d)||(d=typeof o=="string"?s.parse(d,o):s.parse(d)),d===null?null:(a&&(d=a==="week"&&(isNumber(c)||c===!0)?s.startOf(d,"isoWeek",c):s.startOf(d,a)),+d)}function determineUnitForAutoTicks(i,e,s,o){const a=UNITS.length;for(let c=UNITS.indexOf(i);c<a-1;++c){const d=INTERVALS[UNITS[c]],h=d.steps?d.steps:Number.MAX_SAFE_INTEGER;if(d.common&&Math.ceil((s-e)/(h*d.size))<=o)return UNITS[c]}return UNITS[a-1]}function determineUnitForFormatting(i,e,s,o,a){for(let c=UNITS.length-1;c>=UNITS.indexOf(s);c--){const d=UNITS[c];if(INTERVALS[d].common&&i._adapter.diff(a,o,d)>=e-1)return d}return UNITS[s?UNITS.indexOf(s):0]}function determineMajorUnit(i){for(let e=UNITS.indexOf(i)+1,s=UNITS.length;e<s;++e)if(INTERVALS[UNITS[e]].common)return UNITS[e]}function addTick(i,e,s){if(!s)i[e]=!0;else if(s.length){const{lo:o,hi:a}=_lookup(s,e),c=s[o]>=e?s[o]:s[a];i[c]=!0}}function setMajorTicks(i,e,s,o){const a=i._adapter,c=+a.startOf(e[0].value,o),d=e[e.length-1].value;let h,g;for(h=c;h<=d;h=+a.add(h,1,o))g=s[h],g>=0&&(e[g].major=!0);return e}function ticksFromTimestamps(i,e,s){const o=[],a={},c=e.length;let d,h;for(d=0;d<c;++d)h=e[d],a[h]=d,o.push({value:h,major:!1});return c===0||!s?o:setMajorTicks(i,o,a,s)}class TimeScale extends Scale{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const o=e.time||(e.time={}),a=this._adapter=new adapters._date(e.adapters.date);a.init(s),mergeIf(o.displayFormats,a.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:parse(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,o=e.time.unit||"day";let{min:a,max:c,minDefined:d,maxDefined:h}=this.getUserBounds();function g(_){!d&&!isNaN(_.min)&&(a=Math.min(a,_.min)),!h&&!isNaN(_.max)&&(c=Math.max(c,_.max))}(!d||!h)&&(g(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&g(this.getMinMax(!1))),a=isNumberFinite(a)&&!isNaN(a)?a:+s.startOf(Date.now(),o),c=isNumberFinite(c)&&!isNaN(c)?c:+s.endOf(Date.now(),o)+1,this.min=Math.min(a,c-1),this.max=Math.max(a+1,c)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],o=e[e.length-1]),{min:s,max:o}}buildTicks(){const e=this.options,s=e.time,o=e.ticks,a=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const c=this.min,d=this.max,h=_filterBetween(a,c,d);return this._unit=s.unit||(o.autoSkip?determineUnitForAutoTicks(s.minUnit,this.min,this.max,this._getLabelCapacity(c)):determineUnitForFormatting(this,h.length,s.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(a),e.reverse&&h.reverse(),ticksFromTimestamps(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,o=0,a,c;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?s=1-a:s=(this.getDecimalForValue(e[1])-a)/2,c=this.getDecimalForValue(e[e.length-1]),e.length===1?o=c:o=(c-this.getDecimalForValue(e[e.length-2]))/2);const d=e.length<3?.5:.25;s=_limitValue(s,0,d),o=_limitValue(o,0,d),this._offsets={start:s,end:o,factor:1/(s+1+o)}}_generate(){const e=this._adapter,s=this.min,o=this.max,a=this.options,c=a.time,d=c.unit||determineUnitForAutoTicks(c.minUnit,s,o,this._getLabelCapacity(s)),h=valueOrDefault(a.ticks.stepSize,1),g=d==="week"?c.isoWeekday:!1,_=isNumber(g)||g===!0,b={};let j=s,$,et;if(_&&(j=+e.startOf(j,"isoWeek",g)),j=+e.startOf(j,_?"day":d),e.diff(o,s,d)>1e5*h)throw new Error(s+" and "+o+" are too far apart with stepSize of "+h+" "+d);const _e=a.ticks.source==="data"&&this.getDataTimestamps();for($=j,et=0;$<o;$=+e.add($,h,d),et++)addTick(b,$,_e);return($===o||a.bounds==="ticks"||et===1)&&addTick(b,$,_e),Object.keys(b).sort(sorter).map(nt=>+nt)}getLabelForValue(e){const s=this._adapter,o=this.options.time;return o.tooltipFormat?s.format(e,o.tooltipFormat):s.format(e,o.displayFormats.datetime)}format(e,s){const a=this.options.time.displayFormats,c=this._unit,d=s||a[c];return this._adapter.format(e,d)}_tickFormatFunction(e,s,o,a){const c=this.options,d=c.ticks.callback;if(d)return callback(d,[e,s,o],this);const h=c.time.displayFormats,g=this._unit,_=this._majorUnit,b=g&&h[g],j=_&&h[_],$=o[s],et=_&&j&&$&&$.major;return this._adapter.format(e,a||(et?j:b))}generateTickLabels(e){let s,o,a;for(s=0,o=e.length;s<o;++s)a=e[s],a.label=this._tickFormatFunction(a.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+o)*s.factor)}getValueForPixel(e){const s=this._offsets,o=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,o=this.ctx.measureText(e).width,a=toRadians(this.isHorizontal()?s.maxRotation:s.minRotation),c=Math.cos(a),d=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:o*c+h*d,h:o*d+h*c}}_getLabelCapacity(e){const s=this.options.time,o=s.displayFormats,a=o[s.unit]||o.millisecond,c=this._tickFormatFunction(e,0,ticksFromTimestamps(this,[e],this._majorUnit),a),d=this._getLabelSize(c),h=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],s,o;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(s=0,o=a.length;s<o;++s)e=e.concat(a[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,o;if(e.length)return e;const a=this.getLabels();for(s=0,o=a.length;s<o;++s)e.push(parse(this,a[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _arrayUnique(e.sort(sorter))}}dn(TimeScale,"id","time"),dn(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate(i,e,s){let o=0,a=i.length-1,c,d,h,g;s?(e>=i[o].pos&&e<=i[a].pos&&({lo:o,hi:a}=_lookupByKey(i,"pos",e)),{pos:c,time:h}=i[o],{pos:d,time:g}=i[a]):(e>=i[o].time&&e<=i[a].time&&({lo:o,hi:a}=_lookupByKey(i,"time",e)),{time:c,pos:h}=i[o],{time:d,pos:g}=i[a]);const _=d-c;return _?h+(g-h)*(e-c)/_:h}class TimeSeriesScale extends TimeScale{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=interpolate(s,this.min),this._tableRange=interpolate(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:o}=this,a=[],c=[];let d,h,g,_,b;for(d=0,h=e.length;d<h;++d)_=e[d],_>=s&&_<=o&&a.push(_);if(a.length<2)return[{time:s,pos:0},{time:o,pos:1}];for(d=0,h=a.length;d<h;++d)b=a[d+1],g=a[d-1],_=a[d],Math.round((b+g)/2)!==_&&c.push({time:_,pos:d/(h-1)});return c}_generate(){const e=this.min,s=this.max;let o=super.getDataTimestamps();return(!o.includes(e)||!o.length)&&o.splice(0,0,e),(!o.includes(s)||o.length===1)&&o.push(s),o.sort((a,c)=>a-c)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),o=this.getLabelTimestamps();return s.length&&o.length?e=this.normalize(s.concat(o)):e=s.length?s:o,e=this._cache.all=e,e}getDecimalForValue(e){return(interpolate(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,o=this.getDecimalForPixel(e)/s.factor-s.end;return interpolate(this._table,o*this._tableRange+this._minPos,!0)}}dn(TimeSeriesScale,"id","timeseries"),dn(TimeSeriesScale,"defaults",TimeScale.defaults);var scales=Object.freeze({__proto__:null,CategoryScale,LinearScale,LogarithmicScale,RadialLinearScale,TimeScale,TimeSeriesScale});const registerables=[controllers,elements,plugins,scales],defaultDatasetIdKey="label";function reforwardRef(i,e){typeof i=="function"?i(e):i&&(i.current=e)}function setOptions(i,e){const s=i.options;s&&e&&Object.assign(s,e)}function setLabels(i,e){i.labels=e}function setDatasets(i,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultDatasetIdKey;const o=[];i.datasets=e.map(a=>{const c=i.datasets.find(d=>d[s]===a[s]);return!c||!a.data||o.includes(c)?{...a}:(o.push(c),Object.assign(c,a),c)})}function cloneData(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultDatasetIdKey;const s={labels:[],datasets:[]};return setLabels(s,i.labels),setDatasets(s,i.datasets,e),s}function ChartComponent(i,e){const{height:s=150,width:o=300,redraw:a=!1,datasetIdKey:c,type:d,data:h,options:g,plugins:_=[],fallbackContent:b,updateMode:j,...$}=i,et=reactExports.useRef(null),_e=reactExports.useRef(),nt=()=>{et.current&&(_e.current=new Chart$1(et.current,{type:d,data:cloneData(h,c),options:g&&{...g},plugins:_}),reforwardRef(e,_e.current))},st=()=>{reforwardRef(e,null),_e.current&&(_e.current.destroy(),_e.current=null)};return reactExports.useEffect(()=>{!a&&_e.current&&g&&setOptions(_e.current,g)},[a,g]),reactExports.useEffect(()=>{!a&&_e.current&&setLabels(_e.current.config.data,h.labels)},[a,h.labels]),reactExports.useEffect(()=>{!a&&_e.current&&h.datasets&&setDatasets(_e.current.config.data,h.datasets,c)},[a,h.datasets]),reactExports.useEffect(()=>{_e.current&&(a?(st(),setTimeout(nt)):_e.current.update(j))},[a,g,h.labels,h.datasets,j]),reactExports.useEffect(()=>{_e.current&&(st(),setTimeout(nt))},[d]),reactExports.useEffect(()=>(nt(),()=>st()),[]),React.createElement("canvas",Object.assign({ref:et,role:"img",height:s,width:o},$),b)}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(i,e){return Chart$1.register(e),reactExports.forwardRef((s,o)=>React.createElement(Chart,Object.assign({},s,{ref:o,type:i})))}const Pie=createTypedChart("pie",PieController),AdminDashboard=()=>{const[i,e]=reactExports.useState([]),[s,o]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{try{const _=await api.get("/admin-dashboard/get-statistics");e(_.data.elibraryStats),o(_.data.totalCount)}catch(_){console.error("Error fetching data:",_)}})()},[]);const a=i.map(g=>g.program),c=i.map(g=>g.percentage),d={labels:a,datasets:[{data:c,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#8A2BE2","#32CD32","#FFA500","#00FFFF","#FF4500","#00BFFF","#8B008B","#228B22","#4B0082","#800000","#D2691E","#800080","#2E8B57","#9932CC","#808000"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","#8A2BE2","#32CD32","#FFA500","#00FFFF","#FF4500","#00BFFF","#8B008B","#228B22","#4B0082","#800000","#D2691E","#800080","#2E8B57","#9932CC","#808000"]}]},h={layout:{padding:{left:10,right:20,top:0,bottom:0}},plugins:{legend:{position:"left",labels:{color:"#4E7133",font:{family:"Lexend",weight:"900",size:"14"}}},tooltip:{callbacks:{label:g=>{var $;const _=g.label||"",b=g.formattedValue||"",j=(($=i[g.dataIndex])==null?void 0:$.count)||"";return`${_}: ${b}%, Count: ${j}`}}}},aspectRatio:1.5};return jsxRuntimeExports.jsxs("div",{className:"dashboard-container",children:[jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsxs("div",{className:"chart-container",children:[jsxRuntimeExports.jsx("h2",{children:"Total User Statistics"}),jsxRuntimeExports.jsx(Pie,{data:d,options:h}),jsxRuntimeExports.jsxs("h3",{children:["Total User Count: ",s]})]})]})};function App(){return jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/auth",element:jsxRuntimeExports.jsx(Authentication,{})}),jsxRuntimeExports.jsx(Route,{path:"/welcome",element:jsxRuntimeExports.jsx(Spinner,{text:"Welcome to our E-Library..."})}),jsxRuntimeExports.jsxs(Route,{element:jsxRuntimeExports.jsx(PersistLogin,{}),children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/courses/:programID",element:jsxRuntimeExports.jsx(Courses,{})}),jsxRuntimeExports.jsx(Route,{path:"/verify/:email",element:jsxRuntimeExports.jsx(VerificationCodeInput,{})}),jsxRuntimeExports.jsx(Route,{path:"/form",element:jsxRuntimeExports.jsx(Form,{})}),jsxRuntimeExports.jsx(Route,{path:"/learning-materials/:courseID",element:jsxRuntimeExports.jsx(LearningMaterials,{})}),jsxRuntimeExports.jsx(Route,{path:"/upload-learning-material",element:jsxRuntimeExports.jsx(UploadLearningMaterial,{})}),jsxRuntimeExports.jsx(Route,{path:"/view-material/:materialID",element:jsxRuntimeExports.jsx(SelectedPdfPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/admin-dashboard",element:jsxRuntimeExports.jsx(AdminDashboard,{})})]})]})})})}Chart$1.register(...registerables);client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(App,{})}));
